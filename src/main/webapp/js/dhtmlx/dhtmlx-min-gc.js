dhtmlx=function(a){for(var b in a)dhtmlx[b]=a[b];return dhtmlx};dhtmlx.extend_api=function(a,b,c){var d=window[a];d&&(window[a]=function(a){if(a&&"object"==typeof a&&!a.tagName){var c=d.apply(this,b._init?b._init(a):arguments),g;for(g in dhtmlx)if(b[g])this[b[g]](dhtmlx[g]);for(g in a)if(b[g])this[b[g]](a[g]);else 0==g.indexOf("on")&&this.attachEvent(g,a[g])}else c=d.apply(this,arguments);b._patch&&b._patch(this);return c||this},window[a].prototype=d.prototype,c&&dhtmlXHeir(window[a].prototype,c))};
dhtmlxAjax={get:function(a,b){var c=new dtmlXMLLoaderObject(!0);c.async=3>arguments.length;c.waitCall=b;c.loadXML(a);return c},post:function(a,b,c){var d=new dtmlXMLLoaderObject(!0);d.async=4>arguments.length;d.waitCall=c;d.loadXML(a,!0,b);return d},getSync:function(a){return this.get(a,null,!0)},postSync:function(a,b){return this.post(a,b,null,!0)}};
function dtmlXMLLoaderObject(a,b,c,d){this.xmlDoc="";this.async="undefined"!=typeof c?c:!0;this.onloadAction=a||null;this.mainObject=b||null;this.waitCall=null;this.rSeed=d||!1;return this}dtmlXMLLoaderObject.count=0;
dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var b=!0;return this.check=function(){if(a&&null!=a.onloadAction&&(!a.xmlDoc.readyState||4==a.xmlDoc.readyState)&&b){b=!1;dtmlXMLLoaderObject.count++;if("function"==typeof a.onloadAction)a.onloadAction(a.mainObject,null,null,null,a);a.waitCall&&(a.waitCall.call(this,a),a.waitCall=null)}}};
dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,b){if(this.xmlDoc.responseXML){var c=this.xmlDoc.responseXML.getElementsByTagName(a);0==c.length&&-1!=a.indexOf(":")&&(c=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]));c=c[0]}else c=this.xmlDoc.documentElement;if(c)return this._retry=!1,c;if(!this._retry&&_isIE)return this._retry=!0,b=this.xmlDoc,this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(a,b);dhtmlxError.throwError("LoadXML","Incorrect XML",
[b||this.xmlDoc,this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(a,b){_isIE?(this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(a)):this.xmlDoc=(new DOMParser).parseFromString(a,"text/xml");if(!b){if(this.onloadAction)this.onloadAction(this.mainObject,null,null,null,this);this.waitCall&&(this.waitCall(),this.waitCall=null)}};
dtmlXMLLoaderObject.prototype.loadXML=function(a,b,c,d){this.rSeed&&(a+=(-1!=a.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf());this.filePath=a;this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this));this.xmlDoc.open(b?"POST":"GET",a,this.async);d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type",
"text/xml")):b&&this.xmlDoc.setRequestHeader("Content-type",this.contenttype||"application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(c);this.async||(new this.waitLoadFunction(this))()};
dtmlXMLLoaderObject.prototype.destructor=function(){return this.setXSLParamValue=this.getXMLTopNode=this.xmlNodeToJSON=this.doSerialization=this.loadXMLString=this.loadXML=this.doXSLTransToString=this.doXSLTransToObject=this.doXPathOpera=this.doXPath=this.xmlDoc=this.mainObject=this.onloadAction=this.filePath=this.rSeed=this.async=this._retry=this._getAllNamedChilds=this._filterXPath=null};
dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var b={},c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;b._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(c=0;c<a.childNodes.length;c++){var d=a.childNodes[c].tagName;d&&(b[d]||(b[d]=[]),b[d].push(this.xmlNodeToJSON(a.childNodes[c])))}return b};function callerFunction(a,b){return this.handler=function(c){c||(c=window.event);a(c,b);return!0}}function getAbsoluteLeft(a){return getOffset(a).left}
function getAbsoluteTop(a){return getOffset(a).top}function getOffsetSum(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:b,left:c}}
function getOffsetRect(a){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,d=a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0);return{top:Math.round(a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0)),left:Math.round(d)}}function getOffset(a){return a.getBoundingClientRect?getOffsetRect(a):getOffsetSum(a)}
function convertStringToBoolean(a){"string"==typeof a&&(a=a.toLowerCase());switch(a){case "1":case "true":case "yes":case "y":case 1:case !0:return!0;default:return!1}}function getUrlSymbol(a){return-1!=a.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0;this.tempDOMM=this.tempDOMU=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}
dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,b){a.onmousedown=this.preCreateDragCopy;a.dragStarter=b;this.addDragLanding(a,b)};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,b){a.dragLanding=b};
dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){if(!a&&!window.event||2!=(a||event).button){if(window.dhtmlDragAndDrop.waitDrag)return window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1;window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(a);window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;
window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=(new Date).valueOf();a&&a.preventDefault&&a.preventDefault();return!1}};
dhtmlDragAndDropObject.prototype.callDrag=function(a){a||(a=window.event);dragger=window.dhtmlDragAndDrop;if(!(100>(new Date).valueOf()-dragger.downtime)){if(!dragger.dragNode)if(dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=
0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}else return dragger.stopDrag(a,!0);if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var b=dragger.gldragNode;dragger.gldragNode.old&&(b=dragger.gldragNode.old);b.parentNode.removeChild(b);var c=dragger.dragNode.pWindow;b.pWindow&&b.pWindow.dhtmlDragAndDrop.lastLanding&&b.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(b.pWindow.dhtmlDragAndDrop.lastLanding);_isIE?(b=document.createElement("Div"),b.innerHTML=
dragger.dragNode.outerHTML,dragger.dragNode=b.childNodes[0]):dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);c.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=a.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=a.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||
document.documentElement.scrollTop)+"px";dragger.checkLanding(a.srcElement?a.srcElement:a.target,a)}};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var b=parent.frames[window.name].frameElement.offsetParent,c=0,d=0;b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;parent.dhtmlDragAndDrop&&(b=parent.dhtmlDragAndDrop.calculateFramePosition(1),c+=1*b.split("_")[0],d+=1*b.split("_")[1]);if(a)return c+"_"+d;this.fx=c;this.fy=d}return"0_0"};
dhtmlDragAndDropObject.prototype.checkLanding=function(a,b){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,b.clientX,b.clientY,b),this.lastLanding_scr=_isIE?b.srcElement:b.target):a&&"BODY"!=a.tagName?this.checkLanding(a.parentNode,b):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,b.clientX,b.clientY,b),this.lastLanding=
0,this._onNotFound&&this._onNotFound())};
dhtmlDragAndDropObject.prototype.stopDrag=function(a,b){dragger=window.dhtmlDragAndDrop;if(!b){dragger.stopFrameRoute();var c=dragger.lastLanding;dragger.lastLanding=null;c&&c.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,c,_isIE?event.srcElement:a.target)}dragger.lastLanding=null;dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=
0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var b=0;b<window.frames.length;b++)try{window.frames[b]!=a&&window.frames[b].dhtmlDragAndDrop&&window.frames[b].dhtmlDragAndDrop.stopFrameRoute(window)}catch(c){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(d){}};
dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,b){a&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&b&&(!_isFF||1.8>_FFrv)&&window.dhtmlDragAndDrop.calculateFramePosition());
try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(c){}for(var d=0;d<window.frames.length;d++)try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||b?1:0)}catch(e){}};_OperaRv=_KHTMLrv=_FFrv=_isChrome=_isMacOS=_isKHTML=_isOpera=_isIE=_isFF=!1;-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0);-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&(_isChrome=!0);
-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),525<_KHTMLrv?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1==navigator.appVersion.indexOf("MSIE 8.0")&&-1==navigator.appVersion.indexOf("MSIE 9.0")&&
-1==navigator.appVersion.indexOf("MSIE 10.0")||"BackCompat"==document.compatMode)||(_isIE=8):(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1]));
dtmlXMLLoaderObject.prototype.doXPath=function(a,b,c,d){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(a,b);if(_isIE)return b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),null!=c&&b.setProperty("SelectionNamespaces","xmlns:xsl='"+c+"'"),"single"==d?b.selectSingleNode(a):b.selectNodes(a)||[];var e=b;b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML);b||dhtmlxError.throwError("LoadXML",
"Incorrect XML",[b||this.xmlDoc,this.mainObject]);-1!=b.nodeName.indexOf("document")?e=b:(e=b,b=b.ownerDocument);var f=XPathResult.ANY_TYPE;"single"==d&&(f=XPathResult.FIRST_ORDERED_NODE_TYPE);d=[];a=b.evaluate(a,e,function(){return c},f,null);if(f==XPathResult.FIRST_ORDERED_NODE_TYPE)return a.singleNodeValue;for(f=a.iterateNext();f;)d[d.length]=f,f=a.iterateNext();return d};function M(){this.catches||(this.catches=[]);return this}M.prototype.catchError=function(a,b){this.catches[a]=b};
M.prototype.throwError=function(a,b,c){if(this.catches[a])return this.catches[a](a,b,c);if(this.catches.ALL)return this.catches.ALL(a,b,c);alert("Error type: "+a+"\nDescription: "+b);return null};window.dhtmlxError=new M;
dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,b){var c=a.replace(/[\/]+/gi,"/").split("/"),d=null,e=1;if(!c.length)return[];if("."==c[0])d=[b];else if(""==c[0])d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(c[e].replace(/\[[^\]]*\]/g,"")),e++;else return[];for(;e<c.length;e++)d=this._getAllNamedChilds(d,c[e]);-1!=c[e-1].indexOf("[")&&(d=this._filterXPath(d,c[e-1]));return d};
dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){var c=[];b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,"");for(var d=0;d<a.length;d++)a[d].getAttribute(b)&&(c[c.length]=a[d]);return c};
dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=[];_isKHTML&&(b=b.toUpperCase());for(var d=0;d<a.length;d++)for(var e=0;e<a[d].childNodes.length;e++)_isKHTML?a[d].childNodes[e].tagName&&a[d].childNodes[e].tagName.toUpperCase()==b&&(c[c.length]=a[d].childNodes[e]):a[d].childNodes[e].tagName==b&&(c[c.length]=a[d].childNodes[e]);return c};function dhtmlXHeir(a,b){for(var c in b)"function"==typeof b[c]&&(a[c]=b[c]);return a}
function dhtmlxEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,b,c){c||(c=this.xslDoc);c.responseXML&&(c=c.responseXML);a=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",c,"http://www.w3.org/1999/XSL/Transform","single");null!=a&&(a.firstChild.nodeValue=b)};
dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,b){a||(a=this.xslDoc);a.responseXML&&(a=a.responseXML);b||(b=this.xmlDoc);b.responseXML&&(b=b.responseXML);if(_isIE){d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{b.transformNodeToObject(a,d)}catch(c){d=b.transformNode(a)}}else{this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a));var d=this.XSLProcessor.transformToDocument(b)}return d};
dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,b){var c=this.doXSLTransToObject(a,b);return"string"==typeof c?c:this.doSerialization(c)};dtmlXMLLoaderObject.prototype.doSerialization=function(a){a||(a=this.xmlDoc);a.responseXML&&(a=a.responseXML);return _isIE?a.xml:(new XMLSerializer).serializeToString(a)};
dhtmlxEventable=function(a){a.attachEvent=function(a,c,d){a="ev_"+a.toLowerCase();this[a]||(this[a]=new this.eventCatcher(d||this));return a+":"+this[a].addEvent(c)};a.callEvent=function(a,c){a="ev_"+a.toLowerCase();return this[a]?this[a].apply(this,c):!0};a.checkEvent=function(a){return!!this["ev_"+a.toLowerCase()]};a.eventCatcher=function(a){var c=[],d=function(){for(var d=!0,f=0;f<c.length;f++)if(null!=c[f])var g=c[f].apply(a,arguments),d=d&&g;return d};d.addEvent=function(a){"function"!=typeof a&&
(a=eval(a));return a?c.push(a)-1:!1};d.removeEvent=function(a){c[a]=null};return d};a.detachEvent=function(a){!1!=a&&(a=a.split(":"),this[a[0]].removeEvent(a[1]))};a.detachAllEvents=function(){for(var a in this)0==a.indexOf("ev_")&&(this[a]=null)};a=null};window.dhtmlx||(window.dhtmlx={});
(function(){function a(a,b){var d=a.callback;c(!1);a.box.parentNode.removeChild(a.box);l=a.box=null;d&&d(b)}function b(b){if(l){b=b||event;var c=b.which||event.keyCode;dhtmlx.message.keyboard&&((13==c||32==c)&&a(l,!0),27==c&&a(l,!1));b.preventDefault&&b.preventDefault();return!(b.cancelBubble=!0)}}function c(a){c.cover||(c.cover=document.createElement("DIV"),c.cover.onkeydown=b,c.cover.className="dhx_modal_cover",document.body.appendChild(c.cover));c.cover.style.display=a?"inline-block":"none"}function d(a,
b){return"<div class='dhtmlx_popup_button' result='"+b+"' ><div>"+a+"</div></div>"}function e(a){m.area||(m.area=document.createElement("DIV"),m.area.className="dhtmlx_message_area",m.area.style[m.position]="5px",document.body.appendChild(m.area));m.hide(a.id);var b=document.createElement("DIV");b.innerHTML="<div>"+a.text+"</div>";b.className="dhtmlx-info dhtmlx-"+a.type;b.onclick=function(){m.hide(a.id);a=null};"bottom"==m.position&&m.area.firstChild?m.area.insertBefore(b,m.area.firstChild):m.area.appendChild(b);
0<a.expire&&(m.timers[a.id]=window.setTimeout(function(){m.hide(a.id)},a.expire));m.pull[a.id]=b;b=null;return a.id}function f(b,c,e){var f=document.createElement("DIV");f.className=" dhtmlx_modal_box dhtmlx-"+b.type;f.setAttribute("dhxbox",1);var g="";b.width&&(f.style.width=b.width);b.height&&(f.style.height=b.height);b.title&&(g+='<div class="dhtmlx_popup_title">'+b.title+"</div>");g+='<div class="dhtmlx_popup_text"><span>'+(b.content?"":b.text)+'</span></div><div  class="dhtmlx_popup_controls">';
c&&(g+=d(b.ok||"OK",!0));e&&(g+=d(b.cancel||"Cancel",!1));if(b.buttons)for(var h=0;h<b.buttons.length;h++)g+=d(b.buttons[h],h);f.innerHTML=g+"</div>";b.content&&(g=b.content,"string"==typeof g&&(g=document.getElementById(g)),"none"==g.style.display&&(g.style.display=""),f.childNodes[b.title?1:0].appendChild(g));f.onclick=function(c){c=c||event;c=c.target||c.srcElement;c.className||(c=c.parentNode);"dhtmlx_popup_button"==c.className&&(c=c.getAttribute("result"),a(b,"true"==c||("false"==c?!1:c)))};
b.box=f;if(c||e)l=b;return f}function g(a,d,e){d=a.tagName?a:f(a,d,e);a.hidden||c(!0);document.body.appendChild(d);e=a.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-d.offsetWidth)/2));var g=a.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-d.offsetHeight)/2));d.style.top="top"==a.position?"-3px":g+"px";d.style.left=e+"px";d.onkeydown=b;d.focus();a.hidden&&dhtmlx.modalbox.hide(d);return d}function k(a,b,c){"object"!=typeof a&&
("function"==typeof b&&(c=b,b=""),a={text:a,type:b,callback:c});return a}function h(a,b,c,d){"object"!=typeof a&&(a={text:a,type:b,expire:c,id:d});a.id=a.id||m.uid();a.expire=a.expire||m.expire;return a}var l=null;document.attachEvent?document.attachEvent("onkeydown",b):document.addEventListener("keydown",b,!0);dhtmlx.alert=function(){var a=k.apply(this,arguments);a.type=a.type||"confirm";return g(a,!0,!1)};dhtmlx.confirm=function(){var a=k.apply(this,arguments);a.type=a.type||"alert";return g(a,
!0,!0)};dhtmlx.modalbox=function(){var a=k.apply(this,arguments);a.type=a.type||"alert";return g(a)};dhtmlx.modalbox.hide=function(a){for(;a&&a.getAttribute&&!a.getAttribute("dhxbox");)a=a.parentNode;a&&(a.parentNode.removeChild(a),c(!1))};var m=dhtmlx.message=function(a,b,c,d){a=h.apply(this,arguments);a.type=a.type||"info";switch(a.type.split("-")[0]){case "alert":return g(a,!0,!1);case "confirm":return g(a,!0,!0);case "modalbox":return g(a);default:return e(a)}};m.seed=(new Date).valueOf();m.uid=
function(){return m.seed++};m.expire=4E3;m.keyboard=!0;m.position="top";m.pull={};m.timers={};m.hideAll=function(){for(var a in m.pull)m.hide(a)};m.hide=function(a){var b=m.pull[a];b&&b.parentNode&&(window.setTimeout(function(){b.parentNode.removeChild(b);b=null},2E3),b.className+=" hidden",m.timers[a]&&window.clearTimeout(m.timers[a]),delete m.pull[a])}})();function dhtmlXAccordionItem(){}
function dhtmlXAccordion(a,b){if(window.dhtmlXContainer){var c=this;this.skin=null!=b?b:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue";if(a==document.body){this._isAccFS=!0;document.body.className+=" dhxacc_fullscreened";var d=document.createElement("DIV");d.className="dhxcont_global_layout_area";a.appendChild(d);this.cont=new dhtmlXContainer(a);this.cont.setContent(d);a.adjustContent(a,0);this.base=document.createElement("DIV");this.base.className="dhx_acc_base_"+
this.skin;this.base.style.overflow="hidden";this.base.style.position="absolute";this._adjustToFullScreen=function(){this.base.style.left="2px";this.base.style.top="2px";this.base.style.width=parseInt(d.childNodes[0].style.width)-4+"px";this.base.style.height=parseInt(d.childNodes[0].style.height)-4+"px"};this._adjustToFullScreen();d.childNodes[0].appendChild(this.base);this._resizeTM=null;this._resizeTMTime=400;this._doOnResize=function(){window.clearTimeout(c._resizeTM);c._resizeTM=window.setTimeout(function(){c._adjustAccordion()},
c._resizeTMTime)};this._adjustAccordion=function(){document.body.adjustContent(document.body,0);this._adjustToFullScreen();this.setSizes()};dhtmlxEvent(window,"resize",this._doOnResize)}else this.base="string"==typeof a?document.getElementById(a):a,this.base.className="dhx_acc_base_"+this.skin,this.base.innerHTML="";this.w=this.base.offsetWidth;this.h=this.base.offsetHeight;this.skinParams={dhx_blue:{cell_height:24,cell_space:1,content_offset:1},dhx_skyblue:{cell_height:27,cell_space:-1,content_offset:-1},
dhx_black:{cell_height:24,cell_space:1,content_offset:1},dhx_web:{cell_height:26,cell_space:9,content_offset:0,cell_pading_max:1,cell_pading_min:0},dhx_terrace:{cell_height:37,cell_space:-1,content_offset:-1}};this.sk=this.skinParams[this.skin];this.setSkinParameters=function(a,b){isNaN(a)||(this.sk.cell_space=a);isNaN(b)||(this.sk.content_offset=b);this._reopenItem()};this.setSkin=function(a){if(this.skinParams[a]){this.skin=a;this.sk=this.skinParams[this.skin];this.base.className="dhx_acc_base_"+
this.skin+(this._r?" dhx_acc_rtl":"");for(var b in this.idPull)this.idPull[b].skin=this.skin;this._reopenItem()}};this.idPull={};this.opened=null;this.cells=function(a){return null==this.idPull[a]?null:this.idPull[a]};this.itemH=90;this.multiMode=!1;this.enableMultiMode=function(){var a=0,b;for(b in this.idPull)a++;0==a&&(this.userOffset||(this.skinParams.dhx_skyblue.cell_space=3),this.multiMode=!0);"dhx_terrace"==this.skin&&(this.skinParams.dhx_terrace.cell_space=12)};this.userOffset=!1;this.setOffset=
function(a,b){this.userOffset=!0;isNaN(a)||(this.skinParams[this.skin].cell_space=a);isNaN(b)||(this.skinParams[this.skin].content_offset=b);this.setSizes()};this.imagePath="";this.setIconsPath=function(a){this.imagePath=a};this.addItem=function(a,b){if(this.multiMode)var d=this._lastVisible();var k=document.createElement("DIV");k.className="dhx_acc_item";k.dir="ltr";k._isAcc=!0;k.skin=this.skin;this.base.appendChild(k);this.multiMode&&(k.h=this.itemH);var h=document.createElement("DIV");h._idd=a;
h.className="dhx_acc_item_label";h.innerHTML="<span>"+b+"</span><div class='dhx_acc_item_label_btmbrd'>&nbsp;</div><div class='dhx_acc_item_arrow'></div><div class='dhx_acc_hdr_line_l'></div><div class='dhx_acc_hdr_line_r'></div>";h.onselectstart=function(a){a=a||event;a.returnValue=!1};h.onclick=function(){if(c.multiMode||!c.idPull[this._idd]._isActive)c.multiMode?(c.idPull[this._idd]._isActive?c.checkEvent("onBeforeActive")?c.callEvent("onBeforeActive",[this._idd,"close"])&&c.closeItem(this._idd,
"dhx_accord_outer_event"):c.closeItem(this._idd,"dhx_accord_outer_event"):c.checkEvent("onBeforeActive")?c.callEvent("onBeforeActive",[this._idd,"open"])&&c.openItem(this._idd,"dhx_accord_outer_event"):c.openItem(this._idd,"dhx_accord_outer_event"),c._autoHeightEnabled&&c.setSizes()):c.checkEvent("onBeforeActive")?c.callEvent("onBeforeActive",[this._idd,"open"])&&c.openItem(this._idd,"dhx_accord_outer_event"):c.openItem(this._idd,"dhx_accord_outer_event")};h.onmouseover=function(){this.className=
"dhx_acc_item_label dhx_acc_item_lavel_hover"};h.onmouseout=function(){this.className="dhx_acc_item_label"};k.appendChild(h);h=document.createElement("DIV");h.className="dhxcont_global_content_area";k.appendChild(h);(new dhtmlXContainer(k)).setContent(h);"dhx_terrace"==this.skin&&!0===this._hideBorders&&k._setPadding([0,-1,2,0]);k.adjustContent(k,this.sk.cell_height+this.sk.content_offset);k._id=a;this.idPull[a]=k;k.getId=function(){return this._id};k.setText=function(a){c.setText(this._id,a)};k.getText=
function(){return c.getText(this._id)};k.open=function(){c.openItem(this._id)};k.isOpened=function(){return c.isActive(this._id)};k.close=function(){c.closeItem(this._id)};k.setIcon=function(a){c.setIcon(this._id,a)};k.clearIcon=function(){c.clearIcon(this._id)};k.dock=function(){c.dockItem(this._id)};k.undock=function(){c.undockItem(this._id)};k.show=function(){c.showItem(this._id)};k.hide=function(){c.hideItem(this._id)};k.setHeight=function(a){c.setItemHeight(this._id,a)};k.moveOnTop=function(){c.moveOnTop(this._id)};
k._doOnAttachMenu=function(){c._reopenItem()};k._doOnAttachToolbar=function(){c._reopenItem()};k._doOnAttachStatusBar=function(){c._reopenItem()};k._doOnFrameContentLoaded=function(){c.callEvent("onContentLoaded",[this])};this.multiMode&&null!=d&&(!0==d._isActive?(this.idPull[d._id].adjustContent(this.idPull[d._id],this.sk.cell_height+this.sk.content_offset,null,null,this.sk.cell_space),this.idPull[d._id].updateNestedObjects()):this.idPull[d._id].style.height=this.sk.cell_height+this.sk.cell_space+
"px",d=null);d=this._enableOpenEffect;this._enableOpenEffect=!1;this.openItem(a);this._enableOpenEffect=d;this.multiMode?this.setSizes():this._defineLastItem();return k};this.openItem=function(a,b,c){this.multiMode&&this._checkAutoHeight();if(!this._openBuzy)if(this._enableOpenEffect&&!c)this.multiMode&&this.idPull[a]._isActive||this._openWithEffect(a,null,null,null,null,b);else if(this.multiMode)for(var d in this.idPull){if(this.idPull[d]._isActive||d==a)this.idPull[d].style.height=this.idPull[d].h+
"px",this.idPull[d].childNodes[1].style.display="","dhx_web"==this.skin&&this.idPull[d]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_acc_dhx_web"),this.idPull[d].adjustContent(this.idPull[d],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[d]==this._lastVisible()&&"dhx_web"!=this.skin?0:this.sk.cell_space),this.idPull[d].updateNestedObjects(),this.idPull[d]._isActive=!0,this._updateArrows(),"dhx_accord_outer_event"==b&&d==a&&this.callEvent("onActive",[a,!0])}else if(!a||
!this.idPull[a]._isActive||c){c=0;for(d in this.idPull)if(this.idPull[d].style.height=this.sk.cell_height+(this.idPull[d]!=this._lastVisible()&&d!=a?this.sk.cell_space:0)+"px",d!=a)this.idPull[d].childNodes[1].style.display="none","dhx_web"==this.skin&&this.idPull[d]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.idPull[d]._isActive=!1,c+=this.idPull[d].offsetHeight;c=this.base.offsetHeight-c;a&&(this.idPull[a].style.height=c+"px",this.idPull[a].childNodes[1].style.display="","dhx_web"==
this.skin&&this.idPull[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_acc_dhx_web"),this.idPull[a].adjustContent(this.idPull[a],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[a]==this._lastVisible()?0:this.sk.cell_space),this.idPull[a].updateNestedObjects(),this.idPull[a]._isActive=!0,"dhx_accord_outer_event"==b&&this.callEvent("onActive",[a,!0]));this._updateArrows()}};this._lastVisible=function(){for(var a=null,b=this.base.childNodes.length-1;0<=b;b--)this.base.childNodes[b]._isHidden||
a||(a=this.base.childNodes[b]);return a};this.closeItem=function(a,b){null!=this.idPull[a]&&this.idPull[a]._isActive&&!this._openBuzy&&(this._enableOpenEffect?this._openWithEffect(this.multiMode?a:null,null,null,null,null,b):(this.idPull[a].style.height=this.sk.cell_height+(this.idPull[a]!=this._lastVisible()?this.sk.cell_space:0)+"px",this.idPull[a].childNodes[1].style.display="none","dhx_web"==this.skin&&this.idPull[a]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.idPull[a]._isActive=
!1,"dhx_accord_outer_event"==b&&this.callEvent("onActive",[a,!1]),this._updateArrows()))};this._updateArrows=function(){for(var a in this.idPull){for(var b=this.idPull[a].childNodes[0],c=null,d=0;d<b.childNodes.length;d++)-1!=String(b.childNodes[d].className).search("dhx_acc_item_arrow")&&(c=b.childNodes[d]);null!=c&&(c.className="dhx_acc_item_arrow "+(this.idPull[a]._isActive?"item_opened":"item_closed"))}};this.setText=function(a,b,d){if(null!=c.idPull[a]){a=c.idPull[a].childNodes[0];for(var k=
null,h=0;h<a.childNodes.length;h++)null!=a.childNodes[h].tagName&&"span"==String(a.childNodes[h].tagName).toLowerCase()&&(k=a.childNodes[h]);isNaN(d)?k.innerHTML=b:(k.style.paddingLeft=d+"px",k.style.paddingRight=d+"px")}};this.getText=function(a){if(null!=c.idPull[a]){a=c.idPull[a].childNodes[0];for(var b=null,d=0;d<a.childNodes.length;d++)null!=a.childNodes[d].tagName&&"span"==String(a.childNodes[d].tagName).toLowerCase()&&(b=a.childNodes[d]);return b.innerHTML}};this._initWindows=function(a){if(window.dhtmlXWindows&&
(this.dhxWins||(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.skin),this.dhxWins.setImagePath(this.imagePath),this.dhxWinsIdPrefix="",a))){var b=this.dhxWinsIdPrefix+a;if(this.dhxWins.window(b))this.dhxWins.window(b).show();else{var c=this,b=this.dhxWins.createWindow(b,20,20,320,200);b.setText(this.getText(a));b.button("close").hide();b.attachEvent("onClose",function(a){a.hide()});b.addUserButton("dock",99,this.dhxWins.i18n.dock,"dock");b.button("dock").attachEvent("onClick",function(){c.cells(a).dock()})}}};
this.dockWindow=function(a){this.idPull[a]._isUnDocked&&this.dhxWins&&this.dhxWins.window(this.dhxWinsIdPrefix+a)&&(this.dhxWins.window(this.dhxWinsIdPrefix+a).moveContentTo(this.idPull[a]),this.dhxWins.window(this.dhxWinsIdPrefix+a).close(),this.idPull[a]._isUnDocked=!1,this.showItem(a),this.callEvent("onDock",[a]))};this.undockWindow=function(a){this.idPull[a]._isUnDocked||(this._initWindows(a),this.idPull[a].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+a)),this.idPull[a]._isUnDocked=
!0,this.hideItem(a),this.callEvent("onUnDock",[a]))};this.setSizes=function(){this._reopenItem()};this.showItem=function(a){null!=this.idPull[a]&&this.idPull[a]._isHidden&&(this.idPull[a]._isUnDocked?this.dockItem(a):(this.idPull[a].className="dhx_acc_item",this.idPull[a]._isHidden=!1,this._defineLastItem(),this._reopenItem()))};this.hideItem=function(a){null==this.idPull[a]||this.idPull[a]._isHidden||(this.closeItem(a),this.idPull[a].className="dhx_acc_item_hidden",this.idPull[a]._isHidden=!0,this._defineLastItem(),
this._reopenItem())};this.isItemHidden=function(a){return null==this.idPull[a]?void 0:!0==this.idPull[a]._isHidden};this._reopenItem=function(){var a=null,b;for(b in this.idPull)this.idPull[b]._isActive&&!this.idPull[b]._isHidden&&(a=b);this.openItem(a,null,!0)};this.forEachItem=function(a){for(var b in this.idPull)a(this.idPull[b])};this._enableOpenEffect=!1;this._openStep=10;this._openStepIncrement=5;this._openStepTimeout=10;this._openBuzy=!1;this.setEffect=function(a){this._enableOpenEffect=!0==
a?!0:!1};this._openWithEffect=function(a,b,c,d,h,l){if(this.multiMode){h||(this._openBuzy=!0,h=this._openStep,this.idPull[a]._isActive?(b=a,a=null,c=this.sk.cell_height+(this.idPull[b]!=this._lastVisible()?this.sk.cell_space:0),this.idPull[b].childNodes[1].style.display=""):(d=this.idPull[a].h,this.idPull[a].childNodes[1].style.display=""));var m=!1;if(a){var n=parseInt(this.idPull[a].style.height||0)+h;n>d&&(n=d,m=!0);this.idPull[a].style.height=n+"px"}b&&(n=parseInt(this.idPull[b].style.height)-
h,n<c&&(n=c,m=!0),this.idPull[b].style.height=n+"px");h+=this._openStepIncrement;if(m)a&&(this.idPull[a].adjustContent(this.idPull[a],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[a]==this._lastVisible()?0:this.sk.cell_space),this.idPull[a].updateNestedObjects(),this.idPull[a]._isActive=!0),b&&(this.idPull[b].childNodes[1].style.display="none",this.idPull[b]._isActive=!1),this._updateArrows(),this._openBuzy=!1,a&&"dhx_accord_outer_event"==l&&this.callEvent("onActive",[a,!0]),b&&
"dhx_accord_outer_event"==l&&this.callEvent("onActive",[b,!1]);else{var s=this;window.setTimeout(function(){s._openWithEffect(a,b,c,d,h,l)},this._openStepTimeout)}}else{!h&&(this._openBuzy=!0,h=this._openStep,a)&&(this.idPull[a].childNodes[1].style.display="");if(!b||!c||!d){d=c=0;for(m in this.idPull){var u=this.sk.cell_height+(this.idPull[m]!=this._lastVisible()&&m!=a?this.sk.cell_space:0);this.idPull[m]._isActive&&a!=m&&(b=m,c=u);m!=a&&(d+=u)}d=this.base.offsetHeight-d}m=!1;a&&(n=parseInt(this.idPull[a].style.height)+
h,n>d&&(m=!0));if(b){var v=parseInt(this.idPull[b].style.height)-h;v<c&&(m=!0)}h+=this._openStepIncrement;m&&(n=d,v=c);b&&(this.idPull[b].style.height=v+"px");a&&(this.idPull[a].style.height=n+"px");m?(b&&(this.idPull[b].childNodes[1].style.display="none",this.idPull[b]._isActive=!1),a&&(this.idPull[a].adjustContent(this.idPull[a],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[a]==this._lastVisible()?0:this.sk.cell_space),this.idPull[a].updateNestedObjects(),this.idPull[a]._isActive=
!0),this._updateArrows(),this._openBuzy=!1,"dhx_accord_outer_event"==l&&a&&this.callEvent("onActive",[a,!0])):(s=this,window.setTimeout(function(){s._openWithEffect(a,b,c,d,h,l)},this._openStepTimeout))}};this.setActive=function(a){this.openItem(a)};this.isActive=function(a){return!0===this.idPull[a]._isActive?!0:!1};this.dockItem=function(a){this.dockWindow(a)};this.undockItem=function(a){this.undockWindow(a)};this.setItemHeight=function(a,b){if(this.multiMode){if("*"==b)this.idPull[a].h_auto=!0;
else{if(isNaN(b))return;this.idPull[a].h_auto=!1;this.idPull[a].h=b}this._reopenItem()}};this._checkAutoHeight=function(){var a=this.base.offsetHeight;this._autoHeightEnabled=!1;var b=[],c;for(c in this.idPull)!this._autoHeightEnabled&&this.idPull[c].h_auto&&(this._autoHeightEnabled=!0),this.idPull[c].h_auto&&this.idPull[c]._isActive?b.push(c):a=this.idPull[c]._isActive?Math.max(0,a-this.idPull[c].h):Math.max(0,a-this.idPull[c].offsetHeight);if(0<b.length){c=Math.floor(a/b.length);for(var d=0;d<b.length;d++)d==
b.length-1?c=a:a-=c,this.idPull[b[d]].h=c}};this.setIcon=function(a,b){if(null!=this.idPull[a]){for(var c=this.idPull[a].childNodes[0],d=null,h=0;h<c.childNodes.length;h++)"dhx_acc_item_icon"==c.childNodes[h].className&&(d=c.childNodes[h]);null==d&&(d=document.createElement("IMG"),d.className="dhx_acc_item_icon",c.insertBefore(d,c.childNodes[0]),this.setText(a,null,20));d.src=this.imagePath+b}};this.clearIcon=function(a){if(null!=this.idPull[a]){for(var b=this.idPull[a].childNodes[0],c=null,d=0;d<
b.childNodes.length;d++)"dhx_acc_item_icon"==b.childNodes[d].className&&(c=b.childNodes[d]);null!=c&&(b.removeChild(c),this.setText(a,null,0))}};this.moveOnTop=function(a){!this.idPull[a]||1>=this.base.childNodes.length||(this.base.insertBefore(this.idPull[a],this.base.childNodes[0]),this.setSizes())};this._defineLastItem=function(){if(!this.multiMode)for(var a=!1,b=this.base.childNodes.length-1;0<=b;b--)0<=this.base.childNodes[b].className.search("last_item")?this.base.childNodes[b]._isHidden||a?
this.base.childNodes[b].className=String(this.base.childNodes[b].className).replace(/last_item/gi,""):a=!0:!this.base.childNodes[b]._isHidden&&!a&&(this.base.childNodes[b].className+=" last_item",a=!0)};this.removeItem=function(a){var b=this.idPull[a],c=b.childNodes[0];c.onclick=null;c.onmouseover=null;c.onmouseout=null;c.onselectstart=null;c._idd=null;c.className="";for(b._dhxContDestruct();0<c.childNodes.length;)c.removeChild(c.childNodes[0]);for(c.parentNode&&c.parentNode.removeChild(c);0<b.childNodes.length;)b.removeChild(b.childNodes[0]);
b._dhxContDestruct=null;b._doOnAttachMenu=null;b._doOnAttachToolbar=null;b._doOnAttachStatusBar=null;b.clearIcon=null;b.close=null;b.dock=null;b.getId=null;b.getText=null;b.hide=null;b.isOpened=null;b.open=null;b.setHeight=null;b.setIcon=null;b.setText=null;b.show=null;b.undock=null;b.parentNode&&b.parentNode.removeChild(b);this.idPull[a]=null;try{delete this.idPull[a]}catch(d){}};this.unload=function(){for(var a in this.skinParams){this.skinParams[a]=null;try{delete this.skinParams[a]}catch(b){}}this.skinParams=
null;for(a in this.idPull)this.removeItem(a);this.userOffset=this.unload=this.undockWindowunload=this.undockWindow=this.undockItem=this.w=this.skin=this.showItem=this.setText=this.setSkinParameters=this.setSkin=this.setSizes=this.setOffset=this.setItemHeight=this.setIconsPath=this.setIcon=this.setEffect=this.setActive=this.removeItem=this.openItem=this.multiMode=this.itemH=this.isActive=this.imagePath=this.hideItem=this.h=this.getText=this.forEachItem=this.eventCatcher=this.enableMultiMode=this.dockWindow=
this.dockItem=this.detachEvent=this.closeItem=this.clearIcon=this.checkEvent=this.cells=this.callEvent=this.attachEvent=this.addItem=this._updateArrows=this._reopenItem=this._lastVisible=this._initWindows=this.sk=this.idPull=null;!0==this._isAccFS&&(_isIE?window.detachEvent("onresize",this._doOnResize):window.removeEventListener("resize",this._doOnResize,!1),this._resizeTMTime=this._resizeTM=this._adjustToFullScreen=this._adjustAccordion=this._doOnResize=this._isAccFS=null,document.body.className=
String(document.body.className).replace("dhxacc_fullscreened",""),this.cont.obj._dhxContDestruct(),this.cont.dhxcont.parentNode&&this.cont.dhxcont.parentNode.removeChild(this.cont.dhxcont),this.cont.dhxcont=null,this.cont=this.cont.setContent=null);this.dhxWins&&(this.dhxWins.unload(),this.dhxWins=null);this.base.className="";this.base=null;for(a in this)try{delete this[a]}catch(c){}};this._initWindows();dhtmlxEventable(this);return this}alert(this.i18n.dhxcontalert)}
dhtmlXAccordion.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page"};
(function(){dhtmlx.extend_api("dhtmlXAccordion",{_init:function(a){return[a.parent,a.skin]},icon_path:"setIconsPath",items:"_items",effect:"setEffect",multi_mode:"enableMultiMode"},{_items:function(a){for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d];this.addItem(e.id,e.text);e.img&&this.cells(e.id).setIcon(e.img);e.height&&this.cells(e.id).setHeight(e.height);!0===e.open&&(b[b.length]=e.id);!1===e.open&&(c[c.length]=e.id)}for(a=0;a<b.length;a++)this.cells(b[a]).open();for(a=0;a<c.length;a++)this.cells(c[a]).close()}})})();
dhtmlXAccordion.prototype.loadJSON=function(a){var b={skin:"setSkin",icons_path:"setIconsPath",multi_mode:"enableMultiMode",effect:"setEffect"},c;for(c in b)if("undefined"!=typeof a[c])this[b[c]](a[c]);b=null;for(c=0;c<a.cells.length;c++)if(this.addItem(a.cells[c].id,a.cells[c].text),"undefined"!=typeof a.cells[c].icon&&this.setIcon(a.cells[c].id,a.cells[c].icon),"undefined"!=typeof a.cells[c].height&&this.setItemHeight(a.cells[c].id,a.cells[c].height),"undefined"!=typeof a.cells[c].open)b=a.cells[c].id;
null!=b&&this.openItem(b)};
dhtmlXAccordion.prototype.loadXML=function(a,b){var c=this;this.callEvent("onXLS",[]);dhtmlxAjax.get(a,function(a){a=a.xmlDoc.responseXML.getElementsByTagName("accordion")[0];var e={0:!1,"true":!0,1:!0,y:!0,yes:!0},f={cells:[]};null!=a.getAttribute("skin")&&(f.skin=a.getAttribute("skin"));null!=a.getAttribute("iconsPath")&&(f.icons_path=a.getAttribute("iconsPath"));"multi"==a.getAttribute("mode")&&(f.multi_mode=!0);e[a.getAttribute("openEffect")||0]&&(f.effect=!0);for(var g=0;g<a.childNodes.length;g++)if("indefined"!=
typeof a.childNodes[g].tagName&&"cell"==String(a.childNodes[g].tagName).toLowerCase()){var k=a.childNodes[g].getAttribute("id")||c._genStr(12);f.cells.push({id:k,text:a.childNodes[g].firstChild.nodeValue||""});null!=a.childNodes[g].getAttribute("icon")&&(f.cells[f.cells.length-1].icon=a.childNodes[g].getAttribute("icon"));null!=a.childNodes[g].getAttribute("height")&&(f.cells[f.cells.length-1].height=a.childNodes[g].getAttribute("height"));e[a.childNodes[g].getAttribute("open")||0]&&(f.cells[f.cells.length-
1].open=!0)}c.loadJSON(f);c.callEvent("onXLE",[]);"function"==typeof b&&b();c=b=null})};
function dhtmlXContainer(a){var b=this;this.obj=a;a=null;this.obj._padding=!0;this.dhxcont=null;this.st=document.createElement("DIV");this.st.style.position="absolute";this.st.style.left="-200px";this.st.style.top="0px";this.st.style.width="100px";this.st.style.height="1px";this.st.style.visibility="hidden";this.st.style.overflow="hidden";document.body.insertBefore(this.st,document.body.childNodes[0]);this.obj._getSt=function(){return b.st};this.obj.dv="def";this.obj.av=this.obj.dv;this.obj.cv=this.obj.av;
this.obj.vs={};this.obj.vs[this.obj.av]={};this.obj.view=function(a){if(!this.vs[a]){this.vs[a]={};this.vs[a].dhxcont=this.vs[this.dv].dhxcont;var c=document.createElement("DIV");c.style.position="relative";c.style.left="0px";c.style.width="200px";c.style.height="200px";c.style.overflow="hidden";c.style.visibility="";b.st.appendChild(c);this.vs[a].dhxcont.mainCont[a]=c}this.avt=this.av;this.av=a;return this};this.obj.setActive=function(){if(this.vs[this.av]){this.cv=this.av;if(this.vs[this.avt].dhxcont==
this.vs[this.avt].dhxcont.mainCont[this.avt].parentNode){b.st.appendChild(this.vs[this.avt].dhxcont.mainCont[this.avt]);this.vs[this.avt].menu&&b.st.appendChild(document.getElementById(this.vs[this.avt].menuId));if(this.vs[this.avt].toolbar){b.st.appendChild(document.getElementById(this.vs[this.avt].toolbarId));var a=this.vs[this.avt].toolbar;a.forEachItem(function(b){b=a.objPull[a.idPrefix+b].obj;null!=b&&"function"==typeof b._doOnMouseOut&&b._doOnMouseOut()});a=null}this.vs[this.avt].sb&&b.st.appendChild(document.getElementById(this.vs[this.avt].sbId))}this.vs[this.av].dhxcont!=
this.vs[this.av].dhxcont.mainCont[this.av].parentNode&&(this.vs[this.av].dhxcont.insertBefore(this.vs[this.av].dhxcont.mainCont[this.av],this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]),this.vs[this.av].menu&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].menuId),this.vs[this.av].dhxcont.childNodes[0]),this.vs[this.av].toolbar&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].toolbarId),this.vs[this.av].dhxcont.childNodes[this.vs[this.av].menu?
1:0]),this.vs[this.av].sb&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].sbId),this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]));this._doOnResize&&this._doOnResize();this._isWindow&&this.updateNestedObjects();this.avt=null}};this.obj._viewRestore=function(){var a=this.av;this.avt&&(this.av=this.avt,this.avt=null);return a};this.setContent=function(a){this.obj.vs[this.obj.av].dhxcont=a;this.obj._init()};this.obj._init=function(){this.vs[this.av].dhxcont.innerHTML=
"<div ida='dhxMainCont' style='position: relative; left: 0px; top: 0px; overflow: hidden;'></div><div class='dhxcont_content_blocker' style='display: none;'></div>";this.vs[this.av].dhxcont.mainCont={};this.vs[this.av].dhxcont.mainCont[this.av]=this.vs[this.av].dhxcont.childNodes[0]};this.obj._genStr=function(a){for(var b="",c=0;c<a;c++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(61*Math.random()));return b};this.obj.setMinContentSize=function(a,b){this.vs[this.av]._minDataSizeW=
a;this.vs[this.av]._minDataSizeH=b};this.obj._setPadding=function(a,b){"object"==typeof a?(this._offsetTop=a[0],this._offsetLeft=a[1],this._offsetWidth=a[2],this._offsetHeight=a[3]):(this._offsetLeft=this._offsetTop=a,this._offsetWidth=2*-a,this._offsetHeight=2*-a);this.vs[this.av].dhxcont.className="dhxcont_global_content_area "+(b||"")};this.obj.moveContentTo=function(a){for(var b in this.vs){a.view(b).setActive();var c=null;this.vs[b].grid&&(c="grid");this.vs[b].tree&&(c="tree");this.vs[b].tabbar&&
(c="tabbar");this.vs[b].folders&&(c="folders");this.vs[b].layout&&(c="layout");null!=c&&(a.view(b).attachObject(this.vs[b][c+"Id"],!1,!0,!1),a.vs[b][c]=this.vs[b][c],a.vs[b][c+"Id"]=this.vs[b][c+"Id"],a.vs[b][c+"Obj"]=this.vs[b][c+"Obj"],this.vs[b][c]=null,this.vs[b][c+"Id"]=null,this.vs[b][c+"Obj"]=null);this.vs[b]._frame&&(a.vs[b]._frame=this.vs[b]._frame,this.vs[b]._frame=null);if(null!=this.vs[b].menu){if(a.cv==a.av)a.vs[a.av].dhxcont.insertBefore(document.getElementById(this.vs[b].menuId),a.vs[a.av].dhxcont.childNodes[0]);
else{var g=a._getSt();g.appendChild(document.getElementById(this.vs[b].menuId));g=null}a.vs[b].menu=this.vs[b].menu;a.vs[b].menuId=this.vs[b].menuId;a.vs[b].menuHeight=this.vs[b].menuHeight;this.vs[b].menu=null;this.vs[b].menuId=null;this.vs[b].menuHeight=null;this.cv==this.av&&this._doOnAttachMenu&&this._doOnAttachMenu("unload");a.cv==a.av&&a._doOnAttachMenu&&a._doOnAttachMenu("move")}null!=this.vs[b].toolbar&&(a.cv==a.av?a.vs[a.av].dhxcont.insertBefore(document.getElementById(this.vs[b].toolbarId),
a.vs[a.av].dhxcont.childNodes[null!=a.vs[a.av].menu?1:0]):(g=a._getSt(),g.appendChild(document.getElementById(this.vs[b].toolbarId)),g=null),a.vs[b].toolbar=this.vs[b].toolbar,a.vs[b].toolbarId=this.vs[b].toolbarId,a.vs[b].toolbarHeight=this.vs[b].toolbarHeight,this.vs[b].toolbar=null,this.vs[b].toolbarId=null,this.vs[b].toolbarHeight=null,this.cv==this.av&&this._doOnAttachToolbar&&this._doOnAttachToolbar("unload"),a.cv==a.av&&a._doOnAttachToolbar&&a._doOnAttachToolbar("move"));if(null!=this.vs[b].sb){if(a.cv==
a.av)a.vs[a.av].dhxcont.insertBefore(document.getElementById(this.vs[b].sbId),a.vs[a.av].dhxcont.childNodes[a.vs[a.av].dhxcont.childNodes.length-1]);else return g=a._getSt(),g.appendChild(document.getElementById(this.vs[b].sbId)),g;a.vs[b].sb=this.vs[b].sb;a.vs[b].sbId=this.vs[b].sbId;a.vs[b].sbHeight=this.vs[b].sbHeight;this.vs[b].sb=null;this.vs[b].sbId=null;this.vs[b].sbHeight=null;this.cv==this.av&&this._doOnAttachStatusBar&&this._doOnAttachStatusBar("unload");a.cv==a.av&&a._doOnAttachStatusBar&&
a._doOnAttachStatusBar("move")}for(var c=this.vs[b].dhxcont.mainCont[b],k=a.vs[b].dhxcont.mainCont[b];0<c.childNodes.length;)k.appendChild(c.childNodes[0])}a.view(this.av).setActive()};this.obj.adjustContent=function(a,b,c,g,k){var h=this.vs[this.av].dhxcont,l=h.mainCont[this.av];h.style.left=(this._offsetLeft||0)+"px";h.style.top=(this._offsetTop||0)+b+"px";var m=a.clientWidth+(this._offsetWidth||0);!0!==g&&(h.style.width=Math.max(0,m)+"px");!0!==g&&h.offsetWidth>m&&(h.style.width=Math.max(0,2*m-
h.offsetWidth)+"px");a=a.clientHeight+(this._offsetHeight||0);h.style.height=Math.max(0,a-b)+(null!=c?c:0)+"px";h.offsetHeight>a-b&&(h.style.height=Math.max(0,2*(a-b)-h.offsetHeight)+"px");k&&!isNaN(k)&&(h.style.height=Math.max(0,parseInt(h.style.height)-k)+"px");null!=this.vs[this.av]._minDataSizeH&&parseInt(h.style.height)<this.vs[this.av]._minDataSizeH&&(h.style.height=this.vs[this.av]._minDataSizeH+"px");null!=this.vs[this.av]._minDataSizeW&&parseInt(h.style.width)<this.vs[this.av]._minDataSizeW&&
(h.style.width=this.vs[this.av]._minDataSizeW+"px");!0!==g&&(l.style.width=h.clientWidth+"px",l.offsetWidth>h.clientWidth)&&(l.style.width=Math.max(0,2*h.clientWidth-l.offsetWidth)+"px");b=null!=this.vs[this.av].menu?this.vs[this.av].menuHidden?0:this.vs[this.av].menuHeight:0;c=null!=this.vs[this.av].toolbar?this.vs[this.av].toolbarHidden?0:this.vs[this.av].toolbarHeight:0;g=null!=this.vs[this.av].sb?this.vs[this.av].sbHidden?0:this.vs[this.av].sbHeight:0;l.style.height=h.clientHeight+"px";l.offsetHeight>
h.clientHeight&&(l.style.height=Math.max(0,2*h.clientHeight-l.offsetHeight)+"px");l.style.height=Math.max(0,parseInt(l.style.height)-b-c-g)+"px"};this.obj.coverBlocker=function(){return this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]};this.obj.showCoverBlocker=function(){this.coverBlocker().style.display=""};this.obj.hideCoverBlocker=function(){this.coverBlocker().style.display="none"};this.obj.updateNestedObjects=function(a){if("dhx_terrace"==this.skin){var b=null!=
this.vs[this.av].menu||null!=this.vs[this.av].toolbar;if(this.vs[this.av].grid){var c=b||this._isWindow?14:0,g=this._isWindow?14:0,k=this._isWindow?14:0;a&&(this._isWindow||(this.vs[this.av].grid.entBox.style.border="0px solid white",this.vs[this.av].grid.skin_h_correction=-2),this.vs[this.av].grid.dontSetSizes=!0,this.vs[this.av].gridObj.style.position="absolute");this.vs[this.av].gridObj.style.top=c+"px";this.vs[this.av].gridObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-
c-g+"px";this.vs[this.av].gridObj.style.left=k+"px";this.vs[this.av].gridObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*k+"px";this.vs[this.av].grid.setSizes()}this.vs[this.av].tree&&(c=b||this._isWindow?14:0,g=this._isWindow?14:0,k=this._isWindow?14:0,a&&(this.vs[this.av].treeObj.style.position="absolute"),this.vs[this.av].treeObj.style.top=c+"px",this.vs[this.av].treeObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px",this.vs[this.av].treeObj.style.left=
k+"px",this.vs[this.av].treeObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*k+"px");this.vs[this.av].form&&(c=b||this._isWindow?14:0,g=this._isWindow?14:0,k=this._isWindow?14:0,a&&(this.vs[this.av].formObj.style.position="absolute"),this.vs[this.av].formObj.style.top=c+"px",this.vs[this.av].formObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px",this.vs[this.av].formObj.style.left=k+"px",this.vs[this.av].formObj.style.width=
parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*k+"px",this.vs[this.av].form.setSizes());this.vs[this.av].layout&&(a&&!this._isWindow&&!this._isCell&&this.vs[this.av].layout._hideBorders(),c=this._isCell&&this._noHeader&&!b?0:14,g=this._isCell&&this._noHeader?0:14,k=this._isCell&&this._noHeader?0:14,this.vs[this.av].layoutObj.style.top=c+"px",this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-c-g+"px",this.vs[this.av].layoutObj.style.left=
k+"px",this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*k+"px",this.vs[this.av].layout.setSizes());this.vs[this.av].accordion&&(a&&(this.vs[this.av].accordion._hideBorders=!0),c=this._isCell&&this._noHeader&&!b?0:14,g=this._isCell&&this._noHeader?0:14,k=this._isCell&&this._noHeader?0:14,this.vs[this.av].accordionObj.style.top=c+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-
c-g+"px",this.vs[this.av].accordionObj.style.left=k+"px",this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*k+"px",this.vs[this.av].accordion.setSizes());null!=this.vs[this.av].tabbar&&(c=!b&&this._isCell&&this._noHeader?0:14,g=this._isCell&&this._noHeader?c:28,k=this._isCell&&this._noHeader?0:14,this.vs[this.av].tabbarObj.style.top=c+"px",this.vs[this.av].tabbarObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-
g+"px",this.vs[this.av].tabbarObj.style.left=k+"px",this.vs[this.av].tabbarObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*k+"px",this.vs[this.av].tabbar.adjustOuterSize());this.vs[this.av].editor&&(k=c=14,this.vs[this.av].editorObj.style.top=c+"px",this.vs[this.av].editorObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-2*c+"px",this.vs[this.av].editorObj.style.left=k+"px",this.vs[this.av].editorObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-
2*k+"px",_isIE||this.vs[this.av].editor._prepareContent(!0),this.vs[this.av].editor.setSizes());this.vs[this.av].sched&&this.vs[this.av].sched.setSizes();this.vs[this.av].dockedCell&&this.vs[this.av].dockedCell.updateNestedObjects()}else this.vs[this.av].grid&&this.vs[this.av].grid.setSizes(),this.vs[this.av].sched&&this.vs[this.av].sched.setSizes(),this.vs[this.av].tabbar&&this.vs[this.av].tabbar.adjustOuterSize(),this.vs[this.av].folders&&this.vs[this.av].folders.setSizes(),this.vs[this.av].editor&&
(_isIE||this.vs[this.av].editor._prepareContent(!0),this.vs[this.av].editor.setSizes()),this.vs[this.av].layout&&((this._isAcc||this._isTabbarCell)&&"dhx_skyblue"==this.skin?(this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"):(this.vs[this.av].layoutObj.style.width=this.vs[this.av].dhxcont.mainCont[this.av].style.width,this.vs[this.av].layoutObj.style.height=
this.vs[this.av].dhxcont.mainCont[this.av].style.height),this.vs[this.av].layout.setSizes()),null!=this.vs[this.av].accordion&&("dhx_web"==this.skin?(this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"):(this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",this.vs[this.av].accordionObj.style.height=
parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"),this.vs[this.av].accordion.setSizes()),this.vs[this.av].dockedCell&&this.vs[this.av].dockedCell.updateNestedObjects(),this.vs[this.av].form&&this.vs[this.av].form.setSizes(),this.vs[this.av].carousel&&this.vs[this.av].carousel.setSizes()};this.obj.attachStatusBar=function(){if(!this.vs[this.av].sb){var a=document.createElement("DIV");a.className=this._isCell?"dhxcont_sb_container_layoutcell":"dhxcont_sb_container";a.id="sbobj_"+
this._genStr(12);a.innerHTML="<div class='dhxcont_statusbar'></div>";this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(a,this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]):b.st.appendChild(a);a.setText=function(a){this.childNodes[0].innerHTML=a};a.getText=function(){return this.childNodes[0].innerHTML};a.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.vs[this.av].sb=a;this.vs[this.av].sbHeight="dhx_web"==this.skin?41:"dhx_skyblue"==this.skin?
23:a.offsetHeight;this.vs[this.av].sbId=a.id;this._doOnAttachStatusBar&&this._doOnAttachStatusBar("init");this.adjust();return this.vs[this._viewRestore()].sb}};this.obj.detachStatusBar=function(a){this.vs[this.av].sb&&(this.vs[this.av].sb.setText=null,this.vs[this.av].sb.getText=null,this.vs[this.av].sb.onselectstart=null,this.vs[this.av].sb.parentNode.removeChild(this.vs[this.av].sb),this.vs[this.av].sb=null,this.vs[this.av].sbHeight=null,this.vs[this.av].sbId=null,this._viewRestore(),this._doOnAttachStatusBar&&
!a&&this._doOnAttachStatusBar("unload"))};this.obj.getFrame=function(){return this.getView()._frame};this.obj.getView=function(a){return this.vs[a||this.av]};this.obj.attachMenu=function(a){if(!this.vs[this.av].menu){var c=document.createElement("DIV");c.style.position="relative";c.style.overflow="hidden";c.id="dhxmenu_"+this._genStr(12);this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(c,this.vs[this.av].dhxcont.childNodes[0]):b.st.appendChild(c);"object"!=typeof a?this.vs[this.av].menu=new dhtmlXMenuObject(c.id,
a||this.skin):(a.parent=c.id,this.vs[this.av].menu=new dhtmlXMenuObject(a));this.vs[this.av].menuHeight="dhx_web"==this.skin?29:c.offsetHeight;this.vs[this.av].menuId=c.id;this._doOnAttachMenu&&this._doOnAttachMenu("init");this.adjust();return this.vs[this._viewRestore()].menu}};this.obj.detachMenu=function(a){if(this.vs[this.av].menu){var b=document.getElementById(this.vs[this.av].menuId);this.vs[this.av].menu.unload();this.vs[this.av].menu=null;this.vs[this.av].menuId=null;this.vs[this.av].menuHeight=
null;b&&b.parentNode.removeChild(b);this._viewRestore();this._doOnAttachMenu&&!a&&this._doOnAttachMenu("unload")}};this.obj.attachToolbar=function(a){if(!this.vs[this.av].toolbar){var c=document.createElement("DIV");c.style.position="relative";c.style.overflow="hidden";c.id="dhxtoolbar_"+this._genStr(12);this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(c,this.vs[this.av].dhxcont.childNodes[null!=this.vs[this.av].menu?1:0]):b.st.appendChild(c);"object"!=typeof a?this.vs[this.av].toolbar=new dhtmlXToolbarObject(c.id,
a||this.skin):(a.parent=c.id,this.vs[this.av].toolbar=new dhtmlXToolbarObject(a));this.vs[this.av].toolbarHeight=c.offsetHeight;this.vs[this.av].toolbarId=c.id;this._doOnAttachToolbar&&this._doOnAttachToolbar("init");this.adjust();var f=this;this.vs[this.av].toolbar.attachEvent("_onIconSizeChange",function(){f.vs[f.av].toolbarHeight=this.cont.offsetHeight;f.vs[f.av].toolbarId=this.cont.id;f.adjust();f._doOnAttachToolbar&&f._doOnAttachToolbar("iconSizeChange")});"dhx_terrace"!=this.skin&&this.vs[this.av].toolbar.callEvent("_onIconSizeChange",
[]);return this.vs[this._viewRestore()].toolbar}};this.obj.detachToolbar=function(a){if(this.vs[this.av].toolbar){var b=document.getElementById(this.vs[this.av].toolbarId);this.vs[this.av].toolbar.unload();this.vs[this.av].toolbar=null;this.vs[this.av].toolbarId=null;this.vs[this.av].toolbarHeight=null;b&&b.parentNode.removeChild(b);this._viewRestore();this._doOnAttachToolbar&&!a&&this._doOnAttachToolbar("unload")}};this.obj.attachGrid=function(){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border=
"#a4bed4 1px solid",this._redraw());var a=document.createElement("DIV");a.id="dhxGridObj_"+this._genStr(12);a.style.width="100%";a.style.height="100%";a.cmp="grid";document.body.appendChild(a);this.attachObject(a.id,!1,!0,!1);this.vs[this.av].grid=new dhtmlXGridObject(a.id);this.vs[this.av].grid.setSkin(this.skin);if("dhx_skyblue"==this.skin||"dhx_black"==this.skin||"dhx_blue"==this.skin)this.vs[this.av].grid.entBox.style.border="0px solid white",this.vs[this.av].grid._sizeFix=2;this.vs[this.av].gridId=
a.id;this.vs[this.av].gridObj=a;"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].grid};this.obj.attachScheduler=function(a,b,c,g){g=g||window.scheduler;var k=0;c&&(h=document.getElementById(c))&&(k=1);if(!k){c=c||'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>';var h=document.createElement("DIV");
h.id="dhxSchedObj_"+this._genStr(12);h.innerHTML='<div id="'+h.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+c+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>';document.body.appendChild(h.firstChild)}this.attachObject(h.id,!1,!0,!1);this.vs[this.av].sched=g;
this.vs[this.av].schedId=h.id;g.setSizes=g.update_view;g.destructor=function(){};g.init(h.id,a,b);return this.vs[this._viewRestore()].sched};this.obj.attachTree=function(a){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var b=document.createElement("DIV");b.id="dhxTreeObj_"+this._genStr(12);b.style.width="100%";b.style.height="100%";b.cmp="tree";document.body.appendChild(b);this.attachObject(b.id,!1,!0,!1);this.vs[this.av].tree=
new dhtmlXTreeObject(b.id,"100%","100%",a||0);this.vs[this.av].tree.setSkin(this.skin);this.vs[this.av].tree.allTree.childNodes[0].style.marginTop="2px";this.vs[this.av].tree.allTree.childNodes[0].style.marginBottom="2px";this.vs[this.av].treeId=b.id;this.vs[this.av].treeObj=b;"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].tree};this.obj.attachTabbar=function(a){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.style.border=
"none",this.setDimension(this.w,this.h));var b=document.createElement("DIV");b.id="dhxTabbarObj_"+this._genStr(12);b.style.width="100%";b.style.height="100%";b.style.overflow="hidden";b.cmp="tabbar";this._isWindow||(b._hideBorders=!0);document.body.appendChild(b);this.attachObject(b.id,!1,!0,!1);this._isCell&&(this.hideHeader(),this._padding=b._hideBorders=!1);this.vs[this.av].tabbar=new dhtmlXTabBar(b.id,a||"top","dhx_terrace"==this.skin?null:20);this._isWindow||"dhx_terrace"==this.skin||(this.vs[this.av].tabbar._s.expand=
!0);this.vs[this.av].tabbar.setSkin(this.skin);this.vs[this.av].tabbar.adjustOuterSize();this.vs[this.av].tabbarId=b.id;this.vs[this.av].tabbarObj=b;"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].tabbar};this.obj.attachFolders=function(){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var a=document.createElement("DIV");a.id="dhxFoldersObj_"+this._genStr(12);
a.style.width="100%";a.style.height="100%";a.style.overflow="hidden";a.cmp="folders";document.body.appendChild(a);this.attachObject(a.id,!1,!0,!1);this.vs[this.av].folders=new dhtmlxFolders(a.id);this.vs[this.av].folders.setSizes();this.vs[this.av].foldersId=a.id;this.vs[this.av].foldersObj=a;return this.vs[this._viewRestore()].folders};this.obj.attachAccordion=function(){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());
var a=document.createElement("DIV");a.id="dhxAccordionObj_"+this._genStr(12);this._padding=!0;"dhx_web"==this.skin?(a.style.left="0px",a.style.top="0px",a.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",a.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"):"dhx_terrace"!=this.skin&&(a.style.left="-1px",a.style.top="-1px",a.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",a.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+
2+"px");a.style.position="relative";a.cmp="accordion";document.body.appendChild(a);this.attachObject(a.id,!1,!0,!1);this.vs[this.av].accordion=new dhtmlXAccordion(a.id,this.skin);this.vs[this.av].accordion.setSizes();this.vs[this.av].accordionId=a.id;this.vs[this.av].accordionObj=a;"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].accordion};this.obj.attachLayout=function(a,b){this._isCell&&"dhx_skyblue"==this.skin&&(this.hideHeader(),this.vs[this.av].dhxcont.style.border=
"0px solid white",this.adjustContent(this.childNodes[0],0));this._isCell&&"dhx_web"==this.skin&&this.hideHeader();this._padding=!0;var c=document.createElement("DIV");c.id="dhxLayoutObj_"+this._genStr(12);c.style.overflow="hidden";c.style.position="absolute";c.style.left="0px";c.style.top="0px";c.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px";c.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px";(this._isTabbarCell||this._isAcc)&&
"dhx_skyblue"==this.skin&&(c.style.left="-1px",c.style.top="-1px",c.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",c.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px");c.dhxContExists=!0;c.cmp="layout";document.body.appendChild(c);this.attachObject(c.id,!1,!0,!1);this.vs[this.av].layout=new dhtmlXLayoutObject(c,a,b||this.skin);this._isWindow&&this.attachEvent("_onBeforeTryResize",this.vs[this.av].layout._defineWindowMinDimension);
this.vs[this.av].layoutId=c.id;this.vs[this.av].layoutObj=c;"dhx_terrace"==this.skin&&(this._isCell&&(this.style.backgroundColor="transparent",this.vs[this.av].dhxcont.style.backgroundColor="transparent",this.hideHeader()),this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].layout};this.obj.attachEditor=function(a){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var b=document.createElement("DIV");
b.id="dhxEditorObj_"+this._genStr(12);b.style.position="relative";b.style.display="none";b.style.overflow="hidden";b.style.width="100%";b.style.height="100%";b.cmp="editor";document.body.appendChild(b);"dhx_terrace"==this.skin&&(b._attached=!0);this.attachObject(b.id,!1,!0,!1);this.vs[this.av].editor=new dhtmlXEditor(b.id,a||this.skin);this.vs[this.av].editorId=b.id;this.vs[this.av].editorObj=b;"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0));return this.vs[this._viewRestore()].editor};
this.obj.attachMap=function(a){var b=document.createElement("DIV");b.id="GMapsObj_"+this._genStr(12);b.style.position="relative";b.style.display="none";b.style.overflow="hidden";b.style.width="100%";b.style.height="100%";b.cmp="gmaps";document.body.appendChild(b);this.attachObject(b.id,!1,!0,!0);a||(a={center:new google.maps.LatLng(40.719837,-73.992348),zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP});this.vs[this.av].gmaps=new google.maps.Map(b,a);return this.vs[this.av].gmaps};this.obj.attachObject=
function(a,b,c,g){"string"==typeof a&&(a=document.getElementById(a));if(b){a.style.visibility="hidden";a.style.display="";var k=a.offsetWidth,h=a.offsetHeight}this._attachContent("obj",a);b&&this._isWindow&&(a.style.visibility="",this._adjustToContent(k,h));"dhx_terrace"!=this.skin||null==this.vs[this.av].menu&&null==this.vs[this.av].toolbar||(this.adjust("undefined"==typeof g||!0==g),this.updateNestedObjects(!0));c||this._viewRestore()};this.obj.detachObject=function(a,b){for(var c=null,g=null,k=
"tree grid layout tabbar accordion folders form".split(" "),h=0;h<k.length;h++)if(this.vs[this.av][k[h]]){c=this.vs[this.av][k[h]];g=this.vs[this.av][k[h]+"Obj"];if(a){c.unload&&c.unload();for(c.destructor&&c.destructor();0<g.childNodes.length;)g.removeChild(g.childNodes[0]);g.parentNode.removeChild(g);c=g=null}else document.body.appendChild(g),g.style.display="none";this.vs[this.av][k[h]]=null;this.vs[this.av][k[h]+"Id"]=null;this.vs[this.av][k[h]+"Obj"]=null}if(null!=c&&null!=g)return[c,g];a&&this.vs[this.av]._frame&&
(this._detachURLEvents(),this.vs[this.av]._frame=null);for(c=this.vs[this.av].dhxcont.mainCont[this.av];0<c.childNodes.length;)!0==a?c.removeChild(c.childNodes[0]):(g=c.childNodes[0],null!=b?("object"!=typeof b&&(b=document.getElementById(b)),b.appendChild(g)):document.body.appendChild(g),g.style.display="none")};this.obj.appendObject=function(a){"string"==typeof a&&(a=document.getElementById(a));this._attachContent("obj",a,!0)};this.obj.attachHTMLString=function(a){this._attachContent("str",a);a=
a.match(/<script[^>]*>[^\f]*?<\/script>/g)||[];for(var b=0;b<a.length;b++){var c=a[b].replace(/<([\/]{0,1})script[^>]*>/g,"");c&&(window.execScript?window.execScript(c):window.eval(c))}};this.obj.attachURL=function(a,b){this._attachContent(!0==b?"urlajax":"url",a,!1);"dhx_terrace"!=this.skin||null==this.vs[this.av].menu&&null==this.vs[this.av].toolbar||(this.adjust(!0),this.updateNestedObjects(!0));this._viewRestore()};this.obj.adjust=function(a){if("dhx_skyblue"==this.skin){if(this.vs[this.av].menu){if(this._isWindow||
this._isLayout)this.vs[this.av].menu._topLevelOffsetLeft=0,document.getElementById(this.vs[this.av].menuId).style.height="26px",this.vs[this.av].menuHeight=document.getElementById(this.vs[this.av].menuId).offsetHeight,this._doOnAttachMenu&&this._doOnAttachMenu("show");this._isCell&&(document.getElementById(this.vs[this.av].menuId).className+=" in_layoutcell",this.vs[this.av].menuHeight=25);this._isAcc&&(document.getElementById(this.vs[this.av].menuId).className+=" in_acccell",this.vs[this.av].menuHeight=
25);this._doOnAttachMenu&&this._doOnAttachMenu("adjust")}this.vs[this.av].toolbar&&(this._isWindow&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_window"),this._isLayout&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout"),this._isCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell"),this._isTabbarCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=
" in_tabbarcell"))}"dhx_web"==this.skin&&this.vs[this.av].toolbar&&(this._isWindow&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_window"),this._isLayout&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout"),this._isCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell"),this._isTabbarCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=
" in_tabbarcell"));if("dhx_terrace"==this.skin){var b=0;if(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)b=14;this._isCell&&this._noHeader&&(b=0);var c=0;if(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)c=14;this._isCell&&this._noHeader&&(c=0);var g=!0==a&&!this.vs[this.av].toolbar||this._isLayout?14:0;a=!0==a||this._isLayout?14:0;this.vs[this.av].menu&&(document.getElementById(this.vs[this.av].menuId).style.marginLeft=b+"px",document.getElementById(this.vs[this.av].menuId).style.marginRight=
b+"px",document.getElementById(this.vs[this.av].menuId).style.marginTop=c+"px",document.getElementById(this.vs[this.av].menuId).style.marginBottom=g+"px",this.vs[this.av].menuHeight=32+c+g,this._doOnAttachMenu&&this._doOnAttachMenu("show"));this.vs[this.av].toolbar&&(0==c&&null!=this.vs[this.av].menu&this._isCell&&(c=14),document.getElementById(this.vs[this.av].toolbarId).style.marginLeft=b+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginRight=b+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginTop=
c+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginBottom=a+"px",this.vs[this.av].toolbarHeight=this.vs[this.av].toolbar.cont.offsetHeight+c+a,this._doOnAttachToolbar&&this._doOnAttachToolbar("show"))}};this.obj._attachContent=function(a,b,c){if(!0!==c)for(this.vs[this.av]._frame&&(this._detachURLEvents(),this.vs[this.av]._frame=null);0<this.vs[this.av].dhxcont.mainCont[this.av].childNodes.length;)this.vs[this.av].dhxcont.mainCont[this.av].removeChild(this.vs[this.av].dhxcont.mainCont[this.av].childNodes[0]);
if("url"==a)this._isWindow&&null==b.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw()),a=document.createElement("IFRAME"),a.frameBorder=0,a.border=0,a.style.width="100%",a.style.height="100%",a.setAttribute("src","javascript:false;"),this.vs[this.av].dhxcont.mainCont[this.av].appendChild(a),a.src=b,this.vs[this.av]._frame=a,this._attachURLEvents();else if("urlajax"==a){this._isWindow&&null==b.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border=
"#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw());var g=this,k=String(this.av).valueOf();a=new dtmlXMLLoaderObject(function(){var a=g.av;g.av=k;g.attachHTMLString(this.xmlDoc.responseText,this);g.av=a;g._doOnFrameContentLoaded&&g._doOnFrameContentLoaded();this.destructor()},window);a.dhxWindowObject=this;a.loadXML(b)}else"obj"==a?(this._isWindow&&null==b.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border=
"#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw()),this.vs[this.av].dhxcont._frame=null,this.vs[this.av].dhxcont.mainCont[this.av].appendChild(b),this.vs[this.av].dhxcont.mainCont[this.av].style.overflow=!0===c?"auto":"hidden",b.style.display=""):"str"==a&&(this._isWindow&&null==b.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor=
"#FFFFFF",this._redraw()),this.vs[this.av].dhxcont._frame=null,this.vs[this.av].dhxcont.mainCont[this.av].innerHTML=b)};this.obj._attachURLEvents=function(){var a=this,b=this.vs[this.av]._frame;_isIE?b.onreadystatechange=function(){if("complete"==b.readyState){try{b.contentWindow.document.body.onmousedown=function(){a._doOnFrameMouseDown&&a._doOnFrameMouseDown()}}catch(c){}try{a._doOnFrameContentLoaded&&a._doOnFrameContentLoaded()}catch(g){}}}:b.onload=function(){try{b.contentWindow.onmousedown=function(){a._doOnFrameMouseDown&&
a._doOnFrameMouseDown()}}catch(c){}try{a._doOnFrameContentLoaded&&a._doOnFrameContentLoaded()}catch(g){}}};this.obj._detachURLEvents=function(){if(_isIE)try{this.vs[this.av]._frame.onreadystatechange=null,this.vs[this.av]._frame.contentWindow.document.body.onmousedown=null,this.vs[this.av]._frame.onload=null}catch(a){}else try{this.vs[this.av]._frame.contentWindow.onmousedown=null,this.vs[this.av]._frame.onload=null}catch(b){}};this.obj.showMenu=function(){this.vs[this.av].menu&&this.vs[this.av].menuId&&
"none"==document.getElementById(this.vs[this.av].menuId).style.display&&(this.vs[this.av].menuHidden=!1,this._doOnAttachMenu&&this._doOnAttachMenu("show"),document.getElementById(this.vs[this.av].menuId).style.display="",this._viewRestore())};this.obj.hideMenu=function(){this.vs[this.av].menu&&this.vs[this.av].menuId&&"none"!=document.getElementById(this.vs[this.av].menuId).style.display&&(document.getElementById(this.vs[this.av].menuId).style.display="none",this.vs[this.av].menuHidden=!0,this._doOnAttachMenu&&
this._doOnAttachMenu("hide"),this._viewRestore())};this.obj.showToolbar=function(){this.vs[this.av].toolbar&&this.vs[this.av].toolbarId&&"none"==document.getElementById(this.vs[this.av].toolbarId).style.display&&(this.vs[this.av].toolbarHidden=!1,this._doOnAttachToolbar&&this._doOnAttachToolbar("show"),document.getElementById(this.vs[this.av].toolbarId).style.display="",this._viewRestore())};this.obj.hideToolbar=function(){this.vs[this.av].toolbar&&this.vs[this.av].toolbarId&&"none"!=document.getElementById(this.vs[this.av].toolbarId).style.display&&
(this.vs[this.av].toolbarHidden=!0,document.getElementById(this.vs[this.av].toolbarId).style.display="none",this._doOnAttachToolbar&&this._doOnAttachToolbar("hide"),this._viewRestore())};this.obj.showStatusBar=function(){this.vs[this.av].sb&&this.vs[this.av].sbId&&"none"==document.getElementById(this.vs[this.av].sbId).style.display&&(this.vs[this.av].sbHidden=!1,this._doOnAttachStatusBar&&this._doOnAttachStatusBar("show"),document.getElementById(this.vs[this.av].sbId).style.display="",this._viewRestore())};
this.obj.hideStatusBar=function(){this.vs[this.av].sb&&this.vs[this.av].sbId&&"none"!=document.getElementById(this.vs[this.av].sbId).style.display&&(this.vs[this.av].sbHidden=!0,document.getElementById(this.vs[this.av].sbId).style.display="none",this._doOnAttachStatusBar&&this._doOnAttachStatusBar("hide"),this._viewRestore())};this.obj._dhxContDestruct=function(){for(var a in this.vs)this.av=a,this.detachMenu(!0),this.detachToolbar(!0),this.detachStatusBar(!0),this.detachObject(!0),this.vs[a].dhxcont.mainCont[a]=
null;for(a in this.vs)this.vs[a].dhxcont.mainCont=null,this.vs[a].dhxcont.innerHTML="",this.vs[a].dhxcont=null,this.vs[a]=null;this.setActive=this.getView=this.getFrame=this._getSt=this._dhxContDestruct=this._genStr=this._init=this._setPadding=this._viewRestore=this._detachURLEvents=this._attachURLEvents=this._attachContent=this.updateNestedObjects=this.hideCoverBlocker=this.showCoverBlocker=this.coverBlocker=this.adjustContent=this.moveContentTo=this.setMinContentSize=this.adjust=this.show=this.view=
this.attachMap=this.attachURL=this.attachHTMLString=this.appendObject=this.detachObject=this.attachObject=this.attachEditor=this.attachLayout=this.attachAccordion=this.attachFolders=this.attachTabbar=this.attachTree=this.attachScheduler=this.attachGrid=this.hideStatusBar=this.hideToolbar=this.hideMenu=this.showStatusBar=this.showToolbar=this.showMenu=this.detachStatusBar=this.detachToolbar=this.detachMenu=this.attachStatusBar=this.attachToolbar=this.attachMenu=this.vs=null;b.st.innerHTML="";b.st.parentNode.removeChild(b.st);
b.st=null;b.setContent=null;b.dhxcont=null;b=b.obj=null;if(dhtmlx.detaches)for(a in dhtmlx.detaches)dhtmlx.detaches[a](this)};if(dhtmlx.attaches)for(var c in dhtmlx.attaches)this.obj[c]=dhtmlx.attaches[c];return this}
function dhtmlXCalendarObject(a,b){this.i={};this.uid=function(){this.uidd||(this.uidd=(new Date).getTime());return this.uidd++};var c=null,d="string"==typeof a?document.getElementById(a):a;d&&"object"==typeof d&&d.tagName&&"input"!=String(d.tagName).toLowerCase()&&(c=d);d=null;"object"==typeof a&&a.length||(a=[a]);for(d=0;d<a.length;d++)"string"==typeof a[d]&&(a[d]=document.getElementById(a[d])||null),null!=a[d]&&a[d].tagName&&"input"==String(a[d].tagName).toLowerCase()?this.i[this.uid()]={input:a[d]}:
a[d]instanceof Array||!(a[d]instanceof Object)||null==a[d].input&&null==a[d].button||(null!=a[d].input&&"string"==typeof a[d].input&&(a[d].input=document.getElementById(a[d].input)),null!=a[d].button&&"string"==typeof a[d].button&&(a[d].button=document.getElementById(a[d].button)),this.i[this.uid()]=a[d]),a[d]=null;this.skinDetect=function(){var a=document.createElement("DIV");a.className="dhtmlxcalendar_skin_detect";document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):
document.body.appendChild(a);var b=a.offsetWidth;a.parentNode.removeChild(a);return{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace",40:"dhx_blue",50:"dhx_black",60:"omega"}[b]||null};this.skin=null!=b?b:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:this.skinDetect()||"dhx_skyblue";this.setSkin=function(a,b){if(this.skin!=a||b)this.skin=a,this.base.className="dhtmlxcalendar_container dhtmlxcalendar_skin_"+this.skin,this._ifrSize()};this.base=document.createElement("DIV");this.base.className=
"dhtmlxcalendar_container";this.base.style.display="none";this.base.appendChild(document.createElement("DIV"));null!=c?(this._hasParent=!0,c.appendChild(this.base),c=null):document.body.appendChild(this.base);this.setParent=function(a){this._hasParent&&("object"==typeof a?a.appendChild(this.base):"string"==typeof a&&document.getElementById(a).appendChild(this.base))};this.setSkin(this.skin,!0);this.base.onclick=function(a){a=a||event;a.cancelBubble=!0};this.base.onmousedown=function(){return!1};this.loadUserLanguage=
function(a){if(this.langData[a]&&(this.lang=a,this.setWeekStartDay(this.langData[this.lang].weekstart),this.setDateFormat(this.langData[this.lang].dateformat||"%Y-%m-%d"),this.msCont))for(var b=a=0;b<this.msCont.childNodes.length;b++)for(var c=0;c<this.msCont.childNodes[b].childNodes.length;c++)this.msCont.childNodes[b].childNodes[c].innerHTML=this.langData[this.lang].monthesSNames[a++]};this.contMonth=document.createElement("DIV");this.contMonth.className="dhtmlxcalendar_month_cont";this.contMonth.onselectstart=
function(a){a=a||event;a.cancelBubble=!0;return a.returnValue=!1};this.base.firstChild.appendChild(this.contMonth);c=document.createElement("UL");c.className="dhtmlxcalendar_line";this.contMonth.appendChild(c);var e=document.createElement("LI");e.className="dhtmlxcalendar_cell dhtmlxcalendar_month_hdr";e.innerHTML="<div class='dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_left' onmouseover='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_left_hover\";' onmouseout='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_left\";'></div><span class='dhtmlxcalendar_month_label_month'>Month</span><span class='dhtmlxcalendar_month_label_year'>Year</span><div class='dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_right' onmouseover='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_right_hover\";' onmouseout='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_right\";'></div>";
c.appendChild(e);var f=this;e.onclick=function(a){a=a||event;var b=a.target||a.srcElement;b.className&&0===b.className.indexOf("dhtmlxcalendar_month_arrow")?(f._hideSelector(),a=b.parentNode.firstChild==b?-1:1,b=new Date(f._activeMonth),f._drawMonth(new Date(f._activeMonth.getFullYear(),f._activeMonth.getMonth()+a,1,0,0,0,0)),f.callEvent("onArrowClick",[b,new Date(f._activeMonth)])):b.className&&"dhtmlxcalendar_month_label_month"==b.className?(a.cancelBubble=!0,f._showSelector("month",31,21,"selector_month",
!0)):b.className&&"dhtmlxcalendar_month_label_year"==b.className?(a.cancelBubble=!0,f._showSelector("year",42,21,"selector_year",!0)):f._hideSelector()};this.contDays=document.createElement("DIV");this.contDays.className="dhtmlxcalendar_days_cont";this.base.firstChild.appendChild(this.contDays);this.setWeekStartDay=function(a){0==a&&(a=7);this._wStart=Math.min(Math.max(isNaN(a)?1:a,1),7);this._drawDaysOfWeek()};this._drawDaysOfWeek=function(){if(0==this.contDays.childNodes.length){var a=document.createElement("UL");
a.className="dhtmlxcalendar_line";this.contDays.appendChild(a)}else a=this.contDays.firstChild;var b=this._wStart,c=this.langData[this.lang].daysSNames;c.push(String(this.langData[this.lang].daysSNames[0]).valueOf());for(var d=0;8>d;d++){if(null==a.childNodes[d]){var e=document.createElement("LI");a.appendChild(e)}else e=a.childNodes[d];0==d?(e.className="dhtmlxcalendar_cell_wn",e.innerHTML="<div class='dhtmlxcalendar_label'>"+(this.langData[this.lang].weekname||"w")+"</div>"):(e.className="dhtmlxcalendar_cell"+
(6<=b?" dhtmlxcalendar_day_weekday_cell":"")+(1==d?"_first":""),e.innerHTML=c[b],7<++b&&(b=1))}null!=this._activeMonth&&this._drawMonth(this._activeMonth)};this._wStart=this.langData[this.lang].weekstart;this.setWeekStartDay(this._wStart);this.contDates=document.createElement("DIV");this.contDates.className="dhtmlxcalendar_dates_cont";this.base.firstChild.appendChild(this.contDates);this.contDates.onclick=function(a){a=a||event;a=a.target||a.srcElement;null!=a.parentNode&&null!=a.parentNode._date&&
(a=a.parentNode);if(null!=a._date&&!a._css_dis){var b=f._activeDate.getHours(),c=f._activeDate.getMinutes(),d=a._date;if(!f.checkEvent("onBeforeChange")||f.callEvent("onBeforeChange",[new Date(a._date.getFullYear(),a._date.getMonth(),a._date.getDate(),b,c)])){null!=f._activeDateCell&&(f._activeDateCell._css_date=!1,f._updateCellStyle(f._activeDateCell._q,f._activeDateCell._w));var e=f._activeDate.getFullYear()+"_"+f._activeDate.getMonth()!=d.getFullYear()+"_"+d.getMonth();f._nullDate=!1;f._activeDate=
new Date(d.getFullYear(),d.getMonth(),d.getDate(),b,c);f._activeDateCell=a;f._activeDateCell._css_date=!0;f._activeDateCell._css_hover=!1;f._updateCellStyle(f._activeDateCell._q,f._activeDateCell._w);e&&f._drawMonth(f._activeDate);f._activeInp&&f.i[f._activeInp]&&null!=f.i[f._activeInp].input&&(f.i[f._activeInp].input.value=f._dateToStr(new Date(f._activeDate.getTime())));f._hasParent||f._hide();f.callEvent("onClick",[new Date(f._activeDate.getTime())])}}};this.contDates.onmouseover=function(a){a=
a||event;var b=a.target||a.srcElement;null!=b.parentNode&&null!=b.parentNode._date&&(b=b.parentNode);null==b._date||f._lastHover==b||b._css_hover||(b._css_hover=!0,f._updateCellStyle(b._q,b._w),f._lastHover=b,f.callEvent("onMouseOver",[new Date(b._date.getFullYear(),b._date.getMonth(),b._date.getDate(),0,0,0,0),a]))};this.contDates.onmouseout=function(a){f._clearDayHover(a||event)};this._lastHover=null;this._clearDayHover=function(a){this._lastHover&&(this._lastHover._css_hover=!1,this._updateCellStyle(this._lastHover._q,
this._lastHover._w),f.callEvent("onMouseOut",[new Date(this._lastHover._date.getFullYear(),this._lastHover._date.getMonth(),this._lastHover._date.getDate(),0,0,0,0),a]),this._lastHover=null)};for(d=0;6>d;d++){c=document.createElement("UL");c.className="dhtmlxcalendar_line";this.contDates.appendChild(c);for(var g=0;7>=g;g++)e=document.createElement("LI"),e.className=0==g?"dhtmlxcalendar_cell_wn":"dhtmlxcalendar_cell",c.appendChild(e)}this.contTime=document.createElement("DIV");this.contTime.className=
"dhtmlxcalendar_time_cont";this.base.firstChild.appendChild(this.contTime);d=document.createElement("DIV");d.className="dhtmlxcalendar_bottom";this.base.firstChild.appendChild(d);d=null;this.showTime=function(){this.contTime.style.display="";this._ifrSize()};this.hideTime=function(){this.contTime.style.display="none";this._ifrSize()};c=document.createElement("UL");c.className="dhtmlxcalendar_line";this.contTime.appendChild(c);e=document.createElement("LI");e.className="dhtmlxcalendar_cell dhtmlxcalendar_time_hdr";
e.innerHTML="<div class='dhtmlxcalendar_time_label'></div><span class='dhtmlxcalendar_label_hours'></span><span class='dhtmlxcalendar_label_colon'>:</span><span class='dhtmlxcalendar_label_minutes'></span>";c.appendChild(e);e.onclick=function(a){a=a||event;var b=a.target||a.srcElement;null!=b.tagName&&"span"==b.tagName.toLowerCase()&&!0==b._par&&null!=b.parentNode&&(b=b.parentNode);if(b.className&&"dhtmlxcalendar_label_hours"==b.className)a.cancelBubble=!0,f._showSelector("hours",3,115,"selector_hours",
!0);else if(b.className&&"dhtmlxcalendar_label_minutes"==b.className){a.cancelBubble=!0;a=59;var c=115;1==f._minutesInterval&&(c=f.getFormatedDate("%i"),b.innerHTML="<span class='dhtmlxcalendar_selected_date'>"+c.charAt(0)+"</span>"+c.charAt(1),b.firstChild._par=!0,f._selectorMode=1,c=149);10==f._minutesInterval&&(c=149);15==f._minutesInterval&&(a=46,c=165);f._showSelector("minutes",a,c,"selector_minutes",!0)}else f._hideSelector()};this._activeMonth=null;this._activeDate=new Date;this._activeDateCell=
null;this.setDate=function(a){this._nullDate="undefined"==typeof a||""===a||!a;a instanceof Date||(a=this._strToDate(String(a||"")),"Invalid Date"==a&&(a=new Date));a=a.getTime();this._isOutOfRange(a)||(this._activeDate=new Date(a),this._drawMonth(this._nullDate?new Date:this._activeDate),this._updateVisibleHours(),this._updateVisibleMinutes())};this.getDate=function(a){if(this._nullDate)return null;var b=new Date(this._activeDate.getTime());return a?this._dateToStr(b):b};this._drawMonth=function(a){if(a instanceof
Date){isNaN(a.getFullYear())&&(a=new Date(this._activeMonth.getFullYear(),this._activeMonth.getMonth(),1,0,0,0,0));this._activeMonth=new Date(a.getFullYear(),a.getMonth(),1,0,0,0,0);this._activeDateCell=null;var b=new Date(this._activeMonth.getTime()),c=b.getDay()-this._wStart;0>c&&(c+=7);b.setDate(b.getDate()-c);for(var c=a.getMonth(),d=(new Date(this._activeDate.getFullYear(),this._activeDate.getMonth(),this._activeDate.getDate(),0,0,0,0)).getTime(),e=0,f=0;6>f;f++)for(var g=this._wStart,k=0;7>=
k;k++)if(0==k){var A=this.getWeekNumber(new Date(b.getFullYear(),b.getMonth(),b.getDate()+e,0,0,0,0));this.contDates.childNodes[f].childNodes[k].innerHTML="<div class='dhtmlxcalendar_label'>"+A+"</div>"}else{A=new Date(b.getFullYear(),b.getMonth(),b.getDate()+e,0,0,0,0);A.getDay();var C=A.getTime(),x="dhtmlxcalendar_label";null!=this._tipData[C]?(this._tipData[C].usePopup&&"function"==typeof window.dhtmlXPopup?(this.contDates.childNodes[f].childNodes[k].removeAttribute("title"),this._initTooltipPopup()):
this.contDates.childNodes[f].childNodes[k].setAttribute("title",this._tipData[C].text),this._tipData[C].showIcon&&(x+=" dhtmlxcalendar_label_title")):this.contDates.childNodes[f].childNodes[k].removeAttribute("title");this.contDates.childNodes[f].childNodes[k].innerHTML="<div class='"+x+"'>"+A.getDate()+"</div>";this.contDates.childNodes[f].childNodes[k]._date=new Date(C);this.contDates.childNodes[f].childNodes[k]._q=f;this.contDates.childNodes[f].childNodes[k]._w=k;this.contDates.childNodes[f].childNodes[k]._css_month=
A.getMonth()==c;this.contDates.childNodes[f].childNodes[k]._css_date=!this._nullDate&&C==d;this.contDates.childNodes[f].childNodes[k]._css_weekend=6<=g;this.contDates.childNodes[f].childNodes[k]._css_dis=this._isOutOfRange(C);this.contDates.childNodes[f].childNodes[k]._css_holiday=!0==this._holidays[C];this._updateCellStyle(f,k);C==d&&(this._activeDateCell=this.contDates.childNodes[f].childNodes[k]);7<++g&&(g=1);e++}this.contMonth.firstChild.firstChild.childNodes[1].innerHTML=this.langData[this.lang].monthesFNames[a.getMonth()];
this.contMonth.firstChild.firstChild.childNodes[2].innerHTML=a.getFullYear()}};this._updateCellStyle=function(a,b){var c=this.contDates.childNodes[a].childNodes[b],d;d="dhtmlxcalendar_cell dhtmlxcalendar_cell"+(c._css_month?"_month":"");d+=c._css_date?"_date":"";d+=c._css_weekend?"_weekend":"";d+=c._css_holiday?"_holiday":"";d+=c._css_dis?"_dis":"";d+=c._css_hover&&!c._css_dis?"_hover":"";c.className=d};this._minutesInterval=5;this._initSelector=function(a,b){this._selCover||(this._selCover=document.createElement("DIV"),
this._selCover.className="dhtmlxcalendar_selector_cover",this.base.firstChild.appendChild(this._selCover));this._sel||(this._sel=document.createElement("DIV"),this._sel.className="dhtmlxcalendar_selector_obj",this.base.firstChild.appendChild(this._sel),this._sel.appendChild(document.createElement("TABLE")),this._sel.firstChild.className="dhtmlxcalendar_selector_table",this._sel.firstChild.cellSpacing=0,this._sel.firstChild.cellPadding=0,this._sel.firstChild.border=0,this._sel.firstChild.appendChild(document.createElement("TBODY")),
this._sel.firstChild.firstChild.appendChild(document.createElement("TR")),this._sel.firstChild.firstChild.firstChild.appendChild(document.createElement("TD")),this._sel.firstChild.firstChild.firstChild.appendChild(document.createElement("TD")),this._sel.firstChild.firstChild.firstChild.appendChild(document.createElement("TD")),this._sel.firstChild.firstChild.firstChild.childNodes[0].className="dhtmlxcalendar_selector_cell_left",this._sel.firstChild.firstChild.firstChild.childNodes[1].className="dhtmlxcalendar_selector_cell_middle",
this._sel.firstChild.firstChild.firstChild.childNodes[2].className="dhtmlxcalendar_selector_cell_right",this._sel.firstChild.firstChild.firstChild.childNodes[0].innerHTML="&nbsp;",this._sel.firstChild.firstChild.firstChild.childNodes[2].innerHTML="&nbsp;",this._sel.firstChild.firstChild.firstChild.childNodes[0].onmouseover=function(){this.className="dhtmlxcalendar_selector_cell_left dhtmlxcalendar_selector_cell_left_hover"},this._sel.firstChild.firstChild.firstChild.childNodes[0].onmouseout=function(){this.className=
"dhtmlxcalendar_selector_cell_left"},this._sel.firstChild.firstChild.firstChild.childNodes[2].onmouseover=function(){this.className="dhtmlxcalendar_selector_cell_right dhtmlxcalendar_selector_cell_right_hover"},this._sel.firstChild.firstChild.firstChild.childNodes[2].onmouseout=function(){this.className="dhtmlxcalendar_selector_cell_right"},this._sel.firstChild.firstChild.firstChild.childNodes[0].onclick=function(a){a=a||event;a.cancelBubble=!0;f._scrollYears(-1)},this._sel.firstChild.firstChild.firstChild.childNodes[2].onclick=
function(a){a=a||event;a.cancelBubble=!0;f._scrollYears(1)},this._sel._ta={},this._selHover=null,this._sel.onmouseover=function(a){a=a||event;a=a.target||a.srcElement;!0===a._cell&&(f._selHover!=a&&f._clearSelHover(),null!=String(a.className).match(/^\s{0,}dhtmlxcalendar_selector_cell\s{0,}$/gi))&&(a.className+=" dhtmlxcalendar_selector_cell_hover",f._selHover=a)},this._sel.onmouseout=function(){f._clearSelHover()},this._sel.appendChild(document.createElement("DIV")),this._sel.lastChild.className=
"dhtmlxcalendar_selector_obj_arrow");if(!0!=this._sel._ta[a]){if("month"==a){this._msCells={};this.msCont=document.createElement("DIV");this.msCont.className="dhtmlxcalendar_area_"+b;this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.msCont);for(var c=0,d=0;4>d;d++){var e=document.createElement("UL");e.className="dhtmlxcalendar_selector_line";this.msCont.appendChild(e);for(var g=0;3>g;g++){var k=document.createElement("LI");k.innerHTML=this.langData[this.lang].monthesSNames[c];
k.className="dhtmlxcalendar_selector_cell";e.appendChild(k);k._month=c;k._cell=!0;this._msCells[c++]=k}}this.msCont.onclick=function(a){a=a||event;a.cancelBubble=!0;a=a.target||a.srcElement;null!=a._month&&(f._hideSelector(),f._updateActiveMonth(),f._drawMonth(new Date(f._activeMonth.getFullYear(),a._month,1,0,0,0,0)),f._doOnSelectorChange())}}if("year"==a){this._ysCells={};this.ysCont=document.createElement("DIV");this.ysCont.className="dhtmlxcalendar_area_"+b;this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.ysCont);
for(d=0;4>d;d++)for(e=document.createElement("UL"),e.className="dhtmlxcalendar_selector_line",this.ysCont.appendChild(e),g=0;3>g;g++)k=document.createElement("LI"),k.className="dhtmlxcalendar_selector_cell",k._cell=!0,e.appendChild(k);this.ysCont.onclick=function(a){a=a||event;a.cancelBubble=!0;a=a.target||a.srcElement;null!=a._year&&(f._hideSelector(),f._drawMonth(new Date(a._year,f._activeMonth.getMonth(),1,0,0,0,0)),f._doOnSelectorChange())}}if("hours"==a){this._hsCells={};this.hsCont=document.createElement("DIV");
this.hsCont.className="dhtmlxcalendar_area_"+b;this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.hsCont);for(d=c=0;4>d;d++)for(e=document.createElement("UL"),e.className="dhtmlxcalendar_selector_line",this.hsCont.appendChild(e),g=0;6>g;g++)k=document.createElement("LI"),k.innerHTML=this._fixLength(c,2),k.className="dhtmlxcalendar_selector_cell",e.appendChild(k),k._hours=c,k._cell=!0,this._hsCells[c++]=k;this.hsCont.onclick=function(a){a=a||event;a.cancelBubble=!0;a=a.target||
a.srcElement;null!=a._hours&&(f._hideSelector(),f._activeDate.setHours(a._hours),f._updateActiveHours(),f._updateVisibleHours(),f._doOnSelectorChange())}}if("minutes"==a){var w=4,A=3,C=2;1==this._minutesInterval&&(1==this._selectorMode?(w=2,A=3,C=1):(w=2,A=5,C=1,b+="5"));10==this._minutesInterval&&(w=2);15==this._minutesInterval&&(w=1,A=4,b+="4");this._rsCells={};this.rsCont=document.createElement("DIV");this.rsCont.className="dhtmlxcalendar_area_"+b;this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.rsCont);
for(d=c=0;d<w;d++)for(e=document.createElement("UL"),e.className="dhtmlxcalendar_selector_line",this.rsCont.appendChild(e),g=0;g<A;g++)k=document.createElement("LI"),k.innerHTML=1<C?this._fixLength(c,C):c,k.className="dhtmlxcalendar_selector_cell",e.appendChild(k),k._minutes=c,k._cell=!0,this._rsCells[c]=k,c+=this._minutesInterval;this.rsCont.onclick=function(a){a=a||event;a.cancelBubble=!0;a=a.target||a.srcElement;if(null!=a._minutes){if(1==f._minutesInterval){var b=f.getFormatedDate("%i"),b=1==
f._selectorMode?a._minutes.toString()+b.charAt(1):b.charAt(0)+a._minutes.toString();f._activeDate.setMinutes(Number(b));f._hideSelector();if(1==f._selectorMode){f._updateVisibleMinutes(!0);f._selectorMode=2;f._showSelector("minutes",32,149,"selector_minutes",!0);f._updateActiveMinutes();return}f._selectorMode=1}else f._hideSelector(),f._activeDate.setMinutes(a._minutes),f._updateActiveMinutes();f._updateVisibleMinutes();f._doOnSelectorChange()}}}this._sel._ta[a]=!0}};this._showSelector=function(a,
b,c,d,e){!0===e&&null!=this._sel&&this._isSelectorVisible()&&a==this._sel._t?this._hideSelector():("dhx_terrace"==this.skin&&(b+={month:14,year:27,hours:19,minutes:24}[a],c+={month:8,year:8,hours:14,minutes:14}[a]),(!this._sel||!this._sel._ta[a])&&this._initSelector(a,d),this._selCover.style.display="",this._sel._t=a,this._sel.style.left=b+"px",this._sel.style.top=c+"px",this._sel.style.display="",this._sel.className="dhtmlxcalendar_selector_obj dhtmlxcalendar_"+d,this._sel.childNodes[0].firstChild.firstChild.childNodes[0].style.display=
this._sel.childNodes[0].firstChild.firstChild.childNodes[2].style.display="year"==a?"":"none",this._sel.childNodes[1].style.width=this._sel.childNodes[0].offsetWidth+"px",this._doOnSelectorShow(a))};this._doOnSelectorShow=function(a){"month"==a&&this._updateActiveMonth();"year"==a&&this._updateYearsList(this._activeMonth);"hours"==a&&this._updateActiveHours();"minutes"==a&&this._updateActiveMinutes()};this._hideSelector=function(){this._sel&&(this._sel.style.display="none",this._selCover.style.display=
"none","minutes"==this._sel._t&&1==this._minutesInterval)&&(this.contTime.firstChild.firstChild.childNodes[3].innerHTML=this.getFormatedDate("%i"),this._unloadSelector("minutes"))};this._isSelectorVisible=function(){return this._sel?"none"!=this._sel.style.display:!1};this._doOnSelectorChange=function(a){this.callEvent("onChange",[new Date(this._activeMonth.getFullYear(),this._activeMonth.getMonth(),this._activeDate.getDate(),this._activeDate.getHours(),this._activeDate.getMinutes(),this._activeDate.getSeconds()),
!0===a])};this._clearSelHover=function(){this._selHover&&(this._selHover.className=String(this._selHover.className.replace(/dhtmlxcalendar_selector_cell_hover/gi,"")),this._selHover=null)};this._unloadSelector=function(a){if(this._sel&&this._sel._ta[a]){if("month"==a){this._msActive=this.msCont.onclick=null;for(var b in this._msCells)this._msCells[b]._cell=null,this._msCells[b]._month=null,this._msCells[b].parentNode.removeChild(this._msCells[b]),this._msCells[b]=null;for(this._msCells=null;0<this.msCont.childNodes.length;)this.msCont.removeChild(this.msCont.lastChild);
this.msCont.parentNode.removeChild(this.msCont);this.msCont=null}if("year"==a){this.ysCont.onclick=null;for(b in this._ysCells)this._ysCells[b]._cell=null,this._ysCells[b]._year=null,this._ysCells[b].parentNode.removeChild(this._ysCells[b]),this._ysCells[b]=null;for(this._ysCells=null;0<this.ysCont.childNodes.length;)this.ysCont.removeChild(this.ysCont.lastChild);this.ysCont.parentNode.removeChild(this.ysCont);this.ysCont=null}if("hours"==a){this._hsActive=this.hsCont.onclick=null;for(b in this._hsCells)this._hsCells[b]._cell=
null,this._hsCells[b]._hours=null,this._hsCells[b].parentNode.removeChild(this._hsCells[b]),this._hsCells[b]=null;for(this._hsCells=null;0<this.hsCont.childNodes.length;)this.hsCont.removeChild(this.hsCont.lastChild);this.hsCont.parentNode.removeChild(this.hsCont);this.hsCont=null}if("minutes"==a){this._rsActive=this.rsCont.onclick=null;for(b in this._rsCells)this._rsCells[b]._cell=null,this._rsCells[b]._minutes=null,this._rsCells[b].parentNode.removeChild(this._rsCells[b]),this._rsCells[b]=null;
for(this._rsCells=null;0<this.rsCont.childNodes.length;)this.rsCont.removeChild(this.rsCont.lastChild);this.rsCont.parentNode.removeChild(this.rsCont);this.rsCont=null}this._sel._ta[a]=null}};this.setMinutesInterval=function(a){if(1==a||5==a||10==a||15==a)this._minutesInterval=a,this._unloadSelector("minutes")};this._updateActiveMonth=function(){"undefined"!=typeof this._msActive&&"undefined"!=typeof this._msCells[this._msActive]&&(this._msCells[this._msActive].className="dhtmlxcalendar_selector_cell");
this._msActive=this._activeMonth.getMonth();this._msCells[this._msActive].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active"};this._updateActiveYear=function(){var a=this._activeMonth.getFullYear();this._ysCells[a]&&(this._ysCells[a].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active")};this._updateYearsList=function(a){for(var b in this._ysCells)this._ysCells[b]=null,delete this._ysCells[b];a=12*Math.floor(a.getFullYear()/12);for(b=0;4>b;b++)for(var c=
0;3>c;c++)this.ysCont.childNodes[b].childNodes[c].innerHTML=a,this.ysCont.childNodes[b].childNodes[c]._year=a,this.ysCont.childNodes[b].childNodes[c].className="dhtmlxcalendar_selector_cell",this._ysCells[a++]=this.ysCont.childNodes[b].childNodes[c];this._updateActiveYear()};this._scrollYears=function(a){a=new Date((0>a?this.ysCont.firstChild.firstChild._year:this.ysCont.lastChild.lastChild._year)+a,this._activeMonth.getMonth(),1,0,0,0,0);this._updateYearsList(a)};this._updateActiveHours=function(){"undefined"!=
typeof this._hsActive&&"undefined"!=typeof this._hsCells[this._hsActive]&&(this._hsCells[this._hsActive].className="dhtmlxcalendar_selector_cell");this._hsActive=this._activeDate.getHours();this._hsCells[this._hsActive].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active"};this._updateVisibleHours=function(){this.contTime.firstChild.firstChild.childNodes[1].innerHTML=this._fixLength(this._activeDate.getHours(),2)};this._updateActiveMinutes=function(){null!=this._rsActive&&
"undefined"!=typeof this._rsActive&&"undefined"!=typeof this._rsCells[this._rsActive]&&(this._rsCells[this._rsActive].className="dhtmlxcalendar_selector_cell");this._rsActive=1==this._minutesInterval?this.getFormatedDate("%i").toString().charAt(1==this._selectorMode?0:1):this._activeDate.getMinutes();"undefined"!=typeof this._rsCells[this._rsActive]&&(this._rsCells[this._rsActive].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active")};this._updateVisibleMinutes=function(a){var b=
this._fixLength(this._activeDate.getMinutes(),2).toString();!0==a&&(b=b.charAt(0)+"<span class='dhtmlxcalendar_selected_date'>"+b.charAt(1)+"</span>");this.contTime.firstChild.firstChild.childNodes[3].innerHTML=b;!0==a&&(this.contTime.firstChild.firstChild.childNodes[3].lastChild._par=!0)};this._fixLength=function(a,b){for(;String(a).length<b;)a="0"+String(a);return a};this._dateFormat="";this._dateFormatRE=null;this.setDateFormat=function(a){this._dateFormat=a;this._dateFormatRE=RegExp(String(this._dateFormat).replace(/%[a-zA-Z]+/g,
function(a){switch(a.replace(/%/,"")){case "n":case "h":case "j":case "g":case "G":return"\\d{1,2}";case "m":case "d":case "H":case "i":case "s":case "y":return"\\d{2}";case "Y":return"\\d{4}";case "M":return"("+f.langData[f.lang].monthesSNames.join("|").toLowerCase()+"){1,}";case "F":return"("+f.langData[f.lang].monthesFNames.join("|").toLowerCase()+"){1,}";case "D":return"[a-z]{2}";case "a":case "A":return"AM|PM"}return a}),"i")};this.setDateFormat(this.langData[this.lang].dateformat||"%Y-%m-%d");
this._getInd=function(a,b){for(var c=0;c<b.length;c++)if(b[c].toLowerCase()==a)return c;return-1};this._strToDate=function(a,b){b=b||this._dateFormat;var c=a.match(/[a-z0-9\u00e9\u00fb\u00e4\u0430-\u044F\u0451]{1,}/gi),d=b.match(/%[a-zA-Z]/g);if(!c||c.length!=d.length)return"Invalid Date";for(var e={"%y":1,"%Y":1,"%n":2,"%m":2,"%M":2,"%F":2,"%d":3,"%j":3,"%a":4,"%A":4,"%H":5,"%G":5,"%h":5,"%g":5,"%i":6,"%s":7},g={},k={},w=0;w<d.length;w++)if("undefined"!=typeof e[d[w]]){var A=e[d[w]];g[A]||(g[A]=
[],k[A]=[]);g[A].push(c[w]);k[A].push(d[w])}c=[];d=[];for(w=1;7>=w;w++)if(null!=g[w])for(e=0;e<g[w].length;e++)c.push(g[w][e]),d.push(k[w][e]);g=new Date;g.setDate(1);g.setMinutes(0);g.setSeconds(0);for(w=0;w<c.length;w++)switch(d[w]){case "%d":case "%j":case "%n":case "%m":case "%Y":case "%H":case "%G":case "%i":case "%s":if(!isNaN(c[w]))g[{"%d":"setDate","%j":"setDate","%n":"setMonth","%m":"setMonth","%Y":"setFullYear","%H":"setHours","%G":"setHours","%i":"setMinutes","%s":"setSeconds"}[d[w]]](Number(c[w])+
("%m"==d[w]||"%n"==d[w]?-1:0));break;case "%M":case "%F":k=this._getInd(c[w].toLowerCase(),f.langData[f.lang][{"%M":"monthesSNames","%F":"monthesFNames"}[d[w]]]);0<=k&&g.setMonth(k);break;case "%y":if(!isNaN(c[w])){var C=Number(c[w]);g.setFullYear(C+(50<C?1900:2E3))}break;case "%g":case "%h":isNaN(c[w])||(C=Number(c[w]),12>=C&&0<=C&&g.setHours(C+(0<=this._getInd("pm",c)?12==C?0:12:12==C?-12:0)))}return g};this._dateToStr=function(a,b){if(a instanceof Date)var c=function(a){return 1==String(a).length?
"0"+String(a):a},d=String(b||this._dateFormat).replace(/%[a-zA-Z]/g,function(b){switch(b){case "%d":return c(a.getDate());case "%j":return a.getDate();case "%D":return f.langData[f.lang].daysSNames[a.getDay()];case "%l":return f.langData[f.lang].daysFNames[a.getDay()];case "%m":return c(a.getMonth()+1);case "%n":return a.getMonth()+1;case "%M":return f.langData[f.lang].monthesSNames[a.getMonth()];case "%F":return f.langData[f.lang].monthesFNames[a.getMonth()];case "%y":return c(a.getYear()%100);case "%Y":return a.getFullYear();
case "%g":return(a.getHours()+11)%12+1;case "%h":return c((a.getHours()+11)%12+1);case "%G":return a.getHours();case "%H":return c(a.getHours());case "%i":return c(a.getMinutes());case "%s":return c(a.getSeconds());case "%a":return 11<a.getHours()?"pm":"am";case "%A":return 11<a.getHours()?"PM":"AM";default:return b}});return d||String(a)};this._updateDateStr=function(a){this._dateFormatRE&&a.match(this._dateFormatRE)&&a!=this.getFormatedDate()&&(a=this._strToDate(a),a instanceof Date&&(this.checkEvent("onBeforeChange")&&
!this.callEvent("onBeforeChange",[new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())])?null!=this.i&&null!=this._activeInp&&null!=this.i[this._activeInp]&&null!=this.i[this._activeInp].input&&(this.i[this._activeInp].input.value=this.getFormatedDate()):(this._nullDate=!1,this._activeDate=a,this._drawMonth(this._nullDate?new Date:this._activeDate),this._updateVisibleMinutes(),this._updateVisibleHours(),this._sel&&this._isSelectorVisible()&&this._doOnSelectorShow(this._sel._t),
this._doOnSelectorChange(!0))))};this.showMonth=function(a){"string"==typeof a&&(a=this._strToDate(a));a instanceof Date&&this._drawMonth(a)};this.setFormatedDate=function(a,b,c,d){a=this._strToDate(b,a);if(d)return a;this.setDate(a)};this.getFormatedDate=function(a,b){if(!(b&&b instanceof Date)){if(this._nullDate)return"";b=new Date(this._activeDate)}return this._dateToStr(b,a)};this.getWeekNumber=function(a){"string"==typeof a&&(a=this._strToDate(a));if(!(a instanceof Date))return"Invalid Date";
"undefined"==typeof this._ftDay&&(this._ftDay=4);var b=this._wStart,c=4,d=(new Date(a.getFullYear(),0,1,0,0,0,0)).getDay();0==d&&(d=7);c<b&&(c+=7,d+=7);var e=0;d>=b&&d<=c||(e=1);b=d-b;e=new Date(a.getFullYear(),0,1-b+7*e,0,0,0,0);a=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,0,0,0,0);return Math.ceil((a.getTime()-e.getTime())/6048E5)};this.showWeekNumbers=function(){this.base.firstChild.className="dhtmlxcalendar_wn"};this.hideWeekNumbers=function(){this.base.firstChild.className=""};this.show=
function(a){if(!a&&this._hasParent)this._show();else if("object"==typeof a&&"undefined"!=typeof a._dhtmlxcalendar_uid&&this.i[a._dhtmlxcalendar_uid]==a)this._show(a._dhtmlxcalendar_uid);else{if("undefined"==typeof a)for(var b in this.i)a||(a=b);a&&this._show(a)}};this.hide=function(){this._isVisible()&&this._hide()};this.isVisible=function(){return this._isVisible()};this.draw=function(){this.show()};this.close=function(){this.hide()};this._activeInp=null;this.pos="bottom";this.setPosition=function(a,
b){this._py=this._px=null;"right"==a||"bottom"==a?this.pos=a:(this.pos="int","undefined"==typeof a||isNaN(a)||(this.base.style.left=a+"px",this._px=a),"undefined"==typeof b||isNaN(b)||(this.base.style.top=b+"px",this._py=b),this._ifrSize())};this._show=function(a,b){if(!0===b&&this._activeInp==a&&this._isVisible())this._hide();else{this.base.style.visibility="hidden";this.base.style.display="";if(a){var c=this.i[a].input||this.i[a].button,d=-1!=navigator.appVersion.indexOf("MSIE"),d=Math.max((d?document.documentElement:
document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop)+(d?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight);"right"==this.pos?(this.base.style.left=this._getLeft(c)+c.offsetWidth-1+"px",this.base.style.top=Math.min(this._getTop(c),d-this.base.offsetHeight)+"px"):"bottom"==this.pos?(this.base.style.left=this._getLeft(c)+"px",this.base.style.top=this._getTop(c)+c.offsetHeight+1+"px"):(this.base.style.left=
(this._px||0)+"px",this.base.style.top=(this._py||0)+"px");this._activeInp=a}else this._px&&this._py?(this.base.style.left=this._px+"px",this.base.style.top=this._py+"px"):(this.base.style.left="0px",this.base.style.top="0px");this._hideSelector();this.base.style.visibility="visible";this._ifrSize();this._ifr&&(this._ifr.style.display="");this.callEvent("onShow",[])}};this._hide=function(){this._hideSelector();this.base.style.display="none";this._activeInp=null;this._ifr&&(this._ifr.style.display=
"none");this.callEvent("onHide",[])};this._isVisible=function(){return"none"!=this.base.style.display};this._getLeft=function(a){return this._posGetOffset(a).left};this._getTop=function(a){return this._posGetOffset(a).top};this._posGetOffsetSum=function(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:b,left:c}};this._posGetOffsetRect=function(a){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,d=a.left+(window.pageXOffset||
c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0);return{top:Math.round(a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0)),left:Math.round(d)}};this._posGetOffset=function(a){return this[a.getBoundingClientRect?"_posGetOffsetRect":"_posGetOffsetSum"](a)};this._rangeActive=!1;this._rangeTo=this._rangeFrom=null;this._rangeSet={};this.setInsensitiveDays=function(a){a=this._extractDates(a);for(var b=0;b<a.length;b++)this._rangeSet[(new Date(a[b].getFullYear(),
a[b].getMonth(),a[b].getDate(),0,0,0,0)).getTime()]=!0;this._drawMonth(this._activeMonth)};this.clearInsensitiveDays=function(){this._clearRangeSet();this._drawMonth(this._activeMonth)};this._holidays={};this.setHolidays=function(a){if(null==a)this._clearHolidays();else if(null!=a){a=this._extractDates(a);for(var b=0;b<a.length;b++)this._holidays[(new Date(a[b].getFullYear(),a[b].getMonth(),a[b].getDate(),0,0,0,0)).getTime()]=!0}this._drawMonth(this._activeMonth)};this._extractDates=function(a){if("string"==
typeof a||a instanceof Date)a=[a];for(var b=[],c=0;c<a.length;c++)if("string"==typeof a[c])for(var d=a[c].split(","),e=0;e<d.length;e++)b.push(this._strToDate(d[e]));else a[c]instanceof Date&&b.push(a[c]);return b};this._clearRange=function(){this._rangeActive=!1;this._rangeTo=this._rangeFrom=this._rangeType=null};this._clearRangeSet=function(){for(var a in this._rangeSet)this._rangeSet[a]=null,delete this._rangeSet[a]};this._clearHolidays=function(){for(var a in this._holidays)this._holidays[a]=
null,delete this._holidays[a]};this._isOutOfRange=function(a){if(!0==this._rangeSet[a]||this._rangeActive&&("in"==this._rangeType&&(a<this._rangeFrom||a>this._rangeTo)||"out"==this._rangeType&&a>=this._rangeFrom&&a<=this._rangeTo||"from"==this._rangeType&&a<this._rangeFrom||"to"==this._rangeType&&a>this._rangeTo))return!0;a=new Date(a);return this._rangeWeek&&!0===this._rangeWeekData[a.getDay()]?!0:this._rangeMonth&&!0===this._rangeMonthData[a.getDate()]?!0:this._rangeYear&&!0===this._rangeYearData[a.getMonth()+
"_"+a.getDate()]?!0:!1};this.clearSensitiveRange=function(){this._clearRange();this._drawMonth(this._activeMonth)};this.setSensitiveRange=function(a,b,c){var d=!1;if(null!=a&&null!=b){a instanceof Date||(a=this._strToDate(a));b instanceof Date||(b=this._strToDate(b));if(a.getTime()>b.getTime())return;this._rangeFrom=(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)).getTime();this._rangeTo=(new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0)).getTime();this._rangeActive=!0;this._rangeType=
"in";d=!0}d||null==a||null!=b||(a instanceof Date||(a=this._strToDate(a)),this._rangeFrom=(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)).getTime(),this._rangeTo=null,!0===c&&this._rangeFrom++,this._rangeActive=!0,this._rangeType="from",d=!0);d||null!=a||null==b||(b instanceof Date||(b=this._strToDate(b)),this._rangeFrom=null,this._rangeTo=(new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0)).getTime(),!0===c&&this._rangeTo--,this._rangeActive=!0,this._rangeType="to",d=!0);d&&
this._drawMonth(this._activeMonth)};this.setInsensitiveRange=function(a,b){null!=a&&null!=b?(a instanceof Date||(a=this._strToDate(a)),b instanceof Date||(b=this._strToDate(b)),a.getTime()>b.getTime())||(this._rangeFrom=(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)).getTime(),this._rangeTo=(new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0)).getTime(),this._rangeActive=!0,this._rangeType="out",this._drawMonth(this._activeMonth)):null!=a&&null==b?this.setSensitiveRange(null,a,
!0):null==a&&null!=b&&this.setSensitiveRange(b,null,!0)};this.disableDays=function(a,b){if("week"==a){"object"!=typeof b&&"undefined"==typeof b.length&&(b=[b]);this._rangeWeekData||(this._rangeWeekData={});for(var c in this._rangeWeekData)this._rangeWeekData[c]=!1,delete this._rangeWeekData[c];for(var d=0;d<b.length;d++)this._rangeWeekData[b[d]]=!0,7==b[d]&&(this._rangeWeekData[0]=!0);this._rangeWeek=!0}if("month"==a){"object"!=typeof b&&"undefined"==typeof b.length&&(b=[b]);this._rangeMonthData||
(this._rangeMonthData={});for(c in this._rangeMonthData)this._rangeMonthData[c]=!1,delete this._rangeMonthData[c];for(d=0;d<b.length;d++)this._rangeMonthData[b[d]]=!0;this._rangeMonth=!0}if("year"==a){var e=this._extractDates(b);this._rangeYearData||(this._rangeYearData={});for(c in this._rangeYearData)this._rangeYearData[c]=!1,delete this._rangeYearData[c];for(d=0;d<e.length;d++)this._rangeYearData[e[d].getMonth()+"_"+e[d].getDate()]=!0;this._rangeYear=!0}this._drawMonth(this._activeMonth)};this.enableDays=
function(a){"week"==a&&(this._rangeWeek=!1);"month"==a&&(this._rangeMonth=!1);"year"==a&&(this._rangeYear=!1);this._drawMonth(this._activeMonth)};this._tipData={};this._tipTM=null;this._tipTMTime=400;this._tipEvs=!1;this._tipCellDim=this._tipCellDate=this._tipPopup=null;this.setTooltip=function(a,b,c,d){a=this._extractDates(a);for(var e=0;e<a.length;e++){var f=(new Date(a[e].getFullYear(),a[e].getMonth(),a[e].getDate(),0,0,0,0)).getTime();this._tipData[f]={text:b,showIcon:c,usePopup:d}}this._drawMonth(this._activeMonth)};
this.clearTooltip=function(a){a=this._extractDates(a);for(var b=0;b<a.length;b++){var c=(new Date(a[b].getFullYear(),a[b].getMonth(),a[b].getDate(),0,0,0,0)).getTime();this._tipData[c]=null;delete this._tipData[c]}this._drawMonth(this._activeMonth)};this._initTooltipPopup=function(){this._tipEvs||(this.attachEvent("onMouseOver",function(a){var b=(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)).getTime();null!=this._tipData[b]&&(this._tipTM&&window.clearTimeout(this._tipTM),this._tipCellDate=
a,this._tipCellDim=this.getCellDimension(a),this._tipText=this._tipData[b].text,this._tipTM=window.setTimeout(this._showTooltipPopup,this._tipTMTime))}),this.attachEvent("onMouseOut",this._hideTooltipPopup),this._tipEvs=!0)};this._showTooltipPopup=function(){f._tipPopup||(f._tipPopup=new dhtmlXPopup({mode:"top"}));f._tipPopup.attachHTML(f._tipText);f._tipPopup.show(f._tipCellDim.x,f._tipCellDim.y,f._tipCellDim.w,f._tipCellDim.h);f.callEvent("onPopupShow",[f._tipCellDate])};this._hideTooltipPopup=
function(){this._tipTM&&window.clearTimeout(this._tipTM);null!=this._tipPopup&&this._tipPopup.isVisible()&&(this._tipPopup.hide(),this.callEvent("onPopupHide",[this._tipCellDate]))};this.getPopup=function(){return this._tipPopup};this.getCellDimension=function(a){"string"==typeof a&&(a=this._strToDate(a));if(!(a instanceof Date))return null;a=(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)).getTime();for(var b=null,c=0;c<this.contDates.childNodes.length;c++)for(var d=0;d<this.contDates.childNodes[c].childNodes.length;d++){var e=
this.contDates.childNodes[c].childNodes[d];null!=e._date&&e._date.getTime()==a&&(b={x:this._getLeft(e),y:this._getTop(e),w:e.offsetWidth,h:e.offsetHeight})}return b};this._updateFromInput=function(a){this._nullInInput&&0==a.value.replace(/\s/g,"").length?this.checkEvent("onBeforeChange")&&!this.callEvent("onBeforeChange",[null])?null!=this.i&&null!=this._activeInp&&null!=this.i[this._activeInp]&&null!=this.i[this._activeInp].input&&(this.i[this._activeInp].input.value=this.getFormatedDate()):this.setDate(null):
this._updateDateStr(a.value)};this._doOnClick=function(a){a=a||event;a=a.target||a.srcElement;a._dhtmlxcalendar_uid&&a._dhtmlxcalendar_uid!=f._activeInp&&f._isVisible()&&f._activeInp?f._hide():a._dhtmlxcalendar_uid&&f.i[a._dhtmlxcalendar_uid]||(f._isSelectorVisible()?f._hideSelector():!f._hasParent&&f._isVisible()&&f._hide())};this._doOnKeyDown=function(a){a=a||event;if(27==a.keyCode||13==a.keyCode)f._isSelectorVisible()?f._hideSelector():f._isVisible()&&!f._hasParent&&f._hide()};this._doOnInpClick=
function(a){a=a||event;a=a.target||a.srcElement;a._dhtmlxcalendar_uid&&(f._listenerEnabled||f._updateFromInput(a),f._show(a._dhtmlxcalendar_uid,!0))};this._doOnInpKeyUp=function(a){a=a||event;var b=a.target||a.srcElement;13!=a.keyCode&&b._dhtmlxcalendar_uid&&(f._listenerEnabled||f._updateFromInput(b))};this._doOnBtnClick=function(a){a=a||event;a=a.target||a.srcElement;a._dhtmlxcalendar_uid&&(null!=f.i[a._dhtmlxcalendar_uid].input&&f._updateFromInput(f.i[a._dhtmlxcalendar_uid].input),f._show(a._dhtmlxcalendar_uid,
!0))};this._doOnUnload=function(){f&&f.unload&&f.unload()};window.addEventListener?(document.body.addEventListener("click",f._doOnClick,!1),window.addEventListener("keydown",f._doOnKeyDown,!1),window.addEventListener("unload",f._doOnUnload,!1)):(document.body.attachEvent("onclick",f._doOnClick),document.body.attachEvent("onkeydown",f._doOnKeyDown),window.attachEvent("onunload",f._doOnUnload));this.attachObj=function(a){"string"==typeof a&&(a=document.getElementById(a));var b=this.uid();this.i[b]=
a;this._attachEventsToObject(b)};this.detachObj=function(a){"string"==typeof a&&(a=document.getElementById(a));a=a._dhtmlxcalendar_uid;null!=this.i[a]&&(this._detachEventsFromObject(a),this.i[a]._dhtmlxcalendar_uid=null,this.i[a]=null,delete this.i[a])};this._attachEventsToObject=function(a){null!=this.i[a].button?(this.i[a].button._dhtmlxcalendar_uid=a,window.addEventListener?this.i[a].button.addEventListener("click",f._doOnBtnClick,!1):this.i[a].button.attachEvent("onclick",f._doOnBtnClick)):null!=
this.i[a].input&&(this.i[a].input._dhtmlxcalendar_uid=a,window.addEventListener?(this.i[a].input.addEventListener("click",f._doOnInpClick,!1),this.i[a].input.addEventListener("keyup",f._doOnInpKeyUp,!1)):(this.i[a].input.attachEvent("onclick",f._doOnInpClick),this.i[a].input.attachEvent("onkeyup",f._doOnInpKeyUp)))};this.enableListener=function(a){a&&(window.addEventListener?(a.addEventListener("focus",f._listenerEvFocus,!1),a.addEventListener("blur",f._listenerEvBlur,!1)):(a.attachEvent("onfocus",
f._listenerEvFocus),a.attachEvent("onblur",f._listenerEvBlur)))};this.disableListener=function(a){a&&(a._f0=!1,this._tmListener&&window.clearTimeout(this._tmListener),window.addEventListener?(a.removeEventListener("focus",f._listenerEvFocus,!1),a.removeEventListener("blur",f._listenerEvBlur,!1)):(a.detachEvent("onfocus",f._listenerEvFocus),a.detachEvent("onblur",f._listenerEvBlur)))};this._startListener=function(a){this._tmListener&&window.clearTimeout(this._tmListener);"undefined"==typeof a._v1&&
(a._v1=a.value);a._v1!=a.value&&(this._updateFromInput(a),a._v1=a.value);a._f0&&(this._tmListener=window.setTimeout(function(){f._startListener(a)},100))};this._listenerEvFocus=function(a){a=a||event;a=a.target||a.srcElement;a._f0=!0;f._startListener(a)};this._listenerEvBlur=function(a){a=a||event;(a.target||a.srcElement)._f0=!1};this._detachEventsFromObject=function(a){null!=this.i[a].button?window.addEventListener?this.i[a].button.removeEventListener("click",f._doOnBtnClick,!1):this.i[a].button.detachEvent("onclick",
f._doOnBtnClick):null!=this.i[a].input&&(window.addEventListener?(this.i[a].input.removeEventListener("click",f._doOnInpClick,!1),this.i[a].input.removeEventListener("keyup",f._doOnInpKeyUp,!1)):(this.i[a].input.detachEvent("onclick",f._doOnInpClick),this.i[a].input.detachEvent("onkeyup",f._doOnInpKeyUp)))};for(var k in this.i)this._attachEventsToObject(k);this.evs={};this.attachEvent=function(a,b){var c=this.uid();this.evs[c]={name:String(a).toLowerCase(),func:b};return c};this.detachEvent=function(a){this.evs[a]&&
(this.evs[a].name=null,this.evs[a].func=null,this.evs[a]=null,delete this.evs[a])};this.callEvent=function(a,b){var c=!0,d=String(a).toLowerCase();b=b||[];for(var e in this.evs)if(this.evs[e].name==d)var f=this.evs[e].func.apply(this,b),c=c&&f;return c};this.checkEvent=function(a){var b=!1;a=String(a).toLowerCase();for(var c in this.evs)b=b||this.evs[c].name==a;return b};this.unload=function(){this.uidd=this.uid=this._lastHover=this._dateFormatRE=this._dateFormat=this._activeMonth=this._activeInp=
this._activeDateCell=this._activeDate=null;this._tmListener&&window.clearTimeout(this._tmListener);this._tmListener=null;window.addEventListener?(document.body.removeEventListener("click",f._doOnClick,!1),window.removeEventListener("keydown",f._doOnKeyDown,!1),window.removeEventListener("unload",f._doOnUnload,!1)):(document.body.detachEvent("onclick",f._doOnClick),document.body.detachEvent("onkeydown",f._doOnKeyDown),window.detachEvent("onunload",f._doOnKeyDown));this._doOnUnload=this._doOnKeyDown=
this._doOnClick=null;for(var a in this.i)this.i[a]._dhtmlxcalendar_uid=null,this._detachEventsFromObject(a),this.disableListener(this.i[a].input),this.i[a]=null,delete this.i[a];this._doOnInpKeyUp=this._doOnInpClick=this.i=null;for(a in this.evs)this.detachEvent(a);this.callEvent=this.checkEvent=this.detachEvent=this.attachEvent=this.evs=null;this.contMonth.onselectstart=null;this.contMonth.firstChild.firstChild.onclick=null;this.contMonth.firstChild.firstChild.firstChild.onmouseover=null;this.contMonth.firstChild.firstChild.firstChild.onmouseout=
null;this.contMonth.firstChild.firstChild.lastChild.onmouseover=null;for(this.contMonth.firstChild.firstChild.lastChild.onmouseout=null;0<this.contMonth.firstChild.firstChild.childNodes.length;)this.contMonth.firstChild.firstChild.removeChild(this.contMonth.firstChild.firstChild.lastChild);this.contMonth.firstChild.removeChild(this.contMonth.firstChild.firstChild);this.contMonth.removeChild(this.contMonth.firstChild);this.contMonth.parentNode.removeChild(this.contMonth);for(this.contMonth=null;0<
this.contDays.firstChild.childNodes.length;)this.contDays.firstChild.removeChild(this.contDays.firstChild.lastChild);this.contDays.removeChild(this.contDays.firstChild);this.contDays.parentNode.removeChild(this.contDays);this.contDays=null;this.contDates.onclick=null;this.contDates.onmouseover=null;for(this.contDates.onmouseout=null;0<this.contDates.childNodes.length;){for(;0<this.contDates.lastChild.childNodes.length;)this.contDates.lastChild.lastChild._css_date=null,this.contDates.lastChild.lastChild._css_month=
null,this.contDates.lastChild.lastChild._css_weekend=null,this.contDates.lastChild.lastChild._css_hover=null,this.contDates.lastChild.lastChild._date=null,this.contDates.lastChild.lastChild._q=null,this.contDates.lastChild.lastChild._w=null,this.contDates.lastChild.removeChild(this.contDates.lastChild.lastChild);this.contDates.removeChild(this.contDates.lastChild)}this.contDates.parentNode.removeChild(this.contDates);this.contDates=null;for(this.contTime.firstChild.firstChild.onclick=null;0<this.contTime.firstChild.firstChild.childNodes.length;)this.contTime.firstChild.firstChild.removeChild(this.contTime.firstChild.firstChild.lastChild);
this.contTime.firstChild.removeChild(this.contTime.firstChild.firstChild);this.contTime.removeChild(this.contTime.firstChild);this.contTime.parentNode.removeChild(this.contTime);this._lastHover=this.contTime=null;this._unloadSelector("month");this._unloadSelector("year");this._unloadSelector("hours");this._unloadSelector("minutes");this._selCover&&(this._selCover.parentNode.removeChild(this._selCover),this._selCover=null);if(this._sel){for(a in this._sel._ta)this._sel._ta[a]=null;this._sel._ta=null;
this._sel._t=null;this._sel.onmouseover=null;for(this._sel.onmouseout=null;0<this._sel.firstChild.firstChild.firstChild.childNodes.length;)this._sel.firstChild.firstChild.firstChild.lastChild.onclick=null,this._sel.firstChild.firstChild.firstChild.lastChild.onmouseover=null,this._sel.firstChild.firstChild.firstChild.lastChild.onmouseout=null,this._sel.firstChild.firstChild.firstChild.removeChild(this._sel.firstChild.firstChild.firstChild.lastChild);this._sel.firstChild.firstChild.removeChild(this._sel.firstChild.firstChild.firstChild);
for(this._sel.firstChild.removeChild(this._sel.firstChild.firstChild);0<this._sel.childNodes.length;)this._sel.removeChild(this._sel.lastChild);this._sel.parentNode.removeChild(this._sel);this._sel=null}this.base.onclick=null;this.base.onmouseout=null;this.base.parentNode.removeChild(this.base);this.unload=this.showTime=this.show=this.setYearsRange=this.setDateFormat=this.setDate=this.hideTime=this.hide=this.enableIframe=this._updateYearsList=this._updateVisibleMinutes=this._updateVisibleHours=this._updateDateStr=
this._updateCellStyle=this._updateActiveYear=this._updateActiveMonth=this._updateActiveMinutes=this._updateActiveHours=this._strToDate=this._showSelector=this._show=this._scrollYears=this._posGetOffsetSum=this._posGetOffsetRect=this._posGetOffset=this._isVisible=this._isSelectorVisible=this._initSelector=this._hideSelector=this._hide=this._ifrSize=this._getTop=this._getLeft=this._fixLength=this._drawMonth=this._doOnSelectorShow=this._doOnSelectorChange=this._clearSelHover=this._clearDayHover=this.base=
null;null!=this._tipPopup&&(this._tipPopup.unload(),this._tipPopup=null);for(a in this)delete this[a];f=null};this.setDate(this._activeDate);return this}dhtmlXCalendarObject.prototype.setYearsRange=function(){};dhtmlXCalendarObject.prototype.lang="en";
dhtmlXCalendarObject.prototype.langData={en:{dateformat:"%Y-%m-%d",monthesFNames:"January February March April May June July August September October November December".split(" "),monthesSNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),daysFNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysSNames:"Su Mo Tu We Th Fr Sa".split(" "),weekstart:1,weekname:"w"}};
dhtmlXCalendarObject.prototype.enableIframe=function(a){!0==a?this._ifr||(this._ifr=document.createElement("IFRAME"),this._ifr.frameBorder=0,this._ifr.border=0,this._ifr.setAttribute("src","javascript:false;"),this._ifr.className="dhtmlxcalendar_ifr",this._ifr.onload=function(){this.onload=null;this.contentWindow.document.open("text/html","replace");this.contentWindow.document.write("<html><head><style>html,body{width:100%;height:100%;overflow:hidden;margin:0px;}</style></head><body</body></html>")},
this.base.parentNode.insertBefore(this._ifr,this.base),this._ifrSize()):this._ifr&&(this._ifr.parentNode.removeChild(this._ifr),this._ifr=null)};dhtmlXCalendarObject.prototype._ifrSize=function(){this._ifr&&(this._ifr.style.left=this.base.style.left,this._ifr.style.top=this.base.style.top,this._ifr.style.width=this.base.offsetWidth+"px",this._ifr.style.height=this.base.offsetHeight+"px")};dhtmlxCalendarObject=dhtmlXCalendarObject;
function dhtmlXColorPickerInput(a){"object"!=typeof a&&(a=document.getElementById(a));var b=a.getAttribute("colorbox"),c=a.getAttribute("customcolors"),d=a.getAttribute("selectonclick"),e=a.getAttribute("fullview"),f=a.getAttribute("selectedcolor"),g=a;b&&(b=document.createElement("DIV"),b.style.width=a.offsetWidth+"px",b.style.height=a.offsetHeight+"px",a.style.width=a.offsetWidth-a.offsetHeight-2,a.parentNode.insertBefore(b,a),b.style.position="relative",g=document.createElement("DIV"),b.appendChild(g),
b.appendChild(a),g.className="cs_colorBox",a.className+=" cs_colorInput",g.style.width=g.style.height=a.offsetHeight-(document.all?0:2)+"px",a.style.left=a.offsetHeight+2+"px");c=new dhtmlXColorPicker(null,d,c,!0,e);f&&c.setColor(f);c.linkToObjects=[g,a,a];return c}
function dhtmlXColorPicker(a,b,c,d,e){if(document.all)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(f){}this._cc=c;a||(a=document.createElement("DIV"),a.style.position="absolute",document.body.appendChild(a),a._dhx_remove=!0);this.container="object"!=typeof a?document.getElementById(a):a;dhtmlxEventable(this);this.skinName=dhtmlx.skin||"";this.ready=!1;this.hideOnInit=d||!1;this.linkToObjects=[];this.imgURL=dhtmlx.image_path||window.dhx_globalImgPath||"";this.hideSelfOnSelect=!0;this.hex=
"000000";this.h=100;this.s=0.9;this.v=0.1;this.old_sat=this.old_hue=this.b=this.g=this.r=0;this.customColorsCount=(this.fullview=e||!1)?8:10;this.language=null;this.elements=[];this.customColors=[];this.restoreFrom=null;this.fullview?this.colorSelectW=this.colorSelectH=255:(this.colorSelectH=119,this.colorSelectW=209);this.isClickOnly=b||!1;if(null==window.cs_dechex)for(a=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"],window.cs_dechex=[],b=0;256>b;b++)c=a[b>>4].toString()+a[b&15].toString(),2>c.length&&
(c="0"+c),window.cs_dechex[b]=c;defLeng={langname:"en-us",labelHue:"Hue",labelSat:"Sat",labelLum:"Lum",labelRed:"Red",labelGreen:"Green",labelBlue:"Blue",btnAddColor:"Add to Custom Colors",btnSelect:"Select",btnCancel:"Cancel"};window.dhtmlxColorPickerObjects?window.dhtmlxColorPickerObjects[window.dhtmlxColorPickerObjects.length]=this:window.dhtmlxColorPickerObjects=[this];window.dhtmlxColorPickerLangModules||(window.dhtmlxColorPickerLangModules={});window.dhtmlxColorPickerLangModules["en-us"]=defLeng;
return this}
dhtmlXColorPicker.prototype.generate=function(){X="BackCompat"!=document.compatMode?"X":"";if(this.fullview)a="<div class='dhtmlxcolorpicker"+(""!=this.skinName?"_"+this.skinName:"")+"' csid='cs_Content' style='display:none;'>",document.all&&"absolute"==this.container.style.position&&(a+="<iframe src='"+(this.imgURL||"")+"blank.html' style='position:absolute; top:0px; left:0px; width:320px;  height:"+(this._cc?454:407)+"px; z-index:-1;'></iframe>"),a=a+"<table cellpadding='0' cellspacing='0'>"+("<tr><td style='width:2px;height:2px;background:url("+
(this.imgURL||"")+"left_top.gif);'></td><td style='height:2px;background:url("+(this.imgURL||"")+"top.gif);'></td><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"right_top.gif);'></td></tr>"),a+="<tr><td style='width:2px;background:url("+(this.imgURL||"")+"left.gif);'></td><td style='width:316px;height:"+(this._cc?446:392)+"px;background:#E6E5E5;'>",a+="<table class='cs_ContentTable' csid='cs_ContentTable' cellpadding='0px' cellspacing='0px'>",a+="<tr>",a+="<td><div class='cs_SelectorDiv' csid='cs_SelectorDiv'><div class='cs_SelectorVer' csid='cs_SelectorVer' style='left:100px;top:0px;'></div><div class='cs_SelectorHor' csid='cs_SelectorHor' style='left:0px;top:100px;'></div></div></td>",
a+="<td><div class='cs_LumSelect' csid='cs_LumSelect'><div class='cs_LumSelectArrow' csid='cs_LumSelectArrow' style='left:16px;top:124px;'></div><div class='cs_LumSelectLine' csid='cs_LumSelectLine' style='left:0px;top:0px;'></div></div></td>",a+="</tr>",a+="<tr><td style='padding-top:10px;' colspan='2'>",a+="<table class='cs_ColorArea' cellpadding='0px' cellspacing='0px'>",a+="<tr><td rowspan='3'><div class='cs_EndColor' csid='cs_EndColor'></div></td><td valign='top' style='text-align:center;width:80px;'># <input csid='cs_Hex' class='cs_Hex'></td><td>"+
this.language.labelHue+":</td><td><input tabindex='1' class='cs_Input' csid='cs_InputHue' value='' /></td><td>"+this.language.labelRed+":</td><td><input tabindex='4' class='cs_Input' csid='cs_InputRed' value='' /></td></tr>",a+="<tr><td></td><td>"+this.language.labelSat+":</td><td><input tabindex='2' class='cs_Input' csid='cs_InputSat' value='' /></td><td>"+this.language.labelGreen+":</td><td><input tabindex='4' class='cs_Input' csid='cs_InputGreen' value='' /></td></tr>",a+="<tr><td></td><td>"+this.language.labelLum+
":</td><td><input tabindex='2' class='cs_Input' csid='cs_InputLum' value='' /></td><td>"+this.language.labelBlue+":</td><td><input tabindex='4' class='cs_Input' csid='cs_InputBlue' value='' /></td></tr>",this._cc&&(a+="<tr><td>",a+="<div class='cs_CustomColors' csid='cs_CustomColors'></div>",a+="</td><td></td><td colspan='4' valign='top'><input tabindex='7' class='cs_CustomColorAdd' csid='cs_CustomColorAdd' type='button' value='"+this.language.btnAddColor+"'></td></tr>"),a+="</table>",a+="</td></tr>",
a+="</table>",a+="<table cellpadding='0' cellspacing='0' style='width:100%;'><tr><td style='height:49px;background:url("+(this.imgURL||"")+"buttons_panel.gif);'><input tabindex='9' class='cs_ButtonCancel' csid='cs_ButtonCancel' type='button' value='"+this.language.btnCancel+"' /><input tabindex='8' class='cs_ButtonOk' csid='cs_ButtonOk' type='button' value='"+this.language.btnSelect+"' /></td></tr></table>";else{var a="<div class='dhtmlxcolorpicker"+(""!=this.skinName?"_"+this.skinName:"")+"' csid='cs_Content' style='display:none;'>";
document.all&&"absolute"==this.container.style.position&&(a+="<iframe src='"+(this.imgURL||"")+"blank.html' frameBorder='0' style='position:absolute; top:0px; left:0px; width:252px;  height:"+(this._cc?300:244)+"px; z-index:-1;'></iframe>");a+="<table cellpadding='0' cellspacing='0'>";a+="<tr><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"left_top.gif);'></td><td style='height:2px;background:url("+(this.imgURL||"")+"top.gif);'></td><td style='width:2px;height:2px;background:url("+
(this.imgURL||"")+"right_top.gif);'></td></tr>";a+="<tr><td style='width:2px;background:url("+(this.imgURL||"")+"left.gif);'></td><td style='width:"+(document.all?247:243)+"px;height:"+(this._cc?281:240)+"px;'>";a+="<table class='cs_ContentTable' csid='cs_ContentTable' cellpadding='0px' cellspacing='0px'>";a+="<tr>";a+="<td><div class='cs_SelectorDiv_Mini' csid='cs_SelectorDiv'><div class='cs_SelectorVer' csid='cs_SelectorVer' style='left:100px;top:0px;'></div><div class='cs_SelectorHor' csid='cs_SelectorHor' style='left:0px;top:100px;'></div></div></td>";
a+="<td><div class='cs_LumSelect_Mini' csid='cs_LumSelect'><div csid='cs_LumSelectArrow'></div><div class='cs_LumSelectLine' csid='cs_LumSelectLine' style='left:0px;top:0px;'></div></div></td>";a+="</tr>";a+="<tr><td style='padding-top:10px;' colspan='2'>";a+="<table class='cs_ColorArea_Mini' cellpadding='0px' cellspacing='0px'>";a+="<tr><td rowspan='2' valign='top' style='text-align:left;'><div class='cs_EndColor_Mini' csid='cs_EndColor' ></div></td><td>"+this.language.labelHue+":</td><td><input tabindex='1' class='cs_Input_Mini"+
X+"' csid='cs_InputHue' value='' /></td><td>"+this.language.labelRed+":</td><td><input tabindex='4' class='cs_Input_Mini"+X+"' csid='cs_InputRed' value='' /></td></tr>";a+="<tr><td>"+this.language.labelSat+":</td><td><input tabindex='2' class='cs_Input_Mini"+X+"' csid='cs_InputSat' value='' /></td><td>"+this.language.labelGreen+":</td><td><input tabindex='4' class='cs_Input_Mini"+X+"' csid='cs_InputGreen' value='' /></td></tr>";a+="<tr><td style='vertical-align:top;width:80px;text-align:left;'># <input csid='cs_Hex' class='cs_Hex_Mini"+
X+"'></td><td>"+this.language.labelLum+":</td><td><input tabindex='2' class='cs_Input_Mini"+X+"' csid='cs_InputLum' value='' /></td><td>"+this.language.labelBlue+":</td><td><input tabindex='4' class='cs_Input_Mini"+X+"' csid='cs_InputBlue' value='' /></td></tr>";this._cc&&(a+="<tr><td colspan='6'><input tabindex='7' class='cs_CustomColorAdd_Mini' csid='cs_CustomColorAdd' type='button' value='"+this.language.btnAddColor+"'></td></tr>",a+="<tr><td colspan='6'><div class='cs_CustomColors_Mini' csid='cs_CustomColors'></div></td></tr>");
a+="</table>";a+="</td></tr>";a+="</table>";a+="<table class='cs_ButtonsPanel' cellpadding='0' cellspacing='0' style='width:100%;'><tr><td style='width:100%;'><input tabindex='9' class='cs_ButtonCancel' csid='cs_ButtonCancel' type='button' value='"+this.language.btnCancel+"' /><input tabindex='8' class='cs_ButtonOk' csid='cs_ButtonOk' type='button' value='"+this.language.btnSelect+"' /></td></tr></table>"}a+="</td><td style='width:2px;background:url("+(this.imgURL||"")+"right.gif);'></td></tr>";a+=
"<tr><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"left_bottom.gif);'></td><td style='height:2px;background:url("+(this.imgURL||"")+"bottom.gif);'></td><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"right_bottom.gif);'></td></tr>";a+="</table>";a+="</div>";this.container.style.width=this.fullview?"320px":"252px";this.container.innerHTML=a;this._initCsIdElement();this.elements.cs_SelectorDiv.style.backgroundImage=this.fullview?"url("+(this.imgURL||"")+"color.png)":
"url("+(this.imgURL||"")+"colormini.png)";this.elements.cs_SelectorDiv.z=this;this.elements.cs_LumSelect.z=this;this.elements.cs_LumSelectArrow.z=this;this.z=this;this._drawLum();this._colorizeLum(this.old_hue,this.old_sat);this._initEvents();this._cc&&this._initCustomColors();this.ColorNum=0;this.restoreFromHSV();this._drawValues()};
dhtmlXColorPicker.prototype._initCsIdElement=function(a){null==a&&(a=this.container);a=a.childNodes;for(var b=a.length,c=0;c<b;c++)if(1==a[c].nodeType){var d=a[c].getAttribute("csid");null!==d&&(this.elements[d]=a[c]);0<a[c].childNodes.length&&this._initCsIdElement(a[c])}};
dhtmlXColorPicker.prototype._initEvents=function(){this.elements.cs_SelectorDiv.onmousedown=this._startMoveColor;this.elements.cs_SelectorDiv.ondblclick=this.clickOk;this.elements.cs_LumSelect.onmousedown=this._startMoveLum;this.elements.cs_LumSelect.ondblclick=this.clickOk;this.elements.cs_LumSelectArrow.onmousedown=this._startMoveLum;this._cc&&(this.elements.cs_CustomColorAdd.z=this,this.elements.cs_CustomColorAdd.onclick=this.addCustomColor,this.elements.cs_CustomColorAdd.onmouseover=this.hoverButton,
this.elements.cs_CustomColorAdd.onmouseout=this.normalButton);for(var a="cs_InputHue cs_InputRed cs_InputSat cs_InputGreen cs_InputLum cs_InputBlue".split(" "),b=0;b<a.length;b++)this.elements[a[b]].z=this,this.elements[a[b]].onchange=b%2?this._changeValueRGB:this._changeValueHSV;this.elements.cs_Hex.z=this;this.elements.cs_Hex.onchange=this._changeValueHEX;this.elements.cs_ButtonOk.z=this;this.elements.cs_ButtonOk.onclick=this.clickOk;this.elements.cs_ButtonOk.onmouseover=this.hoverButton;this.elements.cs_ButtonOk.onmouseout=
this.normalButton;this.elements.cs_ButtonCancel.z=this;this.elements.cs_ButtonCancel.onclick=this.clickCancel;this.elements.cs_ButtonCancel.onmouseover=this.hoverButton;this.elements.cs_ButtonCancel.onmouseout=this.normalButton};dhtmlXColorPicker.prototype.resetHandlers=function(){};dhtmlXColorPicker.prototype.clickOk=function(){var a=this.z,b=a.getSelectedColor();a.callEvent("onSelect",[b[0]]);a.hideSelfOnSelect&&a.hide()};
dhtmlXColorPicker.prototype.clickCancel=function(){this.z.callEvent("onCancel",[]);this.z.hideSelfOnSelect&&this.z.hide()};
dhtmlXColorPicker.prototype._setCrossPos=function(a){var b=this.z,c=b._getOffset(this.elements.cs_SelectorDiv),d=a.clientY-c[0];0>d?d=0:d>this.colorSelectH&&(d=this.colorSelectH);a=a.clientX-c[1];0>a?a=0:a>this.colorSelectW&&(a=this.colorSelectW);b.elements.cs_SelectorVer.style.left=a+"px";b.elements.cs_SelectorHor.style.top=d+"px";return[a==this.colorSelectW?0:360*a/this.colorSelectW,1-d/this.colorSelectH]};
dhtmlXColorPicker.prototype._getScrollers=function(){return[document.body.scrollLeft||document.documentElement.scrollLeft,document.body.scrollTop||document.documentElement.scrollTop]};dhtmlXColorPicker.prototype._setLumPos=function(a){var b=this.z,c=b._getOffset(b.elements.cs_LumSelect);a=a.clientY-c[0]-4;-3>a&&(a=-3);a>this.colorSelectH-4&&(a=this.colorSelectH-4);b.elements.cs_LumSelectArrow.style.top=a+"px";b.elements.cs_LumSelectLine.style.top=a+4+"px";return(a+3)/this.colorSelectH};
dhtmlXColorPicker.prototype._startMoveColor=function(a){var b=this.z;null==a&&(a=event);b.elements.cs_SelectorDiv.onmousedown=null;b.b_move=document.body.onmousemove;b.b_up=document.body.onmouseup;var c=b;document.body.onmousemove=function(a){null==a&&(a=event);c._mouseMoveColor(a)};document.body.onmouseup=function(a){null==a&&(a=event);c._stopMoveColor(a);c=null};b.elements.cs_SelectorDiv.onmousemove=b._mouseMoveColor;b.elements.cs_SelectorDiv.onmouseup=b._stopMoveColor;a=b._setCrossPos(a);b.h=a[0];
b.s=a[1];a=b._calculateColor();b._colorizeLum(a[0],a[1])};dhtmlXColorPicker.prototype._mouseMoveColor=function(a){var b=this.z;null==a&&(a=event);a=b._setCrossPos(a);b.isClickOnly||(b.h=a[0],b.s=a[1],a=b._calculateColor(),b._colorizeLum(a[0],a[1]))};
dhtmlXColorPicker.prototype._stopMoveColor=function(a){var b=this.z;null==a&&(a=event);b.elements.cs_SelectorDiv.onmousedown=b._startMoveColor;b.elements.cs_SelectorDiv.onmousemove=null;b.elements.cs_SelectorDiv.onmouseup=null;document.body.onmousemove=b.b_move;document.body.onmouseup=b.b_up;a=b._setCrossPos(a);b.h=a[0];b.s=a[1];a=b._calculateColor();b._colorizeLum(a[0],a[1])};
dhtmlXColorPicker.prototype._startMoveLum=function(a){var b=this.z;null==a&&(a=event);b.elements.cs_LumSelect.onmousedown=null;b.elements.cs_LumSelectArrow.onmousedown=null;b.elements.cs_LumSelect.onmousemove=b._mouseMoveLum;b.elements.cs_LumSelect.onmouseup=b._stopMoveLum;b.b_move=document.body.onmousemove;b.b_up=document.body.onmouseup;b.b_selstart=document.body.onselectstart;var c=b;document.body.onmousemove=function(a){null==a&&(a=event);c._mouseMoveLum(a)};document.body.onmouseup=function(a){null==
a&&(a=event);c._stopMoveLum(a);c=null};document.body.onselectstart=function(){return!1};b.v=b._setLumPos(a);b._calculateColor()};dhtmlXColorPicker.prototype._mouseMoveLum=function(a){var b=this.z;null==a&&(a=event);b.v=b._setLumPos(a);b.isClickOnly||b._calculateColor()};
dhtmlXColorPicker.prototype._stopMoveLum=function(a){var b=this.z;null==a&&(a=event);b.elements.cs_LumSelect.onmousedown=b._startMoveLum;b.elements.cs_LumSelectArrow.onmousedown=b._startMoveLum;b.elements.cs_LumSelect.onmousemove=null;b.elements.cs_LumSelect.onmouseup=null;b.v=b._setLumPos(a);b._calculateColor();document.body.onmousemove=b.b_move;document.body.onmouseup=b.b_up;document.body.onselectstart=b.b_selstart};
dhtmlXColorPicker.prototype._getOffset=function(a){var b=this._getOffsetTop(a);a=this._getOffsetLeft(a);var c=this._getScrollers();return[b-c[1],a-c[0]]};dhtmlXColorPicker.prototype._getOffsetTop=function(a){var b=0;a.offsetParent&&(b+=a.offsetTop+this._getOffsetTop(a.offsetParent));return b};dhtmlXColorPicker.prototype._getOffsetLeft=function(a){var b=0;a.offsetParent&&(b+=a.offsetLeft+this._getOffsetLeft(a.offsetParent));return b};
dhtmlXColorPicker.prototype._calculateColor=function(){if("RGB"==this.restoreFrom)var a=[this.r,this.g,this.b];else a=this._hsv2rgb(this.h,this.s,1-this.v),this.r=a[0],this.g=a[1],this.b=a[2];this.hex=this._getColorHEX(a);this.elements.cs_EndColor.style.backgroundColor="#"+this.hex;this._drawValues();this.restoreFrom=null;return[this.h,this.s,1-this.v]};
dhtmlXColorPicker.prototype._drawValues=function(){this.elements.cs_Hex.value=this.hex;this.elements.cs_InputHue.value=Math.floor(this.h);this.elements.cs_InputSat.value=Math.floor(100*this.s);this.elements.cs_InputLum.value=Math.floor(100*(1-this.v));this.elements.cs_InputRed.value=Math.floor(this.r);this.elements.cs_InputGreen.value=Math.floor(this.g);this.elements.cs_InputBlue.value=Math.floor(this.b)};
dhtmlXColorPicker.prototype.saveColor=function(a,b){var c=new Date,c=new Date(c.valueOf()+26784E5),c="color_"+b+"="+a+"; expires="+c.toGMTString();document.cookie=c};dhtmlXColorPicker.prototype.restoreColor=function(a){var b=!1;0<document.cookie.length&&(a=document.cookie.indexOf("color_"+a+"="),-1!=a&&(b=document.cookie.indexOf(";",a),-1==b&&(b=document.cookie.length),a=document.cookie.indexOf("=",a)+1,b=document.cookie.substr(a,b-a)));return b};
dhtmlXColorPicker.prototype._hsv2rgb=function(a,b,c){Hi=Math.floor(a/60)%6;a=a/60-Hi;p=c*(1-b);q=c*(1-a*b);t=c*(1-(1-a)*b);var d=b=0;a=0;switch(Hi){case 0:b=c;d=t;a=p;break;case 1:b=q;d=c;a=p;break;case 2:b=p;d=c;a=t;break;case 3:b=p;d=q;a=c;break;case 4:b=t;d=p;a=c;break;case 5:b=c,d=p,a=q}b=Math.floor(255*b);d=Math.floor(255*d);a=Math.floor(255*a);return[b,d,a]};
dhtmlXColorPicker.prototype._rgb2hsv=function(a,b,c){R=a/255;G=b/255;B=c/255;a=Math.max(R,G,B);b=Math.min(R,G,B);c=0;a==b?c=0:a==R&&G>=B?c=60*(G-B)/(a-b)+0:a==R&&G<B?c=60*(G-B)/(a-b)+360:a==G?c=60*(B-R)/(a-b)+120:a==B&&(c=60*(R-G)/(a-b)+240);return[c,0==a?0:1-b/a,a]};
dhtmlXColorPicker.prototype._drawLum=function(){for(var a=this.colorSelectH,b=this.fullview?64:30,c=this.fullview?4:8,d=0;d<b;d++){var e=document.createElement("div"),f=this._dec2hex(a);e.style.backgroundColor="#"+f+f+f;e.className="cs_LumElement";a-=c;this.elements.cs_LumSelect.appendChild(e)}};
dhtmlXColorPicker.prototype._colorizeLum=function(a,b){this.old_hue=a;this.old_sat=b;for(var c=255,d=this.fullview?4:8,e=this.elements.cs_LumSelect.childNodes.length,f=2;f<e;f++){var g=this._hsv2rgb(a,b,255<c?1:c/255),g="#"+this._getColorHEX(g);this.elements.cs_LumSelect.childNodes[f].style.backgroundColor=g;c-=d}this.callEvent("onChange",[this.getSelectedColor()])};dhtmlXColorPicker.prototype._dec2hex=function(a){return window.cs_dechex[a]||"00"};
dhtmlXColorPicker.prototype._hex2dec=function(a){return parseInt(a,16)};
dhtmlXColorPicker.prototype._initCustomColors=function(){for(var a=this.elements.cs_CustomColors,b=0;b<this.customColorsCount;b++){var c=document.createElement("div");c.className=this.fullview?"cs_CustomColor":"cs_CustomColor_Mini";c.color_num=b;document.all&&("Opera"==navigator.appName?this.fullview?(c.style.width="14px",c.style.height="14px"):(c.style.width="18px",c.style.height="18px"):this.fullview?(c.style.width="16px",c.style.height="16px"):(c.style.width="BackCompat"!=document.compatMode?"18px":
"20px",c.style.height="20px"));c.z=this;c.onclick=this._selectCustomColor;c.ondblclick=this.clickOk;var d=this.restoreColor(b)||"0,0,0";c.color=d;d=d.split(",");c.style.backgroundColor="#"+this._getColorHEX(d);this.customColors.push(c);a.appendChild(c)}};
dhtmlXColorPicker.prototype._reinitCustomColors=function(){for(var a=0;a<this.customColorsCount;a++){var b=this.customColors[a],c=this.restoreColor(a)||"0,0,0";b.color=c;c=c.split(",");b.style.backgroundColor="#"+this._getColorHEX(c);this.customColors[a]=b}};dhtmlXColorPicker.prototype._getColorHEX=function(a){var b=this._dec2hex(a[0]),c=this._dec2hex(a[1]);a=this._dec2hex(a[2]);return b+c+a};
dhtmlXColorPicker.prototype._selectCustomColor=function(a){a=this.z;if(!this.selected){for(var b=0;b<a.customColors.length;b++)a.customColors[b].style.border="1px solid gray";this.style.border="1px dashed black";this.selected=!0;null!=a.selectedColor&&(a.customColors[a.selectedColor].style.border="1px solid gray",a.customColors[a.selectedColor].selected=!1)}a.selectedColor=this.color_num;a.ColorNum=this.color_num;b=this.color.split(",");a.r=b[0];a.g=b[1];a.b=b[2];a.restoreFromRGB()};
dhtmlXColorPicker.prototype.addCustomColor=function(){var a=this.z;if(null!=a.selectedColor){var b=a.customColors[a.selectedColor],c=a.selectedColor;b.style.border="1px solid gray";a.selectedColor=null}else b=a.customColors[a.ColorNum],c=a.ColorNum,b.style.border="1px solid gray";var d=a.r+","+a.g+","+a.b;a.saveColor(d,c);b.color=d;a.ColorNum=9==a.ColorNum?0:a.ColorNum+1;a.customColors[a.ColorNum].style.border="1px dashed red";b.style.backgroundColor=a.elements.cs_EndColor.style.backgroundColor};
dhtmlXColorPicker.prototype.restoreFromRGB=function(){this.restoreFrom="RGB";var a=this._rgb2hsv(this.r,this.g,this.b);this.h=a[0];this.s=a[1];this.v=1-a[2];this.ready&&this.redraw()};dhtmlXColorPicker.prototype.restoreFromHSV=function(){this.restoreFrom="HSV";var a=this._hsv2rgb(this.h,this.s,this.v);this.r=a[0];this.g=a[1];this.b=a[2];this.redraw()};
dhtmlXColorPicker.prototype.restoreFromHEX=function(){this.r=this._hex2dec(this.hex.substr(0,2));this.g=this._hex2dec(this.hex.substr(2,2));this.b=this._hex2dec(this.hex.substr(4,2));this.restoreFromRGB()};
dhtmlXColorPicker.prototype.redraw=function(){var a=this.colorSelectW*this.h/360,b=this.v*this.colorSelectH;this.elements.cs_SelectorHor.style.top=(1-this.s)*this.colorSelectH+"px";this.elements.cs_SelectorVer.style.left=a+"px";this.elements.cs_LumSelectArrow.style.top=b-3+"px";this.elements.cs_LumSelectLine.style.top=b+1+"px";a=this._calculateColor();this._colorizeLum(a[0],a[1])};
dhtmlXColorPicker.prototype._changeValueHSV=function(){var a=this.z,b=parseInt(a.elements.cs_InputHue.value)||0,c=parseInt(a.elements.cs_InputSat.value)||0,d=parseInt(a.elements.cs_InputLum.value)||0;if(0>b||359<b)b=0;if(0>c||100<c)c=0;if(0>d||100<d)d=0;a.elements.cs_InputHue.value=b;a.elements.cs_InputSat.value=c;a.elements.cs_InputLum.value=d;a.h=b;a.s=c/100;a.v=1-d/100;a.restoreFromHSV()};
dhtmlXColorPicker.prototype._changeValueRGB=function(){var a=this.z,b=parseInt(a.elements.cs_InputRed.value)||0,c=parseInt(a.elements.cs_InputGreen.value)||0,d=parseInt(a.elements.cs_InputBlue.value)||0;if(0>b||255<b)b=0;if(0>c||255<c)c=0;if(0>d||255<d)d=0;a.elements.cs_InputRed.value=b;a.elements.cs_InputGreen.value=c;a.elements.cs_InputBlue.value=d;a.r=b;a.g=c;a.b=d;a.restoreFromRGB()};
dhtmlXColorPicker.prototype._changeValueHEX=function(){var a=this.z,b=a.elements.cs_Hex.value||0,b=b.replace(/[^a-fA-F0-9]/gi,"0");if(6<b.length)b=b.substr(0,6);else for(;6>b.length;)b+="0";a.elements.cs_Hex.value=b;a.hex=b;a.restoreFromHEX()};
dhtmlXColorPicker.prototype.setCustomColors=function(a){a=a.split(",");for(var b=0;b<a.length;b++){var c=a[b];"#"==c.substr(0,1)&&(c=c.substr(1));var d=this._hex2dec(c.substr(0,2)),e=this._hex2dec(c.substr(2,2)),c=this._hex2dec(c.substr(4,2)),c=d+","+e+","+c;this.saveColor(c,b)}};
dhtmlXColorPicker.prototype.setColor=function(a){if("string"!=typeof a){var b=a[0],c=a[1];a=a[2]}else-1!=a.indexOf("rgb")?(a=a.substr(a.indexOf("(")+1,a.lastIndexOf(")")-a.indexOf("(")-1).split(","),b=a[0],c=a[1],a=a[2]):("#"==a.substr(0,1)&&(a=a.substr(1)),b=this._hex2dec(a.substr(0,2)),c=this._hex2dec(a.substr(2,2)),a=this._hex2dec(a.substr(4,2)));b=parseInt(b)||0;c=parseInt(c)||0;a=parseInt(a)||0;if(0>b||255<b)b=0;if(0>c||255<c)c=0;if(0>a||255<a)a=0;this.r=b;this.g=c;this.b=a;this.restoreFromRGB()};
dhtmlXColorPicker.prototype.close=function(){this.elements.cs_SelectorDiv.z=null;this.elements.cs_LumSelect.z=null;this.elements.cs_LumSelectArrow.z=null;this.elements.cs_ButtonOk.z=null;this.elements.cs_ButtonCancel.z=null;this.cc&&(this.elements.cs_CustomColorAdd.z=null);this.container.innerHTML="";this.container._dhx_remove&&this.container.parentNode.removeChild(this.container)};
dhtmlXColorPicker.prototype.show=function(){this.callEvent("onShow",[]);""!=this.container.innerHTML&&(this.elements.cs_Content.style.display="",this.elements.cs_InputHue.focus())};dhtmlXColorPicker.prototype.setPosition=function(a,b){this.container.style.position="absolute";this.container.style.top=(0<b?b:10)+"px";this.container.style.left=a+"px"};dhtmlXColorPicker.prototype.hide=function(){this.resetHandlers();this.elements.cs_Content&&(this.elements.cs_Content.style.display="none")};
dhtmlXColorPicker.prototype.setOnSelectHandler=function(a){this.attachEvent("onSelect",a)};dhtmlXColorPicker.prototype.setOnCancelHandler=function(a){this.attachEvent("onCancel",a)};dhtmlXColorPicker.prototype.getSelectedColor=function(){var a=[this.r,this.g,this.b];return["#"+(this._dec2hex(this.r)+this._dec2hex(this.g)+this._dec2hex(this.b)),a,[this.h,this.s,this.v]]};
dhtmlXColorPicker.prototype.linkTo=function(a,b,c){"object"!=typeof a&&(a=document.getElementById(a));"object"!=typeof b&&(b=document.getElementById(b));"object"!=typeof c&&(c=document.getElementById(c));this.linkToObjects=arguments;var d=this;b.onclick=function(){var b=d._getOffset(a),c=d._getScrollers();d.setPosition(b[1]+c[0]+a.offsetWidth,b[0]+c[1]);d.isVisible()?d.hide():d.show()};this.setOnSelectHandler(function(b){a.style.backgroundColor=b;c&&(c.value=b)});this.close=this.hide;this.hide()};
dhtmlXColorPicker.prototype.hideOnSelect=function(a){this.hideSelfOnSelect=a};dhtmlXColorPicker.prototype.setImagePath=function(a){this.imgURL=a};dhtmlXColorPicker.prototype.init=function(){this.language||this.loadUserLanguage("en-us");this.generate();this.ready=!0;this._cc&&this._reinitCustomColors();0<this.linkToObjects.length&&this.linkTo(this.linkToObjects[0],this.linkToObjects[1],this.linkToObjects[2]);this.hideOnInit||this.show()};
dhtmlXColorPicker.prototype.loadUserLanguage=function(a){window.dhtmlxColorPickerLangModules[a]&&(this.language=window.dhtmlxColorPickerLangModules[a],this.ready&&(this.generate(),this.show()))};dhtmlXColorPicker.prototype.setSkin=function(a){this.skinName=a;this.elements.cs_Content&&(this.elements.cs_Content.className="dhtmlxcolorpicker"+(a?"_"+a:a))};dhtmlXColorPicker.prototype.isVisible=function(){return"none"!=this.elements.cs_Content.style.display};
dhtmlXColorPicker.prototype.hoverButton=function(){this.className+="_Hover"};dhtmlXColorPicker.prototype.normalButton=function(){this.className=this.className.substr(0,this.className.length-6)};(function(){dhtmlx.extend_api("dhtmlXColorPicker",{_init:function(a){return[a.parent,a.click,a.colors,a.hide,a.full]},show:"showA",link:"linkTo",image_path:"setImagePath",color:"setColor"},{showA:function(){this.init();this.show()}})})();
function dhtmlXComboFromSelect(a,b){"string"==typeof a&&(a=document.getElementById(a));(b=b||a.getAttribute("width")||(window.getComputedStyle?window.getComputedStyle(a,null).width:a.currentStyle?a.currentStyle.width:0))&&"auto"!=b&&-1==b.indexOf("em")||(b=a.offsetWidth||100);var c=document.createElement("SPAN");a.parentNode.insertBefore(c,a);a.style.display="none";for(var d=a.getAttribute("opt_type"),c=new dhtmlXCombo(c,a.name,b,d,a.tabIndex),d=[],e=-1,f=0;f<a.options.length;f++){a.options[f].selected&&
(e=f);var g=a.options[f].innerHTML,k=a.options[f].getAttribute("value");if("undefined"==typeof k||null===k)k=g;d[f]={value:k,text:g,img_src:a.options[f].getAttribute("img_src")}}d.length&&c.addOption(d);a.parentNode.removeChild(a);0<=e&&(c._skipFocus=!0,c.selectOption(e,null,!0));a.onchange&&c.attachEvent("onChange",a.onchange);"rtl"==a.style.direction&&c.setRTL&&c.setRTL(!0);return c}var dhtmlXCombo_optionTypes=[];
function dhtmlXCombo(a,b,c,d,e){"string"==typeof a&&(a=document.getElementById(a));this.dhx_Event();this.optionType=d!=window.undefined&&dhtmlXCombo_optionTypes[d]?d:"default";this._optionObject=dhtmlXCombo_optionTypes[this.optionType];this._disabled=!1;this.readonlyDelay=750;this.filterEntities="[]{}()+*\\?.$^".split("");window.dhx_glbSelectAr||(window.dhx_glbSelectAr=[],window.dhx_openedSelect=null,window.dhx_SelectId=1,dhtmlxEvent(document.body,"click",this.closeAll),dhtmlxEvent(document.body,
"keydown",function(a){try{9==(a||event).keyCode&&window.dhx_glbSelectAr[0].closeAll()}catch(b){}return!0}));if("SELECT"==a.tagName)return dhtmlXComboFromSelect(a);this._createSelf(a,b,c,e);dhx_glbSelectAr.push(this)}dhtmlXCombo.prototype.setSize=function(a){this.DOMlist.style.width=a+"px";this.DOMlistF&&(this.DOMlistF.style.width=a+"px");this.DOMelem.style.width=a+"px";this.DOMelem_input.style.width=Math.max(0,a-19)+"px"};
dhtmlXCombo.prototype.enableFilteringMode=function(a,b,c,d){"between"==a?this._autoDisabled=this._anyPosition=this._filter=!0:this._filter=convertStringToBoolean(a);b&&(this._xml=b,this._autoxml=convertStringToBoolean(d));convertStringToBoolean(c)&&(this._xmlCache=[])};dhtmlXCombo.prototype.setFilteringParam=function(a,b){this._prs||(this._prs=[]);this._prs.push([a,b])};
dhtmlXCombo.prototype.disable=function(a){a=convertStringToBoolean(a);this._disabled!=a&&(this._disabled=this.DOMelem_input.disabled=a)};
dhtmlXCombo.prototype.readonly=function(a,b){this.DOMelem_input.readOnly=a?!0:!1;if(!1===b||!1===a)this.DOMelem.onkeyup=function(){};else{var c=this;this.DOMelem.onkeyup=function(a){a=a||window.event;c._searchTimeout&&window.clearTimeout(c._searchTimeout);9!=a.keyCode&&(a.cancelBubble=!0);if(48<=a.keyCode&&57>=a.keyCode||65<=a.keyCode&&90>=a.keyCode){c._searchText||(c._searchText="");c._searchText+=String.fromCharCode(a.keyCode);for(var b=0;b<c.optionsArr.length;b++)if(0==c.optionsArr[b].text.toString().toUpperCase().indexOf(c._searchText)){c.selectOption(b);
break}c._searchTimeout=window.setTimeout(function(){c._searchText=""},c.readonlyDelay);a.cancelBubble=!0}}}};dhtmlXCombo.prototype.getOption=function(a){for(var b=0;b<this.optionsArr.length;b++)if(this.optionsArr[b].value==a)return this.optionsArr[b];return null};dhtmlXCombo.prototype.getOptionByLabel=function(a){for(var b=0;b<this.optionsArr.length;b++)if(this.optionsArr[b].text==a||this.optionsArr[b]._ctext==a)return this.optionsArr[b];return null};dhtmlXCombo.prototype.getOptionByIndex=function(a){return this.optionsArr[a]};
dhtmlXCombo.prototype.clearAll=function(a){a&&this.setComboText("");this.optionsArr=[];this.redrawOptions();a&&(this._selOption&&this._selOption.RedrawHeader(this,!0),this._confirmSelection())};dhtmlXCombo.prototype.deleteOption=function(a){a=this.getIndexByValue(a);0>a||(this.optionsArr[a]==this._selOption&&(this._selOption=null),this.optionsArr.splice(a,1),this.redrawOptions())};dhtmlXCombo.prototype.render=function(a){this._skiprender=!convertStringToBoolean(a);this.redrawOptions()};
dhtmlXCombo.prototype.updateOption=function(a,b,c,d){a=this.getOption(a);"object"!=typeof b&&(b={text:c,value:b,css:d});a.setValue(b);this.redrawOptions()};dhtmlXCombo.prototype.addOption=function(a){args=arguments[0].length&&"object"==typeof arguments[0]?a:[arguments];this.render(!1);for(var b=0;b<args.length;b++){var c=args[b];c.length&&(c.value=c[0]||"",c.text=c[1]||"",c.css=c[2]||"");this._addOption(c)}this.render(!0)};
dhtmlXCombo.prototype._addOption=function(a){dOpt=new this._optionObject;this.optionsArr.push(dOpt);dOpt.setValue.apply(dOpt,[a]);this.redrawOptions()};dhtmlXCombo.prototype.getIndexByValue=function(a){for(var b=0;b<this.optionsArr.length;b++)if(this.optionsArr[b].value==a)return b;return-1};dhtmlXCombo.prototype.getSelectedValue=function(){return this._selOption?this._selOption.value:null};dhtmlXCombo.prototype.getComboText=function(){return this.DOMelem_input.value};
dhtmlXCombo.prototype.setComboText=function(a){this.DOMelem_input.value=a};dhtmlXCombo.prototype.setComboValue=function(a){this.setComboText(a);for(var b=0;b<this.optionsArr.length;b++)if(this.optionsArr[b].data()[0]==a)return this._skipFocus=!0,this.selectOption(b,null,!0);this.DOMelem_hidden_input.value=a};dhtmlXCombo.prototype.getActualValue=function(){return this.DOMelem_hidden_input.value};dhtmlXCombo.prototype.getSelectedText=function(){return this._selOption?this._selOption.text:""};
dhtmlXCombo.prototype.getSelectedIndex=function(){for(var a=0;a<this.optionsArr.length;a++)if(this.optionsArr[a]==this._selOption)return a;return-1};dhtmlXCombo.prototype.setName=function(a){this.DOMelem_hidden_input.name=a;this.DOMelem_hidden_input2=a.replace(/(\]?)$/,"_new_value$1");this.name=a};dhtmlXCombo.prototype.show=function(a){this.DOMelem.style.display=convertStringToBoolean(a)?"":"none"};
dhtmlXCombo.prototype.destructor=function(){this.DOMParent.removeChild(this.DOMelem);this.DOMlist.parentNode.removeChild(this.DOMlist);this.DOMlistF&&this.DOMlistF.parentNode.removeChild(this.DOMlistF);var a=dhx_glbSelectAr;this.DOMParent=this.DOMlist=this.DOMlistF=this.DOMelem=0;for(var b=this.DOMlist.combo=this.DOMelem.combo=0;b<a.length;b++)if(a[b]==this){a[b]=null;a.splice(b,1);break}};
dhtmlXCombo.prototype._createSelf=function(a,b,c,d){if(-1!=c.toString().indexOf("%")){var e=this,f=parseInt(c)/100;window.setInterval(function(){if(a.parentNode){var b=a.parentNode.offsetWidth*f-2;0>b||b==e._lastTs||e.setSize(e._lastTs=b)}},500);c=parseInt(a.offsetWidth)}c=parseInt(c||100);this.ListPosition="Bottom";this.DOMParent=a;this._inID=null;this.name=b;this._selOption=null;this.optionsArr=[];(new this._optionObject).DrawHeader(this,b,c,d);this.DOMlist=document.createElement("DIV");this.DOMlist.className=
"dhx_combo_list "+(dhtmlx.skin?dhtmlx.skin+"_list":"");this.DOMlist.style.width=c-0+"px";if(_isOpera||_isKHTML)this.DOMlist.style.overflow="auto";this.DOMlist.style.display="none";document.body.insertBefore(this.DOMlist,document.body.firstChild);_isIE&&(this.DOMlistF=document.createElement("IFRAME"),this.DOMlistF.style.border="0px",this.DOMlistF.className="dhx_combo_list",this.DOMlistF.style.width=c-0+"px",this.DOMlistF.style.display="none",this.DOMlistF.src="javascript:false;",document.body.insertBefore(this.DOMlistF,
document.body.firstChild));this.DOMlist.combo=this.DOMelem.combo=this;this.DOMelem_input.onkeydown=this._onKey;this.DOMelem_input.onkeypress=this._onKeyF;this.DOMelem_input.onblur=this._onBlur;this.DOMelem.onclick=this._toggleSelect;this.DOMlist.onclick=this._selectOption;this.DOMlist.onmousedown=function(){this._skipBlur=!0};this.DOMlist.onkeydown=function(a){(a||event).cancelBubble=!0;this.combo.DOMelem_input.onkeydown(a)};this.DOMlist.onmouseover=this._listOver};
dhtmlXCombo.prototype._listOver=function(a){a=a||event;a.cancelBubble=!0;a=_isIE?event.srcElement:a.target;var b=this.combo;if(a.parentNode==b.DOMlist){b._selOption&&b._selOption.deselect();b._tempSel&&b._tempSel.deselect();for(var c=0;c<b.DOMlist.childNodes.length&&b.DOMlist.childNodes[c]!=a;c++);b._tempSel=b.optionsArr[c];b._tempSel.select();b._autoxml&&c+1==b._lastLength&&b._fetchOptions(c+1,b._lasttext||"")}};
dhtmlXCombo.prototype._positList=function(){var a=this.getPosition(this.DOMelem);"Bottom"==this.ListPosition?(this.DOMlist.style.top=a[1]+this.DOMelem.offsetHeight-1+"px",this.DOMlist.style.left=a[0]+"px"):"Top"==this.ListPosition?(this.DOMlist.style.top=a[1]-this.DOMlist.offsetHeight+"px",this.DOMlist.style.left=a[0]+"px"):(this.DOMlist.style.top=a[1]+"px",this.DOMlist.style.left=a[0]+this.DOMelem.offsetWidth+"px")};
dhtmlXCombo.prototype.getPosition=function(a,b){if(_isIE&&8>_isIE){b||(b=document.body);for(var c=a,d=0,e=0;c&&c!=b;)d+=c.offsetLeft-c.scrollLeft+c.clientLeft,e+=c.offsetTop-c.scrollTop+c.clientTop,c=c.offsetParent;document.documentElement.scrollTop&&(e+=document.documentElement.scrollTop);document.documentElement.scrollLeft&&(d+=document.documentElement.scrollLeft);return[d,e]}c=getOffset(a);return[c.left,c.top]};
dhtmlXCombo.prototype._correctSelection=function(){if(""!=this.getComboText())for(var a=0;a<this.optionsArr.length;a++)if(!this.optionsArr[a].isHidden())return this.selectOption(a,!0,!1);this.unSelectOption()};dhtmlXCombo.prototype.selectNext=function(a){for(var b=this.getSelectedIndex()+a;this.optionsArr[b];){if(!this.optionsArr[b].isHidden())return this.selectOption(b,!1,!1);b+=a}};
dhtmlXCombo.prototype._onKeyF=function(a){var b=this.parentNode.combo;a=a||event;a.cancelBubble=!0;"13"==a.keyCode||"9"==a.keyCode?(b._confirmSelection(),b.closeAll()):"27"==a.keyCode?(b._resetSelection(),b.closeAll()):b._activeMode=!0;return"13"==a.keyCode||"27"==a.keyCode?(b.callEvent("onKeyPressed",[a.keyCode]),!1):!0};
dhtmlXCombo.prototype._onKey=function(a){var b=this.parentNode.combo;(a||event).cancelBubble=!0;var c=(a||event).keyCode;if(15<c&&19>c||27==c)return!0;if("block"!=b.DOMlist.style.display&&"13"!=c&&"9"!=c&&(!b._filter||b._filterAny))b.DOMelem.onclick(a||event);if("13"!=c&&"9"!=c){if(window.setTimeout(function(){b._onKeyB(c)},1),"40"==c||"38"==c)return!1}else 9==c&&(b._confirmSelection(),b.closeAll(),(a||event).cancelBubble=!1)};
dhtmlXCombo.prototype._onKeyB=function(a){if("40"==a)this.selectNext(1);else if("38"==a)this.selectNext(-1);else{this.callEvent("onKeyPressed",[a]);if(this._filter)return this.filterSelf(8==a||46==a);for(a=0;a<this.optionsArr.length;a++)if(this.optionsArr[a].data()[1]==this.DOMelem_input.value)return this.selectOption(a,!1,!1),!1;this.unSelectOption()}return!0};
dhtmlXCombo.prototype._onBlur=function(){var a=this.parentNode._self;window.setTimeout(function(){if(a.DOMlist._skipBlur)return!(a.DOMlist._skipBlur=!1);a._skipFocus=!0;a._confirmSelection();a.callEvent("onBlur",[])},100)};dhtmlXCombo.prototype.redrawOptions=function(){if(!this._skiprender){for(var a=this.DOMlist.childNodes.length-1;0<=a;a--)this.DOMlist.removeChild(this.DOMlist.childNodes[a]);for(a=0;a<this.optionsArr.length;a++)this.DOMlist.appendChild(this.optionsArr[a].render())}};
dhtmlXCombo.prototype.loadXML=function(a,b){this._load=!0;this.callEvent("onXLS",[]);if(this._prs)for(var c=0;c<this._prs.length;c++)a+=[getUrlSymbol(a),escape(this._prs[c][0]),"=",escape(this._prs[c][1])].join("");this._xmlCache&&this._xmlCache[a]?(this._fillFromXML(this,null,null,null,this._xmlCache[a]),b&&b()):(c=new dtmlXMLLoaderObject(this._fillFromXML,this,!0,!0),b&&(c.waitCall=b),c._cPath=a,c.loadXML(a))};
dhtmlXCombo.prototype.loadXMLString=function(a){(new dtmlXMLLoaderObject(this._fillFromXML,this,!0,!0)).loadXMLString(a)};
dhtmlXCombo.prototype._fillFromXML=function(a,b,c,d,e){a._xmlCache&&(a._xmlCache[e._cPath]=e);if("complete"!=e.getXMLTopNode("complete").tagName)a._load=!1;else{d=e.doXPath("//complete");b=e.doXPath("//option");c=!1;a.render(!1);if(d[0]&&d[0].getAttribute("add"))a._lastLength+=b.length||Infinity,c=!0;else if(a.clearAll(),a._lastLength=b.length,a._xml)b&&b.length?a._activeMode&&(a._positList(),a.DOMlist.style.display="block",_isIE&&a._IEFix(!0)):a.closeAll();for(d=0;d<b.length;d++){var f={};f.text=
b[d].firstChild?b[d].firstChild.nodeValue:"";for(var g=0;g<b[d].attributes.length;g++){var k=b[d].attributes[g];k&&(f[k.nodeName]=k.nodeValue)}a._addOption(f)}a.render(!0!=c||!!b.length);a._load&&!0!==a._load?a.loadXML(a._load):(a._load=!1,!a._lkmode&&a._filter&&!a._autoDisabled&&a._correctSelection());e=e.doXPath("//option[@selected]");e.length&&(a._skipFocus=!0,a.selectOption(a.getIndexByValue(e[0].getAttribute("value")),!1,!0));a.callEvent("onXLE",[])}};
dhtmlXCombo.prototype.unSelectOption=function(){this._selOption&&this._selOption.deselect();this._tempSel&&this._tempSel.deselect();this._tempSel=this._selOption=null};dhtmlXCombo.prototype.confirmValue=function(){this._confirmSelection()};
dhtmlXCombo.prototype._confirmSelection=function(a,b){var c=this.getComboText();this.setComboText("");this.setComboText(c);if(0==arguments.length&&(a=(c=this.getOptionByLabel(this.DOMelem_input.value))?c.value:this.DOMelem_input.value,b=null==c,a==this.getActualValue()))return this._skipFocus=!1;if(!this._skipFocus&&!this._disabled)try{this.DOMelem_input.focus()}catch(d){}this._skipFocus=!1;this.DOMelem_hidden_input.value=a;this.DOMelem_hidden_input2.value=b?"true":"false";this.callEvent("onChange",
[]);this._activeMode=!1};dhtmlXCombo.prototype._resetSelection=function(){var a=this.getOption(this.DOMelem_hidden_input.value);this.setComboValue(a?a.data()[0]:this.DOMelem_hidden_input.value);this.setComboText(a?a.data()[1]:this.DOMelem_hidden_input.value)};
dhtmlXCombo.prototype.selectOption=function(a,b,c){3>arguments.length&&(c=!0);this.unSelectOption();var d=this.optionsArr[a];if(d){this._selOption=d;this._selOption.select();d=this._selOption.content.offsetTop+this._selOption.content.offsetHeight-this.DOMlist.scrollTop-this.DOMlist.offsetHeight;0<d&&(this.DOMlist.scrollTop+=d);d=this.DOMlist.scrollTop-this._selOption.content.offsetTop;0<d&&(this.DOMlist.scrollTop-=d);d=this._selOption.data();c&&(this.setComboText(d[1]),this._confirmSelection(d[0],
!1));this._autoxml&&a+1==this._lastLength&&this._fetchOptions(a+1,this._lasttext||"");if(b){var e=this.getComboText();e!=d[1]&&(this.setComboText(d[1]),dhtmlXRange(this.DOMelem_input,e.length+1,d[1].length))}else this.setComboText(d[1]);this._selOption.RedrawHeader(this);this.callEvent("onSelectionChange",[])}};
dhtmlXCombo.prototype._selectOption=function(a){(a||event).cancelBubble=!0;a=_isIE?event.srcElement:a.target;for(var b=this.combo;!a._self;)if(a=a.parentNode,!a)return;for(var c=0;c<b.DOMlist.childNodes.length&&b.DOMlist.childNodes[c]!=a;c++);b.selectOption(c,!1,!0);b.closeAll();b.callEvent("onBlur",[]);b._activeMode=!1};
dhtmlXCombo.prototype.openSelect=function(){if(!this._disabled){this.closeAll();this.DOMlist.style.display="block";this._positList();this.callEvent("onOpen",[]);this._tempSel&&this._tempSel.deselect();this._selOption&&this._selOption.select();if(this._selOption){var a=this._selOption.content.offsetTop+this._selOption.content.offsetHeight-this.DOMlist.scrollTop-this.DOMlist.offsetHeight;0<a&&(this.DOMlist.scrollTop+=a);a=this.DOMlist.scrollTop-this._selOption.content.offsetTop;0<a&&(this.DOMlist.scrollTop-=
a)}_isIE&&this._IEFix(!0);this.DOMelem_input.focus();this._filter&&this.filterSelf()}};dhtmlXCombo.prototype._toggleSelect=function(a){var b=this.combo;"block"==b.DOMlist.style.display?b.closeAll():b.openSelect();(a||event).cancelBubble=!0};
dhtmlXCombo.prototype._fetchOptions=function(a,b){if(""==b)return this.closeAll(),this.clearAll();var c=this._xml+(-1!=this._xml.indexOf("?")?"&":"?")+"pos="+a+"&mask="+encodeURIComponent(b);this._lasttext=b;this._load?this._load=c:this.callEvent("onDynXLS",[b,a])&&this.loadXML(c)};dhtmlXCombo.prototype.disableAutocomplete=function(){this._autoDisabled=!0};
dhtmlXCombo.prototype.filterSelf=function(a){var b=this.getComboText();this._xml&&(this._lkmode=a,this._fetchOptions(0,b));var c=RegExp("(["+this.filterEntities.join("\\")+"])","g"),b=b.replace(c,"\\$1"),b=RegExp((this._anyPosition?"":"^")+b,"i");this.filterAny=!1;for(c=0;c<this.optionsArr.length;c++){var d=b.test(this.optionsArr[c].content?this.optionsArr[c].data()[1]:this.optionsArr[c].text);this.filterAny|=d;this.optionsArr[c].hide(!d)}this.filterAny?("block"!=this.DOMlist.style.display&&this.openSelect(),
_isIE&&this._IEFix(!0)):(this.closeAll(),this._activeMode=!0);a||this._autoDisabled?this.unSelectOption():this._correctSelection()};dhtmlXCombo.prototype._IEFix=function(a){this.DOMlistF.style.display=a?"block":"none";this.DOMlistF.style.top=this.DOMlist.style.top;this.DOMlistF.style.left=this.DOMlist.style.left;this.DOMlistF.style.width=this.DOMlist.offsetWidth+"px";this.DOMlistF.style.height=this.DOMlist.offsetHeight+"px"};
dhtmlXCombo.prototype.closeAll=function(){if(window.dhx_glbSelectAr)for(var a=0;a<dhx_glbSelectAr.length;a++)"block"==dhx_glbSelectAr[a].DOMlist.style.display&&(dhx_glbSelectAr[a].DOMlist.style.display="none",_isIE&&dhx_glbSelectAr[a]._IEFix(!1)),dhx_glbSelectAr[a]._activeMode=!1};dhtmlXCombo.prototype.changeOptionId=function(a,b){(this.getOption(a)||{}).value=b};
function dhtmlXRange(a,b,c){var d="object"==typeof a?a:document.getElementById(a);try{d.focus()}catch(e){}a=d.value.length;b--;if(0>b||b>c||b>a)b=0;c>a&&(c=a);if(b!=c)if(d.setSelectionRange)d.setSelectionRange(b,c);else if(d.createTextRange){d=d.createTextRange();d.moveStart("character",b);d.moveEnd("character",c-a);try{d.select()}catch(f){}}}dhtmlXCombo_defaultOption=function(){this.init()};
dhtmlXCombo_defaultOption.prototype.init=function(){this.value=null;this.text="";this.selected=!1;this.css=""};dhtmlXCombo_defaultOption.prototype.select=function(){this.content&&(this.content.className="dhx_selected_option"+(dhtmlx.skin?" combo_"+dhtmlx.skin+"_sel":""))};dhtmlXCombo_defaultOption.prototype.hide=function(a){this.render().style.display=a?"none":""};dhtmlXCombo_defaultOption.prototype.isHidden=function(){return"none"==this.render().style.display};
dhtmlXCombo_defaultOption.prototype.deselect=function(){this.content&&this.render();this.content.className=""};dhtmlXCombo_defaultOption.prototype.setValue=function(a){this.value=a.value||"";this.text=a.text||"";this.css=a.css||"";this.content=null};
dhtmlXCombo_defaultOption.prototype.render=function(){if(!this.content){this.content=document.createElement("DIV");this.content._self=this;this.content.style.cssText="width:100%; overflow:hidden;"+this.css;if(_isOpera||_isKHTML)this.content.style.padding="2px 0px 2px 0px";this.content.innerHTML=this.text;this._ctext="undefined"!=typeof this.content.textContent?this.content.textContent:this.content.innerText}return this.content};
dhtmlXCombo_defaultOption.prototype.data=function(){if(this.content)return[this.value,this._ctext?this._ctext:this.text]};dhtmlXCombo_defaultOption.prototype.DrawHeader=function(a,b,c,d){var e=document.createElement("DIV");e.style.width=c+"px";e.className="dhx_combo_box "+(dhtmlx.skin||"");e._self=a;a.DOMelem=e;this._DrawHeaderInput(a,b,c,d);this._DrawHeaderButton(a,b,c);a.DOMParent.appendChild(a.DOMelem)};
dhtmlXCombo_defaultOption.prototype._DrawHeaderInput=function(a,b,c,d){var e=document.createElement("input");e.setAttribute("autocomplete","off");e.type="text";e.className="dhx_combo_input";d&&(e.tabIndex=d);e.style.width=c-19-("BackCompat"==document.compatMode?0:3)+"px";a.DOMelem.appendChild(e);a.DOMelem_input=e;e=document.createElement("input");e.type="hidden";e.name=b;a.DOMelem.appendChild(e);a.DOMelem_hidden_input=e;e=document.createElement("input");e.type="hidden";e.name=(b||"").replace(/(\]?)$/,
"_new_value$1");e.value="true";a.DOMelem.appendChild(e);a.DOMelem_hidden_input2=e};dhtmlXCombo_defaultOption.prototype._DrawHeaderButton=function(a){var b=document.createElement("img");b.className="dhx_combo_img";dhtmlx.image_path&&(dhx_globalImgPath=dhtmlx.image_path);b.src=(window.dhx_globalImgPath?dhx_globalImgPath:"")+"combo_select"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif";a.DOMelem.appendChild(b);a.DOMelem_button=b};dhtmlXCombo_defaultOption.prototype.RedrawHeader=function(){};
dhtmlXCombo_optionTypes["default"]=dhtmlXCombo_defaultOption;
dhtmlXCombo.prototype.dhx_Event=function(){this.dhx_SeverCatcherPath="";this.attachEvent=function(a,b,c){c=c||this;a="ev_"+a;this[a]&&this[a].addEvent||(c=new this.eventCatcher(c),c.addEvent(this[a]),this[a]=c);return a+":"+this[a].addEvent(b)};this.callEvent=function(a,b){return this["ev_"+a]?this["ev_"+a].apply(this,b):!0};this.checkEvent=function(a){return this["ev_"+a]?!0:!1};this.eventCatcher=function(a){var b=[],c=function(a,b){a=a.split(":");return function(){}},d=function(){if(b)var c=!0;
for(var d=0;d<b.length;d++)if(null!=b[d])var g=b[d].apply(a,arguments),c=c&&g;return c};d.addEvent=function(d){"function"!=typeof d&&(d=d&&d.indexOf&&0==d.indexOf("server:")?new c(d,a.rpcServer):eval(d));return d?b.push(d)-1:!1};d.removeEvent=function(a){b[a]=null};return d};this.detachEvent=function(a){!1!=a&&(a=a.split(":"),this[a[0]].removeEvent(a[1]))}};
(function(){dhtmlx.extend_api("dhtmlXCombo",{_init:function(a){a.image_path&&(dhx_globalImgPath=a.image_path);return[a.parent,a.name,a.width||"100%",a.type,a.index]},filter:"filter_command",auto_height:"enableOptionAutoHeight",auto_position:"enableOptionAutoPositioning",auto_width:"enableOptionAutoWidth",xml:"loadXML",readonly:"readonly",items:"addOption"},{filter_command:function(a){"string"==typeof a?this.enableFilteringMode(!0,a):this.enableFilteringMode(a)}})})();dhtmlXCombo_imageOption=function(){this.init()};
dhtmlXCombo_imageOption.prototype=new dhtmlXCombo_defaultOption;dhtmlXCombo_imageOption.prototype.setValue=function(a){this.value=a.value||"";this.text=a.text||"";this.css=a.css||"";this.img_src=a.img_src||this.getDefImage()};
dhtmlXCombo_imageOption.prototype.render=function(){if(!this.content){this.content=document.createElement("DIV");this.content._self=this;this.content.style.cssText="width:100%; overflow:hidden;white-space:nowrap; "+this.css;var a="";""!=this.img_src&&(a+='<img src="'+this.img_src+'" style="display:inline-block;vertical-align:middle;"/>');a+='<div style="display:inline;vertical-align:middle;">'+this.text+"</div>";this.content.innerHTML=a;this._ctext="undefined"!=typeof this.content.textContent?this.content.textContent:
this.content.innerText}return this.content};dhtmlXCombo_imageOption.prototype.data=function(){return[this.value,this._ctext?this._ctext:this.text,this.img_src]};dhtmlXCombo_imageOption.prototype.DrawHeader=function(a,b,c){var d=document.createElement("DIV");d.style.width=c+"px";d.className="dhx_combo_box";d._self=a;a.DOMelem=d;this._DrawHeaderImage(a,b,c);this._DrawHeaderInput(a,b,c-19);this._DrawHeaderButton(a,b,c);a.DOMParent.appendChild(a.DOMelem)};
dhtmlXCombo_imageOption.prototype._DrawHeaderImage=function(a){var b=document.createElement("img");b.className="dhx_combo_option_img";b.style.visibility="hidden";a.DOMelem.appendChild(b);a.DOMelem_image=b};dhtmlXCombo_imageOption.prototype.RedrawHeader=function(a,b){a.DOMelem_image.style.visibility=b?"hidden":"visible";a.DOMelem_image.src=b?"":this.img_src};dhtmlXCombo_imageOption.prototype.getDefImage=function(){return""};
dhtmlXCombo.prototype.setDefaultImage=function(a){dhtmlXCombo_imageOption.prototype.getDefImage=function(){return a}};dhtmlXCombo_optionTypes.image=dhtmlXCombo_imageOption;dhtmlXCombo_checkboxOption=function(){this.init()};dhtmlXCombo_checkboxOption.prototype=new dhtmlXCombo_defaultOption;dhtmlXCombo_checkboxOption.prototype.setValue=function(a){this.value=a.value||"";this.text=a.text||"";this.css=a.css||"";this.checked=a.checked||0};
dhtmlXCombo_checkboxOption.prototype.render=function(){if(!this.content){this.content=document.createElement("DIV");this.content._self=this;this.content.style.cssText="width:100%; overflow:hidden;white-space:nowrap; "+this.css;var a;a=""+(this.checked?'<input type="checkbox" checked  style="display:inline-block;vertical-align:middle;" />':'<input type="checkbox" style="display:inline-block;vertical-align:middle;"/>');a+='<div style="display:inline;vertical-align:middle;">'+this.text+"</div>";this.content.innerHTML=
a;this._ctext="undefined"!=typeof this.content.textContent?this.content.textContent:this.content.innerText;this.content.firstChild.onclick=function(a){this.parentNode.parentNode.combo.DOMelem_input.focus();(a||event).cancelBubble=!0;if(!this.parentNode.parentNode.combo.callEvent("onCheck",[this.parentNode._self.value,this.checked]))return this.checked=!this.checked,!1}}return this.content};dhtmlXCombo_checkboxOption.prototype.data=function(){return[this.value,this._ctext?this._ctext:this.text,this.render().firstChild.checked]};
dhtmlXCombo_checkboxOption.prototype.DrawHeader=function(a,b,c){a.DOMelem=document.createElement("DIV");a.DOMelem.style.width=c+"px";a.DOMelem.className="dhx_combo_box";a.DOMelem._self=a;this._DrawHeaderCheckbox(a,b,c);this._DrawHeaderInput(a,b,c-19);this._DrawHeaderButton(a,b,c);a.DOMParent.appendChild(a.DOMelem)};
dhtmlXCombo_checkboxOption.prototype._DrawHeaderCheckbox=function(a){var b=document.createElement("input");b.type="checkbox";b.className="dhx_combo_option_img";b.style.visibility="hidden";b.onclick=function(c){var d=a.getIndexByValue(a.getActualValue());-1!=d&&(a.setChecked(d,b.checked),a.callEvent("onCheck",[a.getActualValue(),a.optionsArr[d].content.firstChild.checked]));(c||event).cancelBubble=!0};a.DOMelem.appendChild(b);a.DOMelem_checkbox=b};
dhtmlXCombo_checkboxOption.prototype.RedrawHeader=function(a,b){a.DOMelem_checkbox.style.visibility=b?"hidden":"";a.DOMelem_checkbox.checked=b?!1:this.content.firstChild.checked};dhtmlXCombo_optionTypes.checkbox=dhtmlXCombo_checkboxOption;dhtmlXCombo.prototype.getChecked=function(){for(var a=[],b=0;b<this.optionsArr.length;b++)this.optionsArr[b].data()[2]&&a.push(this.optionsArr[b].value);return a};
dhtmlXCombo.prototype.setChecked=function(a,b){this.optionsArr[a].content.firstChild.checked=!1!==b;this._selOption==this.optionsArr[a]&&this._selOption.RedrawHeader(this)};dhtmlXCombo.prototype.setCheckedByValue=function(a,b){return this.setChecked(this.getIndexByValue(a),b)};dhtmlXCombo.prototype.enableOptionAutoPositioning=function(a){this.ListAutoPosit||(this.ListAutoPosit=1);this.attachEvent("onOpen",function(){this._setOptionAutoPositioning(a)});this.attachEvent("onXLE",function(){this._setOptionAutoPositioning(a)})};
dhtmlXCombo.prototype._setOptionAutoPositioning=function(a){if("undefined"!=typeof a&&!convertStringToBoolean(a))return this.ListPosition="Bottom",this.ListAutoPosit=0,!0;a=this.getPosition(this.DOMelem);var b=this._getClientHeight()-a[1]-this.DOMelem.offsetHeight,c=this.autoHeight?this.DOMlist.scrollHeight:parseInt(this.DOMlist.offsetHeight);this.ListPosition=b<c&&a[1]>c?"Top":"Bottom";this._positList();_isIE&&this._IEFix(!0)};
dhtmlXCombo.prototype._getClientHeight=function(){return"CSS1Compat"!=document.compatMode||window.opera?document.body.clientHeight:document.documentElement.clientHeight};dhtmlXCombo.prototype.setOptionWidth=function(a){0<arguments.length&&(this.DOMlist.style.width=a+"px",this.DOMlistF)&&(this.DOMlistF.style.width=a+"px")};
dhtmlXCombo.prototype.setOptionHeight=function(a){0<arguments.length&&(this.DOMlist.style.height=_isIE?this.DOMlistF.style.height=a+"px":a+"px",this.DOMlistF&&(this.DOMlistF.style.height=this.DOMlist.style.height),this._positList(),_isIE&&this._IEFix(!0))};
dhtmlXCombo.prototype.enableOptionAutoWidth=function(a){this._listWidthConf||(this._listWidthConf=this.DOMlist.offsetWidth);0==arguments.length&&(a=1);convertStringToBoolean(a)?(this.autoOptionWidth=1,this.awOnOpen=this.attachEvent("onOpen",function(){this._setOptionAutoWidth()}),this.awOnXLE=this.attachEvent("onXLE",function(){this._setOptionAutoWidth()})):"undefined"!=typeof this.awOnOpen&&(this.autoOptionWidth=0,this.detachEvent(this.awOnOpen),this.detachEvent(this.awOnXLE),this.setOptionWidth(this._listWidthConf))};
dhtmlXCombo.prototype._setOptionAutoWidth=function(){var a=!this.ahOnOpen&&this.DOMlist.scrollHeight>this.DOMlist.offsetHeight;this.setOptionWidth(1);for(var b=this.DOMlist.offsetWidth,c=0;c<this.optionsArr.length;c++)(_isFF?this.DOMlist.childNodes[c].scrollWidth-2:this.DOMlist.childNodes[c].scrollWidth)>b&&(b=this.DOMlist.childNodes[c].scrollWidth);b+=a?18:0;this.setOptionWidth(this.DOMelem.offsetWidth>b?this.DOMelem.offsetWidth:b+2)};
dhtmlXCombo.prototype.enableOptionAutoHeight=function(a,b){this._listHeightConf||(this._listHeightConf=""==this.DOMlist.style.height?100:parseInt(this.DOMlist.style.height));0==arguments.length&&(a=1);this.autoHeight=convertStringToBoolean(a);var c=this;if(this.autoHeight){var d=function(){window.setTimeout(function(){c._setOptionAutoHeight(a,b)},1)};this.ahOnOpen=this.attachEvent("onOpen",d);this.awOnOpen||(this.ahOnXLE=this.attachEvent("onXLE",d));this.ahOnKey=this.attachEvent("onKeyPressed",function(){this._filter&&
window.setTimeout(function(){"block"==c.DOMlist.style.display&&c._setOptionAutoHeight(a,b)},50)})}else"undefined"!=typeof this.ahOnOpen&&(this.detachEvent(this.ahOnOpen),this.ahOnXLE&&this.detachEvent(this.ahOnXLE),this.ahOnKey&&this.detachEvent(this.ahOnKey),this.setOptionHeight(this._listHeightConf))};
dhtmlXCombo.prototype._setOptionAutoHeight=function(a,b){if(convertStringToBoolean(a)){this.setOptionHeight(1);var c=0;0<this.optionsArr.length?(c=this.DOMlist.scrollHeight>this.DOMlist.offsetHeight?this.DOMlist.scrollHeight+2:this.DOMlist.offsetHeight,1<arguments.length&&b&&(b=parseInt(b),c=c>b?b:c),this.setOptionHeight(c)):this.DOMlist.style.display="none"}};
dhtmlXCombo.prototype.attachChildCombo=function(a,b){this._child_combos||(this._child_combos=[]);this._has_childen=1;this._child_combos[this._child_combos.length]=a;a.show(0);var c=this,d=arguments.length;this.attachEvent("onChange",function(){for(var e=0;e<c._child_combos.length;e++)c._child_combos[e]==a&&(a.show(1),a.callEvent("onMasterChange",[c.getActualValue(),c]));""==c.getActualValue()?c.showSubCombo(c,0):a._xml?(1==d&&(b=a._xml),a._xml=c.deleteParentVariable(b),a._xml+=(-1!=a._xml.indexOf("?")?
"&":"?")+"parent="+encodeURIComponent(c.getActualValue())):b&&(a.clearAll(!0),a.loadXML(b+(-1!=b.indexOf("?")?"&":"?")+"parent="+encodeURIComponent(c.getActualValue())))})};
dhtmlXCombo.prototype.setAutoSubCombo=function(a,b){1==arguments.length&&(b="subcombo");if(this._parentCombo)c=new dhtmlXCombo(this._parentCombo.DOMParent,b,this._parentCombo.DOMelem.style.width),c._parentCombo=this._parentCombo;else{var c=new dhtmlXCombo(this.DOMParent,b,this.DOMelem.style.width);c._parentCombo=this}this._filter&&(c._filter=1);this._xml&&(c._xml=0<arguments.length?a:this._xml,a=c._xml,c._autoxml=this._autoxml,this._xmlCache)&&(c._xmlCache=[]);this.attachChildCombo(c,a);return c};
dhtmlXCombo.prototype.detachChildCombo=function(a){for(var b=0;b<this._child_combos.length;b++)this._child_combos.splice(b,1);a.show(1)};dhtmlXCombo.prototype.showSubCombo=function(a,b){if(a._child_combos)for(var c=0;c<a._child_combos.length;c++)a._child_combos[c].show(b),a.showSubCombo(a._child_combos[c],0)};dhtmlXCombo.prototype.deleteParentVariable=function(a){return a.replace(/parent\=[^&]*/g,"").replace(/\?\&/,"?")};
function dataProcessor(a){this.serverProcessor=a;this.action_param="!nativeeditor_status";this.object=null;this.updatedRows=[];this.autoUpdate=!0;this.updateMode="cell";this._tMode="GET";this.post_delim="_";this._waitMode=0;this._in_progress={};this._invalid={};this.mandatoryFields=[];this.messages=[];this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",clear:"font-weight:normal;text-decoration:none;"};
this.enableUTFencoding(!0);dhtmlxEventable(this);return this}
dataProcessor.prototype={setTransactionMode:function(a,b){this._tMode=a;this._tSend=b},escape:function(a){return this._utf?encodeURIComponent(a):escape(a)},enableUTFencoding:function(a){this._utf=convertStringToBoolean(a)},setDataColumns:function(a){this._columns="string"==typeof a?a.split(","):a},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(a){this._endnm=convertStringToBoolean(a)},enablePartialDataSend:function(a){this._changed=convertStringToBoolean(a)},setUpdateMode:function(a,
b){this.autoUpdate="cell"==a;this.updateMode=a;this.dnd=b},ignore:function(a,b){this._silent_mode=!0;a.call(b||window);this._silent_mode=!1},setUpdated:function(a,b,c){if(!this._silent_mode){var d=this.findRow(a);c=c||"updated";var e=this.obj.getUserData(a,this.action_param);e&&"updated"==c&&(c=e);b?(this.set_invalid(a,!1),this.updatedRows[d]=a,this.obj.setUserData(a,this.action_param,c),this._in_progress[a]&&(this._in_progress[a]="wait")):this.is_invalid(a)||(this.updatedRows.splice(d,1),this.obj.setUserData(a,
this.action_param,""));b||this._clearUpdateFlag(a);this.markRow(a,b,c);b&&this.autoUpdate&&this.sendData(a)}},_clearUpdateFlag:function(){},markRow:function(a,b,c){var d="",e=this.is_invalid(a);e&&(d=this.styles[e],b=!0);if(this.callEvent("onRowMark",[a,b,c,e])&&(d=this.styles[b?c:"clear"]+d,this.obj[this._methods[0]](a,d),e&&e.details))for(d+=this.styles[e+"_cell"],b=0;b<e.details.length;b++)if(e.details[b])this.obj[this._methods[1]](a,b,d)},getState:function(a){return this.obj.getUserData(a,this.action_param)},
is_invalid:function(a){return this._invalid[a]},set_invalid:function(a,b,c){c&&(b={value:b,details:c,toString:function(){return this.value.toString()}});this._invalid[a]=b},checkBeforeUpdate:function(){return!0},sendData:function(a){if(!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2){this.obj.editStop&&this.obj.editStop();if("undefined"==typeof a||this._tSend)return this.sendAllData();if(this._in_progress[a])return!1;this.messages=[];if(!this.checkBeforeUpdate(a)&&this.callEvent("onValidationError",
[a,this.messages]))return!1;this._beforeSendData(this._getRowData(a),a)}},_beforeSendData:function(a,b){if(!this.callEvent("onBeforeUpdate",[b,this.getState(b),a]))return!1;this._sendData(a,b)},serialize:function(a,b){if("string"==typeof a)return a;if("undefined"!=typeof b)return this.serialize_one(a,"");var c=[],d=[],e;for(e in a)a.hasOwnProperty(e)&&(c.push(this.serialize_one(a[e],e+this.post_delim)),d.push(e));c.push("ids="+this.escape(d.join(",")));dhtmlx.security_key&&c.push("dhx_security="+
dhtmlx.security_key);return c.join("&")},serialize_one:function(a,b){if("string"==typeof a)return a;var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(this.escape((b||"")+d)+"="+this.escape(a[d]));return c.join("&")},_sendData:function(a,b){if(a){if(!this.callEvent("onBeforeDataSending",b?[b,this.getState(b),a]:[null,null,a]))return!1;b&&(this._in_progress[b]=(new Date).valueOf());var c=new dtmlXMLLoaderObject(this.afterUpdate,this,!0),d=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+
["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):"");"POST"!=this._tMode?c.loadXML(d+(-1!=d.indexOf("?")?"&":"?")+this.serialize(a,b)):c.loadXML(d,!0,this.serialize(a,b));this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var a=!0,b=0;b<this.updatedRows.length;b++)a&=this.checkBeforeUpdate(this.updatedRows[b]);if(!a&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());
else for(b=0;b<this.updatedRows.length&&(this._in_progress[this.updatedRows[b]]||this.is_invalid(this.updatedRows[b])||(this._beforeSendData(this._getRowData(this.updatedRows[b]),this.updatedRows[b]),!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2));b++);}},_getAllData:function(){for(var a={},b=!1,c=0;c<this.updatedRows.length;c++){var d=this.updatedRows[c];!this._in_progress[d]&&!this.is_invalid(d)&&this.callEvent("onBeforeUpdate",[d,this.getState(d)])&&(a[d]=this._getRowData(d,d+this.post_delim),
b=!0,this._in_progress[d]=(new Date).valueOf())}return b?a:null},setVerificator:function(a,b){this.mandatoryFields[a]=b||function(a){return""!=a}},clearVerificator:function(a){this.mandatoryFields[a]=!1},findRow:function(a){for(var b=0,b=0;b<this.updatedRows.length&&a!=this.updatedRows[b];b++);return b},defineAction:function(a,b){this._uActions||(this._uActions=[]);this._uActions[a]=b},afterUpdateCallback:function(a,b,c,d){var e=a,f="error"!=c&&"invalid"!=c;f||this.set_invalid(a,c);if(this._uActions&&
this._uActions[c]&&!this._uActions[c](d))return delete this._in_progress[e];"wait"!=this._in_progress[e]&&this.setUpdated(a,!1);var g=a;switch(c){case "inserted":case "insert":b!=a&&(this.obj[this._methods[2]](a,b),a=b);break;case "delete":case "deleted":return this.obj.setUserData(a,this.action_param,"true_deleted"),this.obj[this._methods[3]](a),delete this._in_progress[e],this.callEvent("onAfterUpdate",[a,c,b,d])}"wait"!=this._in_progress[e]?(f&&this.obj.setUserData(a,this.action_param,""),delete this._in_progress[e]):
(delete this._in_progress[e],this.setUpdated(b,!0,this.obj.getUserData(a,this.action_param)));this.callEvent("onAfterUpdate",[g,c,b,d])},afterUpdate:function(a,b,c,d,e){e.getXMLTopNode("data");if(e.xmlDoc.responseXML){b=e.doXPath("//data/action");for(c=0;c<b.length;c++){d=b[c];e=d.getAttribute("type");var f=d.getAttribute("sid"),g=d.getAttribute("tid");a.afterUpdateCallback(f,g,e,d)}a.finalizeUpdate()}},finalizeUpdate:function(){this._waitMode&&this._waitMode--;("tree"==this.obj.mytype||this.obj._h2)&&
this.updatedRows.length&&this.sendData();this.callEvent("onAfterUpdateFinish",[]);this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(a){this.obj=a;this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(a){this.attachEvent("onAfterUpdate",a)},enableDebug:function(){},setOnBeforeUpdateHandler:function(a){this.attachEvent("onBeforeDataSending",a)},setAutoUpdate:function(a,b){a=a||2E3;this._user=b||(new Date).valueOf();this._need_update=!1;this._loader=null;this._update_busy=
!1;this.attachEvent("onAfterUpdate",function(a,b,c,g){this.afterAutoUpdate(a,b,c,g)});this.attachEvent("onFullSync",function(){this.fullSync()});var c=this;window.setInterval(function(){c.loadUpdate()},a)},afterAutoUpdate:function(a,b){return"collision"==b?(this._need_update=!0,!1):!0},fullSync:function(){!0==this._need_update&&(this._need_update=!1,this.loadUpdate());return!0},getUpdates:function(a,b){if(this._update_busy)return!1;this._update_busy=!0;this._loader=this._loader||new dtmlXMLLoaderObject(!0);
this._loader.async=!0;this._loader.waitCall=b;this._loader.loadXML(a)},_v:function(a){return a.firstChild?a.firstChild.nodeValue:""},_a:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=this._v(a[c]);return b},loadUpdate:function(){var a=this,b=this.obj.getUserData(0,"version"),b=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+b].join("&"),b=b.replace("editing=true&","");this.getUpdates(b,function(){var b=a._loader.doXPath("//userdata");a.obj.setUserData(0,
"version",a._v(b[0]));b=a._loader.doXPath("//update");if(b.length){a._silent_mode=!0;for(var d=0;d<b.length;d++){var e=b[d].getAttribute("status"),f=b[d].getAttribute("id"),g=b[d].getAttribute("parent");switch(e){case "inserted":a.callEvent("insertCallback",[b[d],f,g]);break;case "updated":a.callEvent("updateCallback",[b[d],f,g]);break;case "deleted":a.callEvent("deleteCallback",[b[d],f,g])}}a._silent_mode=!1}a._update_busy=!1;a=null})}};
function dhtmlXEditor(a,b){var c=this;this.skin=b||dhtmlx.skin||"dhx_skyblue";this.iconsPath=dhtmlx.image_path||"../../codebase/imgs/";"string"==typeof a&&(a=document.getElementById(a));for(this.base=a;0<this.base.childNodes.length;)this.base.removeChild(this.base.childNodes[0]);this.tbData=(this._isToolbar=null!=this.initDhtmlxToolbar&&null!=window.dhtmlXToolbarObject?!0:!1)?"":"<div class='dhxeditor_"+this.skin+"_btns'><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='b' cmd='applyBold' class='dhxeditor_"+
this.skin+"_tbbtn btn_bold'></div></a><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='i' cmd='applyItalic' class='dhxeditor_"+this.skin+"_tbbtn btn_italic'></div></a><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='u' cmd='applyUnderscore' class='dhxeditor_"+this.skin+"_tbbtn btn_underline'></div></a><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='c' cmd='clearFormatting' class='dhxeditor_"+this.skin+"_tbbtn btn_clearformat'></div></a><div class='verline_l'></div><div class='verline_r'></div></div>";
var d=_isIE?this.base.currentStyle.position:window.getComputedStyle(this.base,null).getPropertyValue("position");"relative"!=d&&"absolute"!=d&&(this.base.style.position="relative");this.base.innerHTML=this.tbData+"<div style='position:absolute; width: 100%; overflow: hidden;'></div>";d=new dhtmlXContainerLite(this.base);d.skin=this.skin;d.setContent(this.base.childNodes[this._isToolbar?0:1]);this.base.adjustContent(this.base,this._isToolbar?0:this.base.childNodes[0].offsetHeight);this.cBlock=document.createElement("DIV");
this.cBlock.className="dhxcont_content_blocker";this.cBlock.style.display="none";this.base.appendChild(this.cBlock);this.editor=document.createElement("IFRAME");this.editor.className="dhxeditor_mainiframe_"+this.skin;this.editor.frameBorder=0;_isOpera&&(this.editor.scrolling="yes");var e=this.editor;_isIE?(e.onreadystatechange=function(){if("complete"==e.readyState)try{this.contentWindow.document.body.attachEvent("onfocus",function(a){c._ev("focus",a)}),this.contentWindow.document.body.attachEvent("onblur",
function(a){c._ev("blur",a)}),this.contentWindow.document.body.attachEvent("onkeydown",function(a){c._ev("keydown",a)}),this.contentWindow.document.body.attachEvent("onkeyup",function(a){c._ev("keyup",a)}),this.contentWindow.document.body.attachEvent("onkeypress",function(a){c._ev("keypress",a)}),this.contentWindow.document.body.attachEvent("onmouseup",function(a){c._ev("mouseup",a)}),this.contentWindow.document.body.attachEvent("onmousedown",function(a){c._ev("mousedown",a)}),this.contentWindow.document.body.attachEvent("onclick",
function(a){c._ev("click",a)})}catch(a){}},e.onunload=function(){this.contentWindow.document.body.detachEvent("onfocus",function(){c._ev("focus",event)});this.contentWindow.document.body.detachEvent("onblur",function(){c._ev("blur",event)});this.contentWindow.document.body.detachEvent("onkeydown",function(){c._ev("keydown",event)});this.contentWindow.document.body.detachEvent("onkeyup",function(){c._ev("keyup",event)});this.contentWindow.document.body.detachEvent("onkeypress",function(){c._ev("keypress",
event)});this.contentWindow.document.body.detachEvent("onmouseup",function(){c._ev("mouseup",event)});this.contentWindow.document.body.detachEvent("onmousedown",function(){c._ev("mousedown",event)});this.contentWindow.document.body.detachEvent("onclick",function(){c._ev("click",event)})}):(e.onload=function(){this.contentWindow.addEventListener("focus",function(a){c._ev("focus",a)},!1);this.contentWindow.addEventListener("blur",function(a){c._ev("blur",a)},!1);this.contentWindow.addEventListener("keydown",
function(a){c._ev("keydown",a)},!1);this.contentWindow.addEventListener("keyup",function(a){c._ev("keyup",a)},!1);this.contentWindow.addEventListener("keypress",function(a){c._ev("keypress",a)},!1);this.contentWindow.addEventListener("mouseup",function(a){c._ev("mouseup",a)},!1);this.contentWindow.addEventListener("mousedown",function(a){c._ev("mousedown",a)},!1);this.contentWindow.addEventListener("click",function(a){c._ev("click",a)},!1)},e.onunload=function(){this.contentWindow.removeEventListener("focus",
function(a){c._ev("focus",a)},!1);this.contentWindow.removeEventListener("blur",function(a){c._ev("blur",a)},!1);this.contentWindow.removeEventListener("keydown",function(a){c._ev("keydown",a)},!1);this.contentWindow.removeEventListener("keyup",function(a){c._ev("keyup",a)},!1);this.contentWindow.removeEventListener("keypress",function(a){c._ev("keypress",a)},!1);this.contentWindow.removeEventListener("mouseup",function(a){c._ev("mouseup",a)},!1);this.contentWindow.removeEventListener("mousedown",
function(a){c._ev("mousedown",a)},!1);this.contentWindow.removeEventListener("click",function(a){c._ev("click",a)},!1)});this._ev=function(a,b){this.callEvent("onAccess",[a,b])};this._focus=function(){_isIE?this.editor.contentWindow.document.body.focus():this.editor.contentWindow.focus()};this.base.attachObject(this.editor);this.edWin=this.editor.contentWindow;this.edDoc=this.edWin.document;this._prepareContent=function(a,b){var c="";!0===a&&null!=this.getContent&&(c=this.getContent());var d=this.editor.contentWindow.document;
d.open("text/html","replace");_isOpera?d.write("<html><head><style> html, body { overflow:auto;-webkit-overflow-scrolling: touch; padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color:#ffffff;} </style></head><body "+(!0!==b?"contenteditable='true'":"")+" tabindex='0'></body></html>"):window._KHTMLrv?d.write("<html><head><style> html {overflow-x: auto;-webkit-overflow-scrolling: touch; overflow-y: auto;} body { overflow: auto; overflow-y: scroll;} html,body { padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color:#ffffff;} </style></head><body "+
(!0!==b?"contenteditable='true'":"")+" tabindex='0'></body></html>"):_isIE?d.write("<html><head><style> html {overflow-y: auto;} body {overflow-y: scroll;-webkit-overflow-scrolling: touch;} html,body { overflow-x: auto; padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color: #ffffff; outline: none;} </style></head><body "+(!0!==b?"contenteditable='true'":"")+" tabindex='0'></body></html>"):d.write("<html><head><style> html,body { overflow-x: auto; overflow-y:-webkit-overflow-scrolling: touch; scroll; padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color:#ffffff;} </style></head><body "+
(!0!==b?"contenteditable='true'":"")+" tabindex='0'></body></html>");d.close();_isIE?d.contentEditable=!0!==b:d.designMode=!0!==b?"On":"Off";if(_isFF)try{d.execCommand("useCSS",!1,!0)}catch(e){}!0===a&&null!=this.setContent&&this.setContent(c)};this._prepareContent();this.setIconsPath=function(){};this.init=function(){};this.setSizes=function(){this.base.adjustContent(this.base,this._isToolbar?0:this.base.childNodes[0].offsetHeight)};this._resizeTM=null;this._resizeTMTime=100;this._doOnResize=function(){window.clearTimeout(c._resizeTM);
c._resizeTM=window.setTimeout(function(){c.setSizes&&c.setSizes()},c._resizeTMTime)};this._doOnUnload=function(){window.detachEvent("onresize",this._doOnResize);window.removeEventListener("resize",this._doOnResize,!1)};dhtmlxEvent(window,"resize",this._doOnResize);this.base.childNodes[0].onselectstart=function(a){a=a||event;a.cancelBubble=!0;a.returnValue=!1;a.preventDefault&&a.preventDefault();return!1};for(d=0;d<this.base.childNodes[0].childNodes.length-2;d++)this.base.childNodes[0].childNodes[d].childNodes[0].onmousedown=
function(){var a=this.getAttribute("cmd");"function"==typeof c[a]&&(c[a](),c.callEvent("onToolbarClick",[this.getAttribute("actv")]));return!1},this.base.childNodes[0].childNodes[d].childNodes[0].onclick=function(){return!1};this.runCommand=function(a,b){if(!0!==this._roMode){2>arguments.length&&(b=null);_isIE&&this.edWin.focus();try{this.editor.contentWindow.document.execCommand(a,!1,b)}catch(c){}if(_isIE){this.edWin.focus();var d=this;window.setTimeout(function(){d.edWin.focus()},1)}}};this.applyBold=
function(){this.runCommand("Bold")};this.applyItalic=function(){this.runCommand("Italic")};this.applyUnderscore=function(){this.runCommand("Underline")};this.clearFormatting=function(){this.runCommand("RemoveFormat")};this._isToolbar&&this.initDhtmlxToolbar();dhtmlxEventable(this);dhtmlxEvent(this.edDoc,"click",function(a){a=a||window.event;c.showInfo(a.target||a.srcElement)});_isOpera&&dhtmlxEvent(this.edDoc,"mousedown",function(a){a=a||window.event;c.showInfo(a.target||a.srcElement)});dhtmlxEvent(this.edDoc,
"keyup",function(a){var b=a||window.event;a=b.keyCode;b=b.target||b.srcElement;37!=a&&38!=a&&39!=a&&40!=a&&13!=a||c.showInfo(b)});this.attachEvent("onFocusChanged",function(a){c._doOnFocusChanged&&c._doOnFocusChanged(a)});this.showInfo=function(a){if((a=this.getSelectionBounds().end?this.getSelectionBounds().end:a)&&this.setStyleProperty)try{if(this.edWin.getComputedStyle){var b=this.edWin.getComputedStyle(a,null),c=401==b.getPropertyValue("font-weight")?700:b.getPropertyValue("font-weight");this.style=
{fontStyle:b.getPropertyValue("font-style"),fontSize:b.getPropertyValue("font-size"),textDecoration:b.getPropertyValue("text-decoration"),fontWeight:c,fontFamily:b.getPropertyValue("font-family"),textAlign:b.getPropertyValue("text-align")};window._KHTMLrv&&(this.style.fontStyle=b.getPropertyValue("font-style"),this.style.vAlign=b.getPropertyValue("vertical-align"),this.style.del=this.isStyleProperty(a,"span","textDecoration","line-through"),this.style.u=this.isStyleProperty(a,"span","textDecoration",
"underline"))}else b=a.currentStyle,this.style={fontStyle:b.fontStyle,fontSize:b.fontSize,textDecoration:b.textDecoration,fontWeight:b.fontWeight,fontFamily:b.fontFamily,textAlign:b.textAlign};this.setStyleProperty(a,"h1");this.setStyleProperty(a,"h2");this.setStyleProperty(a,"h3");this.setStyleProperty(a,"h4");window._KHTMLrv||(this.setStyleProperty(a,"del"),this.setStyleProperty(a,"sub"),this.setStyleProperty(a,"sup"),this.setStyleProperty(a,"u"));this.callEvent("onFocusChanged",[this.style,b])}catch(d){return null}};
this.getSelectionBounds=function(){var a,b,c,d;if(this.edWin.getSelection)return a=this.edWin.getSelection(),a=a.getRangeAt(a.rangeCount-1),c=a.startContainer,d=a.endContainer,b=a.commonAncestorContainer,"#text"==c.nodeName&&(b=b.parentNode),"#text"==c.nodeName&&(c=c.parentNode),"body"==c.nodeName.toLowerCase()&&(c=c.firstChild),"#text"==d.nodeName&&(d=d.parentNode),"body"==d.nodeName.toLowerCase()&&(d=d.lastChild),c==d&&(b=c),{root:b,start:c,end:d};if(this.edWin.document.selection){a=this.edDoc.selection.createRange();
if(!a.duplicate)return null;b=a.parentElement();d=a.duplicate();var e=a.duplicate();d.collapse(!0);e.moveToElementText(d.parentElement());e.setEndPoint("EndToStart",d);c=d.parentElement();d=a.duplicate();e=a.duplicate();e.collapse(!1);d.moveToElementText(e.parentElement());d.setEndPoint("StartToEnd",e);d=e.parentElement();"body"==c.nodeName.toLowerCase()&&(c=c.firstChild);"body"==d.nodeName.toLowerCase()&&(d=d.lastChild);c==d&&(b=c);return{root:b,start:c,end:d}}return null};this.getContent=function(){return this.edDoc.body?
_isFF?this.editor.contentWindow.document.body.innerHTML.replace(/<\/{0,}br\/{0,}>\s{0,}$/gi,""):_isIE&&0==this.edDoc.body.innerText.length?"":this.edDoc.body.innerHTML:""};this.setContent=function(a){a=a||"";this.edDoc.body?(-1!=navigator.userAgent.indexOf("Firefox")?("undefined"==typeof this._ffTest&&(this.editor.contentWindow.document.body.innerHTML="",this.runCommand("InsertHTML","test"),this._ffTest=0<this.editor.contentWindow.document.body.innerHTML.length),this._ffTest?this.editor.contentWindow.document.body.innerHTML=
a:(this.editor.contentWindow.document.body.innerHTML="",0==a.length&&(a=" "),this.runCommand("InsertHTML",a))):this.editor.contentWindow.document.body.innerHTML=a,this.callEvent("onContentSet",[])):dhtmlxEvent(this.edWin,"load",function(){c.setContent(a)})};this.setContentHTML=function(a){(new dtmlXMLLoaderObject(this._ajaxOnLoad,this,!1,!0)).loadXML(a)};this._ajaxOnLoad=function(a,b,c,d,e){e.xmlDoc.responseText&&a.setContent(e.xmlDoc.responseText)}}
function dhtmlXContainerLite(a){var b=this;this.obj=a;this.dhxcont=null;this.setContent=function(a){this.dhxcont=a;this.dhxcont.innerHTML="<div style='position: relative; left: 0px; top: 0px; overflow: hidden;'></div>";this.dhxcont.mainCont=this.dhxcont.childNodes[0];this.obj.dhxcont=this.dhxcont};this.obj._genStr=function(a){for(var b="",e=0;e<a;e++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(61*Math.random()));return b};this.obj.adjustContent=function(a,
b,e,f,g){this.dhxcont.style.left=(this._offsetLeft||0)+"px";this.dhxcont.style.top=(this._offsetTop||0)+b+"px";var k=a.clientWidth+(this._offsetWidth||0);!0!==f&&(this.dhxcont.style.width=Math.max(0,k)+"px");!0!==f&&this.dhxcont.offsetWidth>k&&(this.dhxcont.style.width=Math.max(0,2*k-this.dhxcont.offsetWidth)+"px");a=a.clientHeight+(this._offsetHeight||0);this.dhxcont.style.height=Math.max(0,a-b)+(null!=e?e:0)+"px";this.dhxcont.offsetHeight>a-b&&(this.dhxcont.style.height=Math.max(0,2*(a-b)-this.dhxcont.offsetHeight)+
"px");g&&!isNaN(g)&&(this.dhxcont.style.height=Math.max(0,parseInt(this.dhxcont.style.height)-g)+"px");null!=this._minDataSizeH&&parseInt(this.dhxcont.style.height)<this._minDataSizeH&&(this.dhxcont.style.height=this._minDataSizeH+"px");null!=this._minDataSizeW&&parseInt(this.dhxcont.style.width)<this._minDataSizeW&&(this.dhxcont.style.width=this._minDataSizeW+"px");!0!==f&&(this.dhxcont.mainCont.style.width=this.dhxcont.clientWidth+"px",this.dhxcont.mainCont.offsetWidth>this.dhxcont.clientWidth)&&
(this.dhxcont.mainCont.style.width=Math.max(0,2*this.dhxcont.clientWidth-this.dhxcont.mainCont.offsetWidth)+"px");b=null!=this.menu?this.menuHidden?0:this.menuHeight:0;e=null!=this.toolbar?this.toolbarHidden?0:this.toolbarHeight:0;f=null!=this.sb?this.sbHidden?0:this.sbHeight:0;this.dhxcont.mainCont.style.height=this.dhxcont.clientHeight+"px";this.dhxcont.mainCont.offsetHeight>this.dhxcont.clientHeight&&(this.dhxcont.mainCont.style.height=Math.max(0,2*this.dhxcont.clientHeight-this.dhxcont.mainCont.offsetHeight)+
"px");this.dhxcont.mainCont.style.height=Math.max(0,parseInt(this.dhxcont.mainCont.style.height)-b-e-f)+"px"};this.obj.attachToolbar=function(){var a=document.createElement("DIV");a.style.position="relative";a.style.overflow="hidden";a.id="dhxtoolbar_"+this._genStr(12);this.dhxcont.insertBefore(a,this.dhxcont.childNodes[null!=this.menu?1:0]);this.toolbar=new dhtmlXToolbarObject(a.id,this.skin);"dhx_web"==b.skin?(this.toolbarHeight=32,this.dhxcont.className="dhtmlx_editor_extended_"+b.skin):"dhx_terrace"==
b.skin?(this._attached?(this.toolbarHeight=46,a.style.marginBottom="14px"):(this.toolbarHeight=34,a.style.marginTop="2px",a.style.marginLeft="2px",a.style.marginBottom="2px"),this.dhxcont.className="dhtmlx_editor_extended_"+b.skin):this.toolbarHeight=a.offsetHeight+(this._isLayout&&"dhx_skyblue"==this.skin?2:0);this.toolbarId=a.id;this._doOnAttachToolbar&&this._doOnAttachToolbar("init");this.adjust();return this.toolbar};this.obj.attachObject=function(a,b){"string"==typeof a&&(a=document.getElementById(a));
if(b){a.style.visibility="hidden";a.style.display="";var e=a.offsetWidth,f=a.offsetHeight}this._attachContent("obj",a);b&&this._isWindow&&(a.style.visibility="visible",this._adjustToContent(e,f))};this.obj.adjust=function(){if("dhx_skyblue"==this.skin&&this.toolbar){if(this._isWindow||this._isLayout)document.getElementById(this.toolbarId).style.height="29px",this.toolbarHeight=document.getElementById(this.toolbarId).offsetHeight,this._doOnAttachToolbar&&this._doOnAttachToolbar("show");this._isCell&&
(document.getElementById(this.toolbarId).className+=" in_layoutcell");this._isAcc&&(document.getElementById(this.toolbarId).className+=" in_acccell")}};this.obj._attachContent=function(a,d,e){for(;0<b.dhxcont.mainCont.childNodes.length;)b.dhxcont.mainCont.removeChild(b.dhxcont.mainCont.childNodes[0]);"obj"==a&&(this._isWindow&&null==d.cmp&&"dhx_skyblue"==this.skin&&(this.dhxcont.mainCont.style.border="#a4bed4 1px solid",this.dhxcont.mainCont.style.backgroundColor="#FFFFFF",this._redraw()),b.dhxcont._frame=
null,b.dhxcont.mainCont.appendChild(d),b.dhxcont.mainCont.style.overflow=!0===e?"auto":"hidden",d.style.display="")};this.obj._dhxContDestruct=function(){for(;0<this.dhxcont.mainCont.childNodes.length;)this.dhxcont.mainCont.removeChild(this.dhxcont.mainCont.childNodes[0]);this.dhxcont.mainCont.innerHTML="";this.dhxcont.mainCont=null;try{delete this.dhxcont.mainCont}catch(a){}for(;0<this.dhxcont.childNodes.length;)this.dhxcont.removeChild(this.dhxcont.childNodes[0]);this.dhxcont.innerHTML="";this.dhxcont=
null;try{delete this.dhxcont}catch(b){}this.attachToolbar=this.adjustContent=this.moveContentTo=this.attachObject=this.adjust=this._dhxContDestruct=this._attachContent=this._genStr=null}}(function(){dhtmlx.extend_api("dhtmlXEditor",{_init:function(a){return[a.parent,a.skin]},content:"setContent"},{})})();
dhtmlXEditor.prototype.unload=function(){if(this._isToolbar)this._unloadExtModule();else for(;0<this.base.childNodes[0].childNodes.length;)this.base.childNodes[0].childNodes[0].tagName&&"a"==String(this.base.childNodes[0].childNodes[0].tagName).toLowerCase()&&(this.base.childNodes[0].childNodes[0].childNodes[0].onclick=null,this.base.childNodes[0].childNodes[0].childNodes[0].onmousedown=null,this.base.childNodes[0].childNodes[0].removeChild(this.base.childNodes[0].childNodes[0].childNodes[0])),this.base.childNodes[0].removeChild(this.base.childNodes[0].childNodes[0]);
this.tbData=this.base.childNodes[0].onselectstart=null;this.detachAllEvents();_isIE?this.editor.onreadystatechange=null:this.editor.onload=null;this.editor.parentNode.removeChild(this.editor);this.edWin=this.edDoc=this.editor=this.editor.onunload=null;this.base._dhxContDestruct();this.base._idd=null;for(this.base.name=null;0<this.base.childNodes.length;)this.base.removeChild(this.base.childNodes[0]);this.unload=this.isReadonly=this.setReadonly=this.setContentHTML=this.setContent=this.getContent=this.getSelectionBounds=
this.showInfo=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=this.clearFormatting=this.applyUnderscore=this.applyItalic=this.applyBold=this.runCommand=this.setSizes=this.init=this.setIconsPath=this._doOnUnload=this._doOnResize=this._prepareContent=this._focus=this._ev=this._ajaxOnLoad=this.iconsPath=this.skin=this._resizeTMTime=this._resizeTM=this._isToolbar=this.cBlock=this.base=null};
dhtmlXEditor.prototype.setReadonly=function(a){this._roMode=!0===a;this._prepareContent(!0,this._roMode);this.cBlock.style.display=this._roMode?"":"none"};dhtmlXEditor.prototype.isReadonly=function(){return this._roMode||!1};
dhtmlXEditor.prototype.initDhtmlxToolbar=function(){this.tb=this.base.attachToolbar();this.tb.setSkin(this.skin);"dhx_skyblue"==this.skin&&(this.tb.base.style.borderLeft="none",this.tb.base.style.borderRight="none",this.tb.base.style.top="-1px");this.setSizes();this.tb.setIconsPath(this.iconsPath+"dhxeditor_"+this.skin+"/");this._availFonts="Arial;Arial Narrow;Comic Sans MS;Courier;Georgia;Impact;Tahoma;Times New Roman;Verdana".split(";");this._initFont=this._availFonts[0];this._xmlFonts="";for(var a=
0;a<this._availFonts.length;a++){var b=String(this._availFonts[a]).replace(/\s/g,"_");this._xmlFonts+='<item type="button" id="applyFontFamily:'+b+'"><itemText><![CDATA[<img src="'+this.tb.imagePath+"font_"+String(b).toLowerCase()+'.gif" border="0" style="/*margin-top:1px;margin-bottom:1px;*/width:110px;height:16px;">]]\x3e</itemText></item>'}this._availSizes={1:"8pt",2:"10pt",3:"12pt",4:"14pt",5:"18pt",6:"24pt",7:"36pt"};this._xmlSizes="";for(var c in this._availSizes)this._xmlSizes+='<item type="button" id="applyFontSize:'+
c+":"+this._availSizes[c]+'" text="'+this._availSizes[c]+'"/>';this.tbXML='<toolbar><item id="applyH1" type="buttonTwoState" img="h1.gif" imgdis="h4_dis.gif" title="H1"/><item id="applyH2" type="buttonTwoState" img="h2.gif" imgdis="h4_dis.gif" title="H2"/><item id="applyH3" type="buttonTwoState" img="h3.gif" imgdis="h4_dis.gif" title="H3"/><item id="applyH4" type="buttonTwoState" img="h4.gif" imgdis="h4_dis.gif" title="H4"/><item id="separ01" type="separator"/><item id="applyBold" type="buttonTwoState" img="bold.gif" imgdis="bold_dis.gif" title="Bold Text"/><item id="applyItalic" type="buttonTwoState" img="italic.gif" imgdis="italic_dis.gif" title="Italic Text"/><item id="applyUnderscore" type="buttonTwoState" img="underline.gif" imgdis="underline_dis.gif" title="Underscore Text"/><item id="applyStrikethrough" type="buttonTwoState" img="strike.gif" imgdis="strike_dis.gif" title="Strikethrough Text"/><item id="separ02" type="separator"/><item id="alignLeft" type="buttonTwoState" img="align_left.gif" imgdis="align_left_dis.gif" title="Left Alignment"/><item id="alignCenter" type="buttonTwoState" img="align_center.gif" imgdis="align_center_dis.gif" title="Center Alignment"/><item id="alignRight" type="buttonTwoState" img="align_right.gif" imgdis="align_right_dis.gif" title="Right Alignment"/><item id="alignJustify" type="buttonTwoState" img="align_justify.gif" title="Justified Alignment"/><item id="separ03" type="separator"/><item id="applySub" type="buttonTwoState" img="script_sub.gif" imgdis="script_sub.gif" title="Subscript"/><item id="applySuper" type="buttonTwoState" img="script_super.gif" imgdis="script_super_dis.gif" title="Superscript"/><item id="separ04" type="separator"/><item id="createNumList" type="button" img="list_number.gif" imgdis="list_number_dis.gif" title="Number List"/><item id="createBulList" type="button" img="list_bullet.gif" imgdis="list_bullet_dis.gif" title="Bullet List"/><item id="separ05" type="separator"/><item id="increaseIndent" type="button" img="indent_inc.gif" imgdis="indent_inc_dis.gif" title="Increase Indent"/><item id="decreaseIndent" type="button" img="indent_dec.gif" imgdis="indent_dec_dis.gif" title="Decrease Indent"/><item id="separ06" type="separator"/><item id="clearFormatting" type="button" img="clear.gif" title="Clear Formatting"/></toolbar>';
this.tb.loadXMLString(this.tbXML);this._checkAlign=function(a){this.tb.setItemState("alignCenter",!1);this.tb.setItemState("alignRight",!1);this.tb.setItemState("alignJustify",!1);this.tb.setItemState("alignLeft",!1);a&&this.tb.setItemState(a,!0)};this._checkH=function(a){this.tb.setItemState("applyH1",!1);this.tb.setItemState("applyH2",!1);this.tb.setItemState("applyH3",!1);this.tb.setItemState("applyH4",!1);a&&this.tb.setItemState(a,!0)};this._doOnFocusChanged=function(a){if(a.h1||a.h2||a.h3||a.h4)this.tb.setItemState("applyBold",
!1);else{var b=-1!=String(a.fontWeight).search(/bold/i)||700<=Number(a.fontWeight);this.tb.setItemState("applyBold",b)}b="alignLeft";-1!=String(a.textAlign).search(/center/)&&(b="alignCenter");-1!=String(a.textAlign).search(/right/)&&(b="alignRight");-1!=String(a.textAlign).search(/justify/)&&(b="alignJustify");this.tb.setItemState(b,!0);this._checkAlign(b);this.tb.setItemState("applyH1",a.h1);this.tb.setItemState("applyH2",a.h2);this.tb.setItemState("applyH3",a.h3);this.tb.setItemState("applyH4",
a.h4);window._KHTMLrv&&(a.sub="sub"==a.vAlign,a.sup="super"==a.vAlign);this.tb.setItemState("applyItalic","italic"==a.fontStyle);this.tb.setItemState("applyStrikethrough",a.del);this.tb.setItemState("applySub",a.sub);this.tb.setItemState("applySuper",a.sup);this.tb.setItemState("applyUnderscore",a.u)};this._doOnToolbarClick=function(a){var b=String(a).split(":");null!=this[b[0]]&&"function"==typeof this[b[0]]&&(this[b[0]](b[1]),this.callEvent("onToolbarClick",[a]))};this._doOnStateChange=function(a){this[a]();
switch(a){case "alignLeft":case "alignCenter":case "alignRight":case "alignJustify":this._checkAlign(a);break;case "applyH1":case "applyH2":case "applyH3":case "applyH4":this._checkH(a)}this.callEvent("onToolbarClick",[a])};this._doOnBeforeStateChange=function(a,b){return"alignLeft"!=a&&"alignCenter"!=a&&"alignRight"!=a&&"alignJustify"!=a||!0!=b?!0:!1};var d=this;this.tb.attachEvent("onClick",function(a){d._doOnToolbarClick(a)});this.tb.attachEvent("onStateChange",function(a,b){d._doOnStateChange(a,
b)});this.tb.attachEvent("onBeforeStateChange",function(a,b){return d._doOnBeforeStateChange(a,b)});this.applyBold=function(){this.runCommand("Bold")};this.applyItalic=function(){this.runCommand("Italic")};this.applyUnderscore=function(){this.runCommand("Underline")};this.applyStrikethrough=function(){this.runCommand("StrikeThrough")};this.alignLeft=function(){this.runCommand("JustifyLeft")};this.alignRight=function(){this.runCommand("JustifyRight")};this.alignCenter=function(){this.runCommand("JustifyCenter")};
this.alignJustify=function(){this.runCommand("JustifyFull")};this.applySub=function(){this.runCommand("Subscript")};this.applySuper=function(){this.runCommand("Superscript")};this.applyH1=function(){this.runCommand("FormatBlock","<H1>")};this.applyH2=function(){this.runCommand("FormatBlock","<H2>")};this.applyH3=function(){this.runCommand("FormatBlock","<H3>")};this.applyH4=function(){this.runCommand("FormatBlock","<H4>")};this.createNumList=function(){this.runCommand("InsertOrderedList")};this.createBulList=
function(){this.runCommand("InsertUnorderedList")};this.increaseIndent=function(){this.runCommand("Indent")};this.decreaseIndent=function(){this.runCommand("Outdent")};this.clearFormatting=function(){this.runCommand("RemoveFormat");this.tb.setItemState("applyBold",!1);this.tb.setItemState("applyItalic",!1);this.tb.setItemState("applyStrikethrough",!1);this.tb.setItemState("applySub",!1);this.tb.setItemState("applySuper",!1);this.tb.setItemState("applyUnderscore",!1)};this.getParentByTag=function(a,
b){b=b.toLowerCase();var c=a;do if(""==b||c.nodeName.toLowerCase()==b)return c;while(c=c.parentNode);return a};this.isStyleProperty=function(a,b,c,d){b=b.toLowerCase();do if(a.nodeName.toLowerCase()==b&&a.style[c]==d)return!0;while(a=a.parentNode);return!1};this.setStyleProperty=function(a,b){this.style[b]=!1;var c=this.getParentByTag(a,b);c&&c.tagName.toLowerCase()==b&&(this.style[b]=!0);"del"==b&&this.getParentByTag(a,"strike")&&"strike"==this.getParentByTag(a,"strike").tagName.toLowerCase()&&(this.style.del=
!0)};this._unloadExtModule=function(){this.tb.unload();this.setStyleProperty=this.isStyleProperty=this.getParentByTag=this.clearFormatting=this.decreaseIndent=this.increaseIndent=this.createBulList=this.createNumList=this.applyH4=this.applyH3=this.applyH2=this.applyH1=this.applySuper=this.applySub=this.alignJustify=this.alignCenter=this.alignRight=this.alignLeft=this.applyStrikethrough=this.applyUnderscore=this.applyItalic=this.applyBold=this._doOnBeforeStateChange=this._doOnStateChange=this._doOnToolbarClick=
this._doOnFocusChanged=this._checkH=this._checkAlign=this.tbXML=this._xmlSizes=this._availSizes=this._xmlFonts=this._initFont=this._availFonts=this.tb=null}};
function dhtmlXForm(a,b,c){this.idef={position:"label-left",labelWidth:"auto",labelHeight:"auto",inputWidth:"auto",inputHeight:"auto",labelAlign:"left",noteWidth:"auto",offsetTop:0,offsetLeft:0,blockOffset:20};this.idef_const={offsetNested:20};this.apos_css={"label-left":"dhxform_item_label_left","label-right":"dhxform_item_label_right","label-top":"dhxform_item_label_top","label-bottom":"dhxform_item_label_bottom",absolute:"dhxform_item_absolute"};this.align_css={left:"dhxform_label_align_left",
center:"dhxform_label_align_center",right:"dhxform_label_align_right"};var d=this;this.setSkin=function(a){this.skin=a;this.cont.className="dhxform_obj_"+this.skin;this.cont.style.fontSize="13px";this._updateBlocks();this.forEachItem(function(b){"calendar"==d.getItemType(b)&&d.doWithItem(b,"setSkin",a)})};this.skinDetect=function(){var a=document.createElement("DIV");a.className="dhxform_skin_detect";document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a);
var b=a.offsetWidth;a.parentNode.removeChild(a);return{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace"}[b]||null};this.skin=c||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||this.skinDetect()||"dhx_skyblue";this.separator=",";this.live_validate=!1;this._type="checkbox";this._rGroup="default";this._idIndex={};this._indexId=[];this.cont="object"==typeof a?a:document.getElementById(a);a._isNestedForm||(this._parentForm=!0,this.cont.style.fontSize="13px",this.cont.className="dhxform_obj_"+this.skin,this.setFontSize=
function(a){this.cont.style.fontSize=a;this._updateBlocks()},this.getForm=function(){return this},this.cont.onkeypress=function(a){a=a||event;if(13==a.keyCode){var b=a.target||a.srcElement;"undefined"!=typeof b.tagName&&"textarea"==String(b.tagName).toLowerCase()&&!a.ctrlKey||d.callEvent("onEnter",[])}});this.b_index=null;this.base=[];this._prepare=function(a){null==this.b_index?this.b_index=0:this.b_index++;this.base[this.b_index]=document.createElement("DIV");this.base[this.b_index].className="dhxform_base";
"undefined"!=typeof a&&(this.base[this.b_index].style.cssText+=" margin-left:"+a+"px!important;");this.cont.appendChild(this.base[this.b_index])};this.setSizes=function(){};this._mergeSettings=function(a){var b=-1,c={type:"settings"},d;for(d in this.idef)c[d]=this.idef[d];for(var e=0;e<a.length;e++)if("undefined"!=typeof a[e]&&"settings"==a[e].type){for(d in a[e])c[d]=a[e][d];b=e}a[0<=b?b:a.length]=c;return a};this._genStr=function(a){for(var b="",c=0;c<a;c++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(61*
Math.random()));return b};this.idPrefix="dhxForm_"+this._genStr(12)+"_";this._rId=this._parentForm?this._genStr(12)+"_":a._rId;this.objPull={};this.itemPull={};this._ic=0;this._addItem=function(a,b,c,e,l,m){this.items[a]._index&&(this.getForm()._indexId.push(b),this.getForm()._idIndex[b]={ind:this.getForm()._indexId.length-1});a||(a=this._type);if("list"==a&&null!=l&&null!=this.itemPull[this.idPrefix+l]&&"function"==typeof this.itemPull[this.idPrefix+l]._addSubListNode)m=this.itemPull[this.idPrefix+
l]._addSubListNode();else if("newcolumn"==a)m={};else{var n=null;if("undefined"!=typeof m&&!isNaN(m)&&"list"!=a)for(m=Math.max(parseInt(m),0)+1,l=0;l<this.base[this.b_index].childNodes.length;l++)!0!=this.base[this.b_index].childNodes[l]._isNestedForm&&(m--,0==m&&(n=this.base[this.b_index].childNodes[l]));else if("list"==a)for(var s in this.itemPull)s==this.idPrefix+b&&(n=this.itemPull[s].nextSibling,null!=this.itemPull[s]._listBase&&0<this.itemPull[s]._listBase.length&&(n=this.itemPull[s]._listBase[this.itemPull[s]._listBase.length-
1]));m=document.createElement("DIV");n?this.base[this.b_index].insertBefore(m,n):this.base[this.b_index].appendChild(m)}m._idd=b;m._rId=this._rId;"undefined"!=typeof m.style&&("undefined"==typeof c.offsetLeft&&0<this.idef.offsetLeft&&(c.offsetLeft=this.idef.offsetLeft),"undefined"==typeof c.offsetTop&&0<this.idef.offsetTop&&(c.offsetTop=this.idef.offsetTop),l="","undefined"!=typeof c.offsetLeft&&(l+=" padding-left:"+c.offsetLeft+"px!important;"),"undefined"!=typeof c.offsetTop&&(l+=" padding-top:"+
c.offsetTop+"px!important;"),m.style.cssText+=l);"block"==a&&isNaN(c.blockOffset)&&(c.blockOffset=this.idef.blockOffset);if("list"==a)return"undefined"==typeof m._ofsNested&&(m._ofsNested=this.idef_const.offsetNested),null!=e&&(m._sId=e),a=this.items[a].render(m),this.itemPull[this.idPrefix+b]._listObj||(this.itemPull[this.idPrefix+b]._listObj=[]),this.itemPull[this.idPrefix+b]._list||(this.itemPull[this.idPrefix+b]._list=[]),this.itemPull[this.idPrefix+b]._listBase||(this.itemPull[this.idPrefix+
b]._listBase=[]),this.itemPull[this.idPrefix+b]._listObj.push(a[0]),this.itemPull[this.idPrefix+b]._list.push(a[1]),this.itemPull[this.idPrefix+b]._listBase.push(m),a[1].checkEvent=function(a){return d.checkEvent(a)},a[1].callEvent=function(a,b){return d.callEvent(a,b)},a[1].getForm=function(){return d.getForm()},a[1]._initObj(this._mergeSettings(c)),m._inBlcok&&(m.className+=" in_block"),a[1];if("newcolumn"==a)this._prepare(c.offset);else{"label"==a&&0==this._ic++&&(c._isTopmost=!0);c.position=this.apos_css[c.position&&
this.apos_css[c.position]?c.position:this.idef.position];m.className=c.position+("string"==typeof c.className?" "+c.className:"");c.labelWidth||(c.labelWidth=this.idef.labelWidth);c.labelHeight||(c.labelHeight=this.idef.labelHeight);"undefined"!=typeof c.wrap&&(c.wrap=this._s2b(c.wrap));c.labelAlign=this.align_css[c.labelAlign]?this.align_css[c.labelAlign]:this.align_css[this.idef.labelAlign];c.inputWidth=c.width?c.width:c.inputWidth?c.inputWidth:this.idef.inputWidth;c.inputHeight||(c.inputHeight=
this.idef.inputHeight);"undefined"!=typeof c.note&&(null!=c.note.length&&null!=c.note[0]&&(c.note=c.note[0]),"undefined"==typeof c.note.width&&(c.note.width=this.idef.noteWidth),"auto"==c.note.width&&(c.note.width=c.inputWidth));m.checkEvent=function(a){return d.checkEvent(a)};m.callEvent=function(a,b){return d.callEvent(a,b)};m.getForm=function(){return d.getForm()};m._autoCheck=function(a){d._autoCheck(a)};"string"==typeof c.readonly&&(c.readonly=this._s2b(c.readonly));"string"==typeof c.autoStart&&
(c.autoStart=this._s2b(c.autoStart));"string"==typeof c.autoRemove&&(c.autoRemove=this._s2b(c.autoRemove));"string"==typeof c.titleScreen&&(c.titleScreen=this._s2b(c.titleScreen));"string"==typeof c.info&&(c.info=this._s2b(c.info));"string"==typeof c.hidden&&(c.hidden=this._s2b(c.hidden));"string"==typeof c.checked&&(c.checked=this._s2b(c.checked));if("undefined"!=typeof c.userdata)for(s in c.userdata)this.getForm().setUserData(b,s,c.userdata[s]);c.validate&&(m._validate=!typeof("undefined"!=c.validate)||
"function"!=typeof c.validate&&"function"!=typeof window[c.validate]?String(c.validate).split(this.separator):[c.validate]);"undefined"!=typeof c.required&&("string"==typeof c.required&&(c.required=this._s2b(c.required)),m._required=!0==c.required);if(m._required){m._validate||(m._validate=[]);e=!1;for(l=0;l<m._validate.length;l++)e=e||"NotEmpty"==m._validate[l];e||m._validate.push("NotEmpty")}m._ll=c.position==this.apos_css["label-left"]||c.position==this.apos_css["label-top"];this.objPull[this.idPrefix+
b]=this.items[a].render(m,c);this.itemPull[this.idPrefix+b]=m}};this._initObj=function(a){this._prepare();for(var b=0;b<a.length;b++)if("undefined"!=typeof a[b]&&"settings"==a[b].type)for(var c in a[b])this.idef[c]=a[b][c];for(b=0;b<a.length;b++)this._prepareItem(a[b]);this._autoCheck()};this._prepareItem=function(a,b){var c=null!=a&&null!=a.type?a.type:"";if(this.items[c]){a.name||(a.name=this._genStr(12));var d=a.name;if(null!=this.objPull[this.idPrefix+d]||"radio"==c)d=this._genStr(12);a.label=
a.label||"";a.value=a.value;a.checked=this._s2b(a.checked);a.disabled=this._s2b(a.disabled);a.name=a.name||this._genStr(12);a.options=a.options||[];a.rows=a.rows||"none";a.uid=this._genStr(12);this._addItem(c,d,a,null,null,b);!1===this._parentEnabled&&this._disableItem(d);for(c=0;c<a.options.length;c++)if(null!=a.options[c].list){a.options[c].value||(a.options[c].value=this._genStr());var e=this._addItem("list",d,a.options[c].list,a.options[c].value,null);e._subSelect=!0;e._subSelectId=a.options[c].value}null!=
a.list&&(a.listParent||(a.listParent=a.name),this._addItem("list",d,a.list,null,a.listParent))}};this._s2b=function(a){return"true"==a||"1"==a||"yes"==a||!0==a?!0:!1};this._xmlSubItems={item:"list",option:"options",note:"note",userdata:"_userdata"};this._xmlToObject=function(a,b){for(var c=b?[]:{},d=0;d<a.childNodes.length;d++)if("undefined"!=typeof a.childNodes[d].tagName){var e=a.childNodes[d].tagName;if(null!=this._xmlSubItems[e]){e=this._xmlSubItems[e];"undefined"==typeof c[e]&&(c[e]=[]);for(var m=
{},n=0;n<a.childNodes[d].attributes.length;n++)m[a.childNodes[d].attributes[n].name]=a.childNodes[d].attributes[n].value;"note"==e&&(m.text=a.childNodes[d].firstChild.nodeValue);"_userdata"==e&&(m.value=a.childNodes[d].firstChild.nodeValue);var s=this._xmlToObject(a.childNodes[d]),u;for(u in s)if("_userdata"==u)for(m.userdata||(m.userdata={}),n=0;n<s[u].length;n++)m.userdata[s[u][n].name]=s[u][n].value;else m[u]=s[u];b?c.push(m):c[e].push(m)}}return c};this._xmlParser=function(){if("json"==d._loadType)eval("var formJSONData="+
this.xmlDoc.responseText),"object"==typeof formJSONData&&null!=formJSONData&&d._initObj(formJSONData);else{var a=d._xmlToObject(this.getXMLTopNode("items"),!0);d._initObj(a)}d.cont&&d.cont.cmp&&"form"==d.cont.cmp&&d.setSizes();d.callEvent("onXLE",[]);"function"==typeof d._doOnLoad&&d._doOnLoad()};this._doOnLoad=null;this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this.loadStruct=function(a,b,c){this._loadType="xml";if("string"==typeof b){if("json"==b.toLowerCase()&&(this._loadType=
"json","string"!=typeof a)){this._initObj(a);return}this._doOnLoad=c||null}else this._doOnLoad=b||null;this.callEvent("onXLS",[]);this._xmlLoader.loadXML(a)};this.loadStructString=function(a,b){this._doOnLoad=b||null;this._xmlLoader.loadXMLString(a)};this._autoCheck=function(a){!0===this._locked?a=!1:"undefined"==typeof a&&(a=!0);for(var b in this.itemPull){var c=a&&!0!==this.itemPull[b]._udis;this[c?"_enableItem":"_disableItem"](this.itemPull[b]._idd);null!=this.getForm()._idIndex[this.itemPull[b]._idd]&&
(this.getForm()._idIndex[this.itemPull[b]._idd].enabled=c);c=c&&("boolean"==typeof this.itemPull[b]._checked?this.itemPull[b]._checked:!0);if(this.itemPull[b]._list)for(var d=0;d<this.itemPull[b]._list.length;d++){var e=!0;if(!0==this.itemPull[b]._list[d]._subSelect){var e=!1,m=this.getItemValue(this.itemPull[b]._idd);"object"==typeof m&&"number"==typeof m.length||(m=[m]);for(var n=0;n<m.length;n++)e=m[n]==this.itemPull[b]._list[d]._subSelectId||e;this.itemPull[b]._listObj[d][e?"show":"hide"](this.itemPull[b]._listBase[d])}this.itemPull[b]._list[d]._autoCheck(c&&
e)}}};this.doWithItem=function(a,b,c,d,e,m){if("object"==typeof a){var n=a[0],s=a[1],u=null,v;for(v in this.itemPull){if((this.itemPull[v]._value==s||null===s)&&this.itemPull[v]._group==n)return this.objPull[v][b](this.itemPull[v],c,d,e,m);if(null!=this.itemPull[v]._list&&!u)for(var w=0;w<this.itemPull[v]._list.length;w++)u=this.itemPull[v]._list[w].doWithItem(a,b,c,d,e)}if(null!=u)return u;if("getType"==b)return this.doWithItem(a[0],"getType")}else{if(this.itemPull[this.idPrefix+a])return this.objPull[this.idPrefix+
a][b](this.itemPull[this.idPrefix+a],c,d,e,m);u=null;for(v in this.itemPull)if(this.itemPull[v]._list&&!u)for(w=0;w<this.itemPull[v]._list.length;w++)null==u&&(u=this.itemPull[v]._list[w].doWithItem(a,b,c,d,e,m));return u}};this._removeItem=function(a,b){null!=b?a=this.doWithItem([a,b],"destruct"):this.doWithItem(a,"destruct");this._clearItemData(a)};this._clearItemData=function(a){if(this.itemPull[this.idPrefix+a]){a=this.idPrefix+a;try{this.objPull[a]=null,this.itemPull[a]=null,delete this.objPull[a],
delete this.itemPull[a]}catch(b){}}else for(var c in this.itemPull)if(this.itemPull[c]._list)for(var d=0;d<this.itemPull[c]._list.length;d++)this.itemPull[c]._list[d]._clearItemData(a)};this.isItem=function(a,b){null!=b&&(a=[a,b]);return this.doWithItem(a,"isExist")};this.getItemType=function(a,b){a=[a,b||null];return this.doWithItem(a,"getType")};this.getItemsList=function(){var a=[],b=[],c;for(c in this.itemPull){var d=null,d=this.itemPull[c]._group?this.itemPull[c]._group:c.replace(this.idPrefix,
"");!0!=b[d]&&a.push(d);b[d]=!0}return a};this.forEachItem=function(a){for(var b in this.objPull)if("radio"==this.objPull[b].t?a(this.itemPull[b]._group,this.itemPull[b]._value):a(String(b).replace(this.idPrefix,"")),this.itemPull[b]._list)for(var c=0;c<this.itemPull[b]._list.length;c++)this.itemPull[b]._list[c].forEachItem(a)};this.setItemLabel=function(a,b,c){null!=c?a=[a,b]:c=b;this.doWithItem(a,"setText",c)};this.getItemLabel=function(a,b){null!=b&&(a=[a,b]);return this.doWithItem(a,"getText")};
this.setItemText=this.setItemLabel;this.getItemText=this.getItemLabel;this._enableItem=function(a){this.doWithItem(a,"enable")};this._disableItem=function(a){this.doWithItem(a,"disable")};this._isItemEnabled=function(a){return this.doWithItem(a,"isEnabled")};this.checkItem=function(a,b){null!=b&&(a=[a,b]);this.doWithItem(a,"check");this._autoCheck()};this.uncheckItem=function(a,b){null!=b&&(a=[a,b]);this.doWithItem(a,"unCheck");this._autoCheck()};this.isItemChecked=function(a,b){null!=b&&(a=[a,b]);
return this.doWithItem(a,"isChecked")};this.getCheckedValue=function(a){return this.doWithItem([a,null],"getChecked")};this._getRGroup=function(a,b){for(var c in this.itemPull){if(this.itemPull[c]._group==a&&(null==b||this.itemPull[c]._value==b))return this.itemPull[c]._idd;if(null!=this.itemPull[c]._list)for(var d=0;d<this.itemPull[c]._list.length;d++){var e=this.itemPull[c]._list[d]._getRGroup(a,b);if(null!=e)return e}}return null};this.setItemValue=function(a,b){return"radio"==this.getItemType(a)?
(null!=this._getRGroup(a,b)?this.checkItem(a,b):this.uncheckItem(a,this.getCheckedValue(a)),null):this.doWithItem(a,"setValue",b)};this.getItemValue=function(a,b){return"radio"==this.getItemType(a)?this.getCheckedValue(a):this.doWithItem(a,"getValue",b)};this.updateValues=function(){this._updateValues()};this.showItem=function(a,b){null!=b&&(a=[a,b]);this.doWithItem(a,"show")};this.hideItem=function(a,b){null!=b&&(a=[a,b]);this.doWithItem(a,"hide")};this.isItemHidden=function(a,b){null!=b&&(a=[a,
b]);return this.doWithItem(a,"isHidden")};this.getOptions=function(a){return this.doWithItem(a,"getOptions")};this.setItemWidth=function(a,b){this.doWithItem(a,"setWidth",b)};this.getItemWidth=function(a){return this.doWithItem(a,"getWidth")};this.setItemHeight=function(a,b){this.doWithItem(a,"setHeight",b)};this.setItemFocus=function(a,b){null!=b&&(a=[a,b]);this.doWithItem(a,"setFocus")};this._updateValues=function(){for(var a in this.itemPull)if(this.objPull[a]&&"function"==typeof this.objPull[a].updateValue&&
this.objPull[a].updateValue(this.itemPull[a]),this.itemPull[a]._list)for(var b=0;b<this.itemPull[a]._list.length;b++)this.itemPull[a]._list[b]._updateValues()};this._getItemByName=function(a){for(var b in this.itemPull){if(this.itemPull[b]._idd==a)return this.itemPull[b];if(null!=this.itemPull[b]._list)for(var c=0;c<this.itemPull[b]._list.length;c++){var d=this.itemPull[b]._list[c]._getItemByName(a);if(null!=d)return d}}return null};this._resetValidateCss=function(a){a.className=a.className.replace(a._vcss,
"");a._vcss=null};this.setValidateCss=function(a,b,c){if(a=this["radio"==this.getItemType(a)?"_getRGroup":"_getItemByName"](a))null!=a._vcss&&this._resetValidateCss(a),a._vcss="string"==typeof c?c:"validate_"+(!0===b?"ok":"error"),a.className+=" "+a._vcss};this.resetValidateCss=function(){for(var a in this.itemPull)if(null!=this.itemPull[a]._vcss&&this._resetValidateCss(this.itemPull[a]),null!=this.itemPull[a]._list)for(var b=0;b<this.itemPull[a]._list.length;b++)this.itemPull[a]._list[b].resetValidateCss()};
this.validate=function(){if(!1!=this.callEvent("onBeforeValidate",[])){var a=!0;this.forEachItem(function(b,c){"undefined"!=typeof c&&(b=[b,c]);a=d.doWithItem(b,"_validate")&&a});this.callEvent("onAfterValidate",[a]);return a}};this.validateItem=function(a,b){"undefined"!=typeof b&&(a=[a,b]);return this.doWithItem(a,"_validate")};this.enableLiveValidation=function(a){this.live_validate=!0==a};this.setReadonly=function(a,b){this.doWithItem(a,"setReadonly",b)};this.isReadonly=function(a){return this.doWithItem(a,
"isReadonly")};this.getFirstActive=function(a){for(var b=0;b<this._indexId.length;b++){var c=!0;if(!0==a){var d=this.getItemType(this._indexId[b]);dhtmlXForm.prototype.items[d].setFocus||(c=!1)}if(c&&this._idIndex[this._indexId[b]].enabled)return this._indexId[b]}return null};this.setFocusOnFirstActive=function(){var a=this.getFirstActive(!0);null!=a&&this.setItemFocus(a)};this.enableItem=function(a,b){null!=b&&(a=[a,b]);this.doWithItem(a,"userEnable");this._autoCheck()};this.disableItem=function(a,
b){null!=b&&(a=[a,b]);this.doWithItem(a,"userDisable");this._autoCheck()};this.isItemEnabled=function(a,b){null!=b&&(a=[a,b]);return this.doWithItem(a,"isUserEnabled")};this.clear=function(){var a={};this.formId=(new Date).valueOf();this.resetDataProcessor("inserted");for(var b in this.itemPull){var c=this.itemPull[b]._idd;"ch"==this.itemPull[b]._type&&this.uncheckItem(c);this.itemPull[b]._type in{ta:1,editor:1,calendar:1,pw:1,hd:1}&&this.setItemValue(c,"");"combo"==this.itemPull[b]._type&&(this.itemPull[b]._apiChange=
!0,this.getCombo(c).selectOption(0),this.itemPull[b]._apiChange=!1);if("se"==this.itemPull[b]._type){var d=this.getOptions(c);0<d.length&&(d[0].selected=!0)}"ra"==this.itemPull[b]._type&&(d=this.itemPull[b]._group,a[d]||(this.checkItem(d,this.doWithItem(c,"_getFirstValue")),a[d]=!0));if(this.itemPull[b]._list)for(d=0;d<this.itemPull[b]._list.length;d++)this.itemPull[b]._list[d].clear();if(this["setFormData_"+this.itemPull[b]._type])this["setFormData_"+this.itemPull[b]._type](c,"")}this._parentForm&&
this._autoCheck();this.resetValidateCss()};this.unload=function(){for(var a in this.objPull)this._removeItem(String(a).replace(this.idPrefix,""));this.detachAllEvents();this._ccTm&&window.clearTimeout(this._ccTm);this._formLS=null;this._xmlLoader.destructor();this._subSelectId=this._subSelect=this.idPrefix=this.skin=this.idef=this.b_index=this.align_css=this.apos_css=this.isReadonly=this.setReadonly=this.isLocked=this.unlock=this.lock=this.getItemsList=this.getFormData=this.setFormData=this.getEditor=
this.getCombo=this.getColorPicker=this.getCalendar=this.setSizes=this.setRTL=this.getUserData=this.setUserData=this.getItemWidth=this.getCheckedValue=this.detachAllEvents=this._prepare=this._locked=this._mergeSettings=this._doLock=this._parentForm=this._parentEnabled=this._type=this._rGroup=this.setSkin=this.setItemWidth=this.setItemHeight=this.setFontSize=this.remove=this.loadStructString=this.loadStruct=this._ulToObject=this._ic=this.getOptions=this.isItemChecked=this.uncheckItem=this.checkItem=
this.isItemHidden=this.hideItem=this.showItem=this.getItemValue=this.setItemValue=this.getItemText=this.setItemText=this.getItemLabel=this.setItemLabel=this._getPosition=this._setPosition=this.getItemPosition=this.setItemPosition=this.eventCatcher=this.detachEvent=this.checkEvent=this.callEvent=this.attachEvent=this.removeItem=this.addItem=this.getForm=this.unload=this.getItemType=this.doWithItem=this.clear=this.isItem=this.forEachItem=this._isItemEnabled=this._disableItem=this._enableItem=this._clearItemData=
this._autoCheck=this._initObj=this._genStr=this._removeItem=this._addItem=this.itemPull=this.objPull=this.items=this.loadXMLString=this.loadXML=this._xmlToObject=this._xmlParser=this._xmlLoader=null;for(a=0;a<this.base.length;a++){for(;0<this.base[a].childNodes.length;)this.base[a].removeChild(this.base[a].childNodes[0]);this.base[a].parentNode&&this.base[a].parentNode.removeChild(this.base[a]);this.base[a]=null}this.base=null;this.cont.onkeypress=null;this.cont.className="";this.cont=null};for(var e in this.items)this.items[e].t=
e,"undefined"==typeof this.items[e]._index&&(this.items[e]._index=!0),this.items[e].show||(this.items[e].show=function(a){a.style.display="";if(a._listObj)for(var b=0;b<a._listObj.length;b++)a._listObj[b].show(a._listBase[b])}),this.items[e].hide||(this.items[e].hide=function(a){a.style.display="none";if(a._listObj)for(var b=0;b<a._listObj.length;b++)a._listObj[b].hide(a._listBase[b])}),this.items[e].isHidden||(this.items[e].isHidden=function(a){return"none"==a.style.display}),this.items[e].userEnable||
(this.items[e].userEnable=function(a){a._udis=!1}),this.items[e].userDisable||(this.items[e].userDisable=function(a){a._udis=!0}),this.items[e].isUserEnabled||(this.items[e].isUserEnabled=function(a){return!0!==a._udis}),this.items[e].getType||(this.items[e].getType=function(){return this.t}),this.items[e].isExist||(this.items[e].isExist=function(){return!0}),this.items[e]._validate||(this.items[e]._validate=function(a){if(!a._validate||!a._enabled)return!0;for(var b="ch"==a._type?this.isChecked(a)?
this.getValue(a):0:this.getValue(a),c=!0,d=0;d<a._validate.length;d++){var e="is"+a._validate[d];if(null!=b&&0!=b.length||"isNotEmpty"==e)e=dhtmlxValidation[e],"function"!=typeof e&&"function"==typeof a._validate[d]&&(e=a._validate[d]),"function"!=typeof e&&"function"==typeof window[a._validate[d]]&&(e=window[a._validate[d]]),c=("function"==typeof e?e(b):RegExp(a._validate[d]).test(b))&&c}!1!==a.callEvent("onValidate"+(c?"Success":"Error"),[a._idd,b,c])&&a.getForm().setValidateCss(a._idd,c);return c});
this._locked=!1;this._doLock=function(a){a=!0===a?!0:!1;this._locked!=a&&(this._locked=a,this._autoCheck(!this._locked))};this.lock=function(){this._doLock(!0)};this.unlock=function(){this._doLock(!1)};this.isLocked=function(){return this._locked};this.setNumberFormat=function(a,b,c,d){return this.doWithItem(a,"setNumberFormat",b,c,d)};dhtmlxEventable(this);this.attachEvent("_onButtonClick",function(a,b){this.callEvent("onButtonClick",[a,b])});this._updateBlocks=function(){this.forEachItem(function(a){"block"!=
d.getItemType(a)&&"combo"!=d.getItemType(a)||d.doWithItem(a,"_setCss",d.skin,d.cont.style.fontSize)})};this._isObj=function(a){return null!=a&&"object"==typeof a&&"undefined"==typeof a.length};this._copyObj=function(a){if(this._isObj(a)){var b={},c;for(c in a)b[c]="object"==typeof a[c]&&null!=a[c]?this._copyObj(a[c]):a[c]}else for(b=[],c=0;c<a.length;c++)b[c]="object"==typeof a[c]&&null!=a[c]?this._copyObj(a[c]):a[c];return b};null!=b&&"object"==typeof b&&this._initObj(this._copyObj(b));this._parentForm&&
this._updateBlocks();this._ccActive=!1;this._ccTm=null;return this}dhtmlXForm.prototype.getInput=function(a){return this.doWithItem(a,"getInput")};dhtmlXForm.prototype.getSelect=function(a){return this.doWithItem(a,"getSelect")};dhtmlXForm.prototype.items={};
dhtmlXForm.prototype.items.checkbox={render:function(a,b){a._type="ch";a._enabled=!0;a._checked=!1;a._value="undefined"==typeof b.value?null:String(b.value);a._ro=!0==b.readonly;!1!==b._autoInputWidth&&(b.inputWidth=14);this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","TEXT",!0,!0,"dhxform_textarea");a.childNodes[a._ll?1:0].className+=" dhxform_img_node";var c=document.createElement("DIV");c.className="dhxform_img chbx0";a.appendChild(c);isNaN(b.inputLeft)||(a.childNodes[a._ll?1:0].style.left=parseInt(b.inputLeft)+
"px");isNaN(b.inputTop)||(a.childNodes[a._ll?1:0].style.top=parseInt(b.inputTop)+"px");a.childNodes[a._ll?1:0].appendChild(c);a.childNodes[a._ll?1:0].firstChild.value=String(b.value);a._updateImgNode=function(a,b){var c=a.childNodes[a._ll?1:0].lastChild;c.className=b?c.className.replace(/dhxform_img/gi,"dhxform_actv_c"):c.className.replace(/dhxform_actv_c/gi,"dhxform_img")};a._doOnFocus=function(a){a.getForm().callEvent("onFocus",[a._idd])};a._doOnBlur=function(a){a.getForm().callEvent("onBlur",[a._idd])};
a._doOnKeyUpDown=function(a,b){this.callEvent(a,[this.childNodes[this._ll?0:1].childNodes[0],b,this._idd])};!0==b.checked&&this.check(a);!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);this.doAttachEvents(a);return this},destruct:function(a){a._doOnFocus=a._doOnBlur=a._updateImgNode=null;this.doUnloadNestedLists(a);this.doDestruct(a)},doAddLabel:function(a,b){var c=document.createElement("DIV");c.className="dhxform_label "+b.labelAlign;!0==b.wrap&&(c.style.whiteSpace="normal");a._ll?
a.insertBefore(c,a.firstChild):a.appendChild(c);"undefined"!=typeof b.tooltip&&(c.title=b.tooltip);c.innerHTML="<div class='dhxform_label_nav_link' onfocus='if(this.parentNode.parentNode._updateImgNode)this.parentNode.parentNode._updateImgNode(this.parentNode.parentNode,true);this.parentNode.parentNode._doOnFocus(this.parentNode.parentNode);' onblur='if(this.parentNode.parentNode._updateImgNode)this.parentNode.parentNode._updateImgNode(this.parentNode.parentNode,false);this.parentNode.parentNode._doOnBlur(this.parentNode.parentNode);' onkeypress='var e=event||window.arguments[0];if(e.keyCode==32||e.charCode==32){e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this,\"mousedown\");return false;}' onkeyup='var e=event||window.arguments[0];this.parentNode.parentNode._doOnKeyUpDown(\"onKeyUp\",e);' onkeydown='var e=event||window.arguments[0];this.parentNode.parentNode._doOnKeyUpDown(\"onKeyDown\",e);' "+
(_dhxForm_isIPad?"ontouchstart='var e=event;e.preventDefault();_dhxForm_doClick(this,\"mousedown\");' ":"")+"role='link' tabindex='0'>"+b.label+(b.info?"<span class='dhxform_info'>[?]</span>":"")+(a._required?"<span class='dhxform_item_required'>*</span>":"")+"</div>";isNaN(b.labelWidth)||(c.firstChild.style.width=parseInt(b.labelWidth)+"px");isNaN(b.labelHeight)||(c.firstChild.style.height=parseInt(b.labelHeight)+"px");isNaN(b.labelLeft)||(c.style.left=parseInt(b.labelLeft)+"px");isNaN(b.labelTop)||
(c.style.top=parseInt(b.labelTop)+"px")},doAddInput:function(a,b,c,d,e,f,g){var k=document.createElement("DIV");k.className="dhxform_control";a._ll?a.appendChild(k):a.insertBefore(k,a.firstChild);var h=document.createElement(c);h.className=g;h.name=a._idd;h._idd=a._idd;h.id=b.uid;"string"==typeof d&&(h.type=d);if("INPUT"==c||"TEXTAREA"==c)h.onkeyup=function(b){b=b||event;a.callEvent("onKeyUp",[this,b,this._idd])},h.onkeydown=function(b){b=b||event;a.callEvent("onKeyDown",[this,b,this._idd])};k.appendChild(h);
b.readonly&&this.setReadonly(a,!0);!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);e&&(isNaN(b.inputLeft)||(k.style.left=parseInt(b.inputLeft)+"px"),isNaN(b.inputTop)||(k.style.top=parseInt(b.inputTop)+"px"));c="";d=!1;f&&(isNaN(b.inputWidth)||(c+="width:"+parseInt(b.inputWidth)+"px;",d=!0),isNaN(b.inputHeight)||(c+="height:"+parseInt(b.inputHeight)+"px;"));"string"==typeof b.style&&(c+=b.style);h.style.cssText=c;b.maxLength&&h.setAttribute("maxLength",b.maxLength);b.connector&&h.setAttribute("connector",
b.connector);d&&(f=parseInt(h.style.width),c=_isFF||_isChrome||_isIE?h.clientWidth:h.offsetWidth,c>f&&(h.style.width=f+(f-c)+"px"));"object"==typeof b.note&&(f=document.createElement("DIV"),f.className="dhxform_note",f.style.width=(isNaN(b.note.width)?h.offsetWidth:parseInt(b.note.width))+"px",f._w=b.note.width,f.innerHTML=b.note.text,k.appendChild(f),f=null)},doUnloadNestedLists:function(a){if(a._list){for(var b=0;b<a._list.length;b++)a._list[b].unload(),a._list[b]=null,a._listObj[b]=null,a._listBase[b].parentNode.removeChild(a._listBase[b]),
a._listBase[b]=null;a._list=null;a._listObj=null;a._listBase=null}},doDestruct:function(a){a.callEvent=null;a.checkEvent=null;a.getForm=null;a._autoCheck=null;a._checked=null;a._enabled=null;a._idd=null;a._type=null;a._value=null;a._group=null;a.onselectstart=null;a.childNodes[a._ll?1:0].onmousedown=null;a.childNodes[a._ll?1:0].ontouchstart=null;a.childNodes[a._ll?0:1].onmousedown=null;a.childNodes[a._ll?0:1].ontouchstart=null;a.childNodes[a._ll?0:1].childNodes[0].onfocus=null;a.childNodes[a._ll?
0:1].childNodes[0].onblur=null;a.childNodes[a._ll?0:1].childNodes[0].onkeypress=null;a.childNodes[a._ll?0:1].childNodes[0].onkeyup=null;a.childNodes[a._ll?0:1].childNodes[0].onkeydown=null;a.childNodes[a._ll?0:1].childNodes[0].onmousedown=null;a.childNodes[a._ll?0:1].childNodes[0].ontouchstart=null;for(a.childNodes[a._ll?0:1].removeChild(a.childNodes[a._ll?0:1].childNodes[0]);0<a.childNodes.length;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a)},doAttachEvents:function(a){var b=this;a.childNodes[a._ll?
1:0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;a.preventDefault&&a.preventDefault();var d=a.target||a.srcElement;if(!this.parentNode._enabled||this.parentNode._ro||"undefined"!=typeof d.className&&"dhxform_note"==d.className)return a.cancelBubble=!0,a.returnValue=!1;b.doClick(this.parentNode)};a.childNodes[a._ll?0:1].childNodes[0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;a.preventDefault&&a.preventDefault();if(!this.parentNode.parentNode._enabled)return a.cancelBubble=
!0,a.returnValue=!1;var d=a.target||a.srcElement;if("undefined"!=typeof d.className&&"dhxform_info"==d.className)return this.parentNode.parentNode.callEvent("onInfo",[this.parentNode.parentNode._idd]),a.cancelBubble=!0,a.returnValue=!1;b.doClick(this.parentNode.parentNode)}},doClick:function(a){a.childNodes[a._ll?0:1].childNodes[0].focus();!a._enabled||a._ro||a.checkEvent("onBeforeChange")&&!0!==a.callEvent("onBeforeChange",[a._idd,a._value,a._checked])||(this.setChecked(a,!a._checked),a._autoCheck(),
a.callEvent("onChange",[a._idd,a._value,a._checked]))},doCheckValue:function(a){a._checked&&a._enabled?a.childNodes[a._ll?1:0].firstChild.setAttribute("name",String(a._idd)):a.childNodes[a._ll?1:0].firstChild.removeAttribute("name")},setChecked:function(a,b){a._checked=!0===b?!0:!1;a.childNodes[a._ll?1:0].lastChild.className=a.childNodes[a._ll?1:0].lastChild.className.replace(/chbx[0-1]{1}/gi,"")+(a._checked?" chbx1":" chbx0");this.doCheckValue(a)},check:function(a){this.setChecked(a,!0)},unCheck:function(a){this.setChecked(a,
!1)},isChecked:function(a){return a._checked},enable:function(a){0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a._enabled=!0;a.childNodes[a._ll?0:1].childNodes[0].tabIndex=0;a.childNodes[a._ll?0:1].childNodes[0].removeAttribute("disabled");this.doCheckValue(a)},disable:function(a){0>String(a.className).search("disabled")&&(a.className+=" disabled");a._enabled=!1;a.childNodes[a._ll?0:1].childNodes[0].tabIndex=-1;a.childNodes[a._ll?0:1].childNodes[0].setAttribute("disabled",
"true");this.doCheckValue(a)},isEnabled:function(a){return a._enabled},setText:function(a,b){a.childNodes[a._ll?0:1].childNodes[0].innerHTML=b},getText:function(a){return a.childNodes[a._ll?0:1].childNodes[0].innerHTML.replace(/<span class=\"dhxform_item_required\">[^<]*<\/span>/g,"")},setValue:function(a,b){this.setChecked(a,!0===b||1==parseInt(b)||"true"==b||a._value===b)},getValue:function(a,b){return"realvalue"==b?a._value:"undefined"==typeof a._value||null==a._value?a._checked?1:0:a._value},
setReadonly:function(a,b){a._ro=!0===b},isReadonly:function(a){return a._ro},setFocus:function(a){a.childNodes[a._ll?0:1].childNodes[0].focus()}};
dhtmlXForm.prototype.items.radio={input:{},r:{},firstValue:{},render:function(a,b,c){a._type="ra";a._enabled=!0;a._checked=!1;a._group=b.name;a._value=b.value;a._uid=c;a._ro=!0==b.readonly;a._rName=a._rId+a._group;this.r[a._idd]=a;b.inputWidth=14;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","TEXT",!0,!0,"dhxform_textarea");a.childNodes[a._ll?1:0].className+=" dhxform_img_node";c=document.createElement("DIV");c.className="dhxform_img rdbt0";a.appendChild(c);isNaN(b.inputLeft)||(a.childNodes[a._ll?
1:0].style.left=parseInt(b.inputLeft)+"px");isNaN(b.inputTop)||(a.childNodes[a._ll?1:0].style.top=parseInt(b.inputTop)+"px");a.childNodes[a._ll?1:0].appendChild(c);a.childNodes[a._ll?1:0].firstChild.value=String(b.value);a._updateImgNode=function(a,b){var c=a.childNodes[a._ll?1:0].lastChild;c.className=b?c.className.replace(/dhxform_img/gi,"dhxform_actv_r"):c.className.replace(/dhxform_actv_r/gi,"dhxform_img")};a._doOnFocus=function(a){a.getForm().callEvent("onFocus",[a._group,a._value])};a._doOnBlur=
function(a){a.getForm().callEvent("onBlur",[a._group,a._value])};a._doOnKeyUpDown=function(a,b){this.callEvent(a,[this.childNodes[this._ll?0:1].childNodes[0],b,this._group,this._value])};null==this.input[a._rName]&&(c=document.createElement("INPUT"),c.type="HIDDEN",c.name=b.name,c.firstValue=a._value,a.appendChild(c),this.input[a._rName]=c);this.firstValue[a._rName]||(this.firstValue[a._rName]=b.value);!0==b.checked&&this.check(a);!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);this.doAttachEvents(a);
return this},destruct:function(a){if(a.lastChild==this.input[a._rName]){var b=!1,c;for(c in this.r)!b&&this.r[c]._group==a._group&&this.r[c]._idd!=a._idd&&(this.r[c].appendChild(this.input[a._rName]),b=!0);b||(this.input[a._rName].parentNode.removeChild(this.input[a._rName]),this.input[a._rName]=null,this.firstValue[a._rName]=null)}b=a._idd;a._doOnFocus=a._doOnBlur=a._updateImgNode=null;this.doUnloadNestedLists(a);this.doDestruct(a);return b},doClick:function(a){a.childNodes[a._ll?0:1].childNodes[0].focus();
if(a._enabled&&!a._checked&&!a._ro){var b=[a._group,a._value,!0];a.checkEvent("onBeforeChange")&&!0!==a.callEvent("onBeforeChange",b)||(this.setChecked(a,!0),a.getForm()._autoCheck(),a.callEvent("onChange",b))}},doCheckValue:function(a){var b=null,c;for(c in this.r)this.r[c]._checked&&this.r[c]._enabled&&this.r[c]._group==a._group&&this.r[c]._rId==a._rId&&(b=this.r[c]._value);null!=b?(this.input[a._rName].setAttribute("name",String(a._group)),this.input[a._rName].setAttribute("value",b),this.input[a._rName]._value=
b):(this.input[a._rName].removeAttribute("name"),this.input[a._rName].removeAttribute("value"),this.input[a._rName]._value=null)},setChecked:function(a,b){b=!0===b;for(var c in this.r)if(this.r[c]._group==a._group&&this.r[c]._rId==a._rId){var d=!1;this.r[c]._idd==a._idd?this.r[c]._checked!=b&&(this.r[c]._checked=b,d=!0):this.r[c]._checked&&(this.r[c]._checked=!1,d=!0);d&&(d=this.r[c].childNodes[this.r[c]._ll?1:0].childNodes[1],d.className=d.className.replace(/rdbt[0-1]{1}/gi,"")+(this.r[c]._checked?
" rdbt1":" rdbt0"))}this.doCheckValue(a)},getChecked:function(a){return this.input[a._rName]._value},_getFirstValue:function(a){return this.firstValue[a._rName]},_getId:function(a){return a._idd},setValue:function(){}};(function(){for(var a in{doAddLabel:1,doAddInput:1,doDestruct:1,doUnloadNestedLists:1,doAttachEvents:1,check:1,unCheck:1,isChecked:1,enable:1,disable:1,isEnabled:1,setText:1,getText:1,getValue:1,setReadonly:1,isReadonly:1,setFocus:1})dhtmlXForm.prototype.items.radio[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.select={render:function(a,b){a._type="se";a._enabled=!0;a._value=null;a._newValue=null;(_isFF||_isIE)&&"number"==typeof b.inputWidth&&(b.inputWidth+=a._inpWidthFix||2);this.doAddLabel(a,b);this.doAddInput(a,b,"SELECT",null,!0,!0,"dhxform_select");this.doAttachEvents(a);this.doLoadOpts(a,b);b.connector?this.doLoadOptsConnector(a,b.connector):"undefined"!=b.value&&this.setValue(a,b.value);return this},destruct:function(a){this.doUnloadNestedLists(a);a.callEvent=null;a.checkEvent=
null;a.getForm=null;a._autoCheck=null;a._enabled=null;a._idd=null;a._type=null;a._value=null;a._newValue=null;a.onselectstart=null;a.childNodes[a._ll?1:0].childNodes[0].onclick=null;a.childNodes[a._ll?1:0].childNodes[0].onkeydown=null;a.childNodes[a._ll?1:0].childNodes[0].onchange=null;a.childNodes[a._ll?1:0].childNodes[0].onfocus=null;a.childNodes[a._ll?1:0].childNodes[0].onblur=null;a.childNodes[a._ll?1:0].childNodes[0].onkeyup=null;for(a.childNodes[a._ll?1:0].removeChild(a.childNodes[a._ll?1:0].childNodes[0]);0<
a.childNodes.length;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a)},doAddLabel:function(a,b){var c=document.createElement("DIV");c.className="dhxform_label "+b.labelAlign;c.innerHTML="<label for='"+b.uid+"'>"+b.label+(b.info?"<span class='dhxform_info'>[?]</span>":"")+(a._required?"<span class='dhxform_item_required'>*</span>":"")+"</label>";!0==b.wrap&&(c.style.whiteSpace="normal");"undefined"!=typeof b.tooltip&&(c.title=b.tooltip);a.appendChild(c);if("undefined"==typeof b.label||null==
b.label||0==b.label.length)c.style.display="none";isNaN(b.labelWidth)||(c.style.width=parseInt(b.labelWidth)+"px");isNaN(b.labelHeight)||(c.style.height=parseInt(b.labelHeight)+"px");isNaN(b.labelLeft)||(c.style.left=parseInt(b.labelLeft)+"px");isNaN(b.labelTop)||(c.style.top=parseInt(b.labelTop)+"px");b.info&&(c.onclick=function(a){a=a||event;var b=a.target||a.srcElement;if("undefined"!=typeof b.className&&"dhxform_info"==b.className)return this.parentNode.callEvent("onInfo",[this.parentNode._idd]),
a.cancelBubble=!0,a.returnValue=!1})},doAttachEvents:function(a){var b=a.childNodes[a._ll?1:0].childNodes[0],c=this;b.onclick=function(){c.doOnChange(this);c.doValidate(this.parentNode.parentNode)};b.onkeydown=function(a){a=a||event;c.doOnChange(this);c.doValidate(this.parentNode.parentNode);this.parentNode.parentNode.callEvent("onKeyDown",[this,a,this.parentNode.parentNode._idd])};b.onchange=function(){c.doOnChange(this);c.doValidate(this.parentNode.parentNode)};b.onkeyup=function(a){a=a||event;
this.parentNode.parentNode.callEvent("onKeyUp",[this,a,this.parentNode.parentNode._idd])};b=null;this.doAttachChangeLS(a)},doAttachChangeLS:function(a){a=a.childNodes[a._ll?1:0].childNodes[0];a.onfocus=function(){var a=this.parentNode.parentNode;a.getForm()._ccActivate(a._idd,this,a.getForm().getItemValue(a._idd,!0));a.getForm().callEvent("onFocus",[a._idd])};a.onblur=function(){var a=this.parentNode.parentNode;a.getForm()._ccDeactivate(a._idd);a.getForm().callEvent("onBlur",[a._idd])};a=null},doValidate:function(a){a.getForm().live_validate&&
this._validate(a)},doLoadOpts:function(a,b,c){var d=a.childNodes[a._ll?1:0].childNodes[0];b=b.options;for(var e=!1,f=0;f<b.length;f++){var g=b[f].text||b[f].label;g&&"undefined"!=typeof g||(g="");g=new Option(g,b[f].value);"string"==typeof b[f].img_src&&g.setAttribute("img_src",b[f].img_src);d.options.add(g);if(!0==b[f].selected||"true"==b[f].selected)g.selected=!0,a._value=b[f].value,e=!0}!e&&0<=d.selectedIndex&&(a._value=d.options[d.selectedIndex].value);!0===c&&a.callEvent("onOptionsLoaded",[a._idd]);
this._checkNoteWidth(a)},doLoadOptsConnector:function(a,b){var c=this;a._connector_working=!0;dhtmlxAjax.get(b,function(b){b=b.doXPath("//item");for(var e=[],f=0;f<b.length;f++)e[f]={label:b[f].getAttribute("label"),value:b[f].getAttribute("value"),selected:null!=b[f].getAttribute("selected")};c.doLoadOpts(a,{options:e},!0);a._connector_working=!1;null!=a._connector_value&&(c.setValue(a,a._connector_value),a._connector_value=null);thet=a=null})},doOnChange:function(a){var b=a.parentNode.parentNode;
b._newValue=0<=a.selectedIndex?a.options[a.selectedIndex].value:null;if(b._newValue!=b._value){if(b.checkEvent("onBeforeChange")&&!0!==b.callEvent("onBeforeChange",[b._idd,b._value,b._newValue])){for(var c=0;c<a.options.length;c++)a.options[c].value==b._value&&(a.options[c].selected=!0);return}b._value=b._newValue;b.callEvent("onChange",[b._idd,b._value])}b._autoCheck()},setText:function(a,b){b||(b="");a.childNodes[a._ll?0:1].childNodes[0].innerHTML=b;a.childNodes[a._ll?0:1].style.display=0==b.length||
null==b?"none":""},getText:function(a){return a.childNodes[a._ll?0:1].childNodes[0].innerHTML.replace(/<span class=\"dhxform_item_required\">[^<]*<\/span>/g,"")},enable:function(a){0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a._enabled=!0;a.childNodes[a._ll?1:0].childNodes[0].removeAttribute("disabled")},disable:function(a){0>String(a.className).search("disabled")&&(a.className+=" disabled");a._enabled=!1;a.childNodes[a._ll?1:0].childNodes[0].setAttribute("disabled",
!0)},getOptions:function(a){return a.childNodes[a._ll?1:0].childNodes[0].options},setValue:function(a,b){if(a._connector_working)a._connector_value=b;else{for(var c=this.getOptions(a),d=0;d<c.length;d++)c[d].value==b&&(c[d].selected=!0,a._value=c[d].value);null!=a._list&&0<a._list.length&&a.getForm()._autoCheck();a.getForm()._ccReload(a._idd,a._value)}},getValue:function(a){var b=-1;a=this.getOptions(a);for(var c=0;c<a.length;c++)a[c].selected&&(b=a[c].value);return b},setWidth:function(a,b){a.childNodes[a._ll?
1:0].childNodes[0].style.width=b+"px"},getSelect:function(a){return a.childNodes[a._ll?1:0].childNodes[0]},setFocus:function(a){a.childNodes[a._ll?1:0].childNodes[0].focus()},_checkNoteWidth:function(a){var b;null!=a.childNodes[a._ll?1:0].childNodes[1]&&(b=a.childNodes[a._ll?1:0].childNodes[1],null!=b.className&&0<=b.className.search(/dhxform_note/gi)&&"auto"==b._w)&&(b.style.width=a.childNodes[a._ll?1:0].childNodes[0].offsetWidth+"px")}};
(function(){for(var a in{doAddInput:1,doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.select[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.multiselect={doLoadOpts:function(a,b,c){var d=a.childNodes[a._ll?1:0].childNodes[0];d.multiple=!0;isNaN(b.size)||(d.size=Number(b.size));a._value=[];a._newValue=[];b=b.options;for(var e=0;e<b.length;e++){var f=new Option(b[e].text||b[e].label,b[e].value);d.options.add(f);if(!0==b[e].selected||"true"==b[e].selected)f.selected=!0,a._value.push(b[e].value)}!0===c&&a.callEvent("onOptionsLoaded",[a._idd]);this._checkNoteWidth(a)},doAttachEvents:function(a){a=a.childNodes[a._ll?
1:0].childNodes[0];var b=this;a.onfocus=function(){b.doOnChange(this);var a=this.parentNode.parentNode;a.getForm().callEvent("onFocus",[a._idd])};a.onblur=function(){b.doOnChange(this);var a=this.parentNode.parentNode;a.getForm().callEvent("onBlur",[a._idd])};a.onclick=function(){b.doOnChange(this);this.parentNode.parentNode._autoCheck()}},doOnChange:function(a){var b=a.parentNode.parentNode;b._newValue=[];for(var c=0;c<a.options.length;c++)a.options[c].selected&&b._newValue.push(a.options[c].value);
if(b._value.sort().toString()!=b._newValue.sort().toString()){if(b.checkEvent("onBeforeChange")&&!0!==b.callEvent("onBeforeChange",[b._idd,b._value,b._newValue])){for(var d={},c=0;c<b._value.length;c++)d[b._value[c]]=!0;for(c=0;c<a.options.length;c++)a.options[c].selected=!0==d[a.options[c].value];return}b._value=[];for(c=0;c<b._newValue.length;c++)b._value.push(b._newValue[c]);b.callEvent("onChange",[b._idd,b._value])}b._autoCheck()},setValue:function(a,b){var c={};"string"==typeof b&&(b=b.split(","));
"object"!=typeof b&&(b=[b]);for(var d=0;d<b.length;d++)c[b[d]]=!0;for(var e=this.getOptions(a),d=0;d<e.length;d++)e[d].selected=!0==c[e[d].value];a._autoCheck()},getValue:function(a){var b=[];a=this.getOptions(a);for(var c=0;c<a.length;c++)a[c].selected&&b.push(a[c].value);return b}};(function(){for(var a in dhtmlXForm.prototype.items.select)dhtmlXForm.prototype.items.multiselect[a]||(dhtmlXForm.prototype.items.multiselect[a]=dhtmlXForm.prototype.items.select[a])})();
dhtmlXForm.prototype.items.input={render:function(a,b){var c=!isNaN(b.rows);a._type="ta";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,c?"TEXTAREA":"INPUT",c?null:"TEXT",!0,!0,"dhxform_textarea");this.doAttachEvents(a);c&&(a.childNodes[a._ll?1:0].childNodes[0].rows=b.rows);if("undefined"!=typeof b.numberFormat){var d=null,e=null;"string"!=typeof b.numberFormat?(c=b.numberFormat[0],d=b.numberFormat[1]||null,e=b.numberFormat[2]||null):(c=b.numberFormat,"string"==typeof b.groupSep&&(d=b.groupSep),
"string"==typeof b.decSep&&(e=b.decSep));this.setNumberFormat(a,c,d,e,!1)}this.setValue(a,b.value);return this},doAttachEvents:function(a){var b=this;if("ta"==a._type||"se"==a._type||"pw"==a._type)a.childNodes[a._ll?1:0].childNodes[0].onfocus=function(){var a=this.parentNode.parentNode;null!=a._df&&(this.value=a._value||"");a.getForm()._ccActivate(a._idd,this,this.value);a.getForm().callEvent("onFocus",[a._idd])};a.childNodes[a._ll?1:0].childNodes[0].onblur=function(){var a=this.parentNode.parentNode;
a.getForm()._ccDeactivate(a._idd);b.updateValue(a,!0);a.getForm().live_validate&&b._validate(a);a.getForm().callEvent("onBlur",[a._idd])}},updateValue:function(a,b){var c=a.childNodes[a._ll?1:0].childNodes[0].value;if(b||null==a._df||c!=this._getFmtValue(a,c))a._value!=c?a.checkEvent("onBeforeChange")&&!0!==a.callEvent("onBeforeChange",[a._idd,a._value,c])?null!=a._df?this.setValue(a,a._value):a.childNodes[a._ll?1:0].childNodes[0].value=a._value:(null!=a._df?this.setValue(a,c):a._value=c,a.callEvent("onChange",
[a._idd,c])):null!=a._df&&this.setValue(a,a._value)},setValue:function(a,b){a._value="undefined"!=typeof b&&null!=b?b:"";var c=String(a._value)||"",d=a.childNodes[a._ll?1:0].childNodes[0];null!=a._df&&"function"==typeof this._getFmtValue&&(c=this._getFmtValue(a,c));d.value!=c&&(d.value=c,a.getForm()._ccReload(a._idd,c))},getValue:function(a){var b=a.getForm();b._formLS&&null!=b._formLS[a._idd]&&this.updateValue(a);return"undefined"!=typeof a._value&&null!=a._value?a._value:""},setReadonly:function(a,
b){a._ro=!0===b;a._ro?a.childNodes[a._ll?1:0].childNodes[0].setAttribute("readOnly","true"):a.childNodes[a._ll?1:0].childNodes[0].removeAttribute("readOnly")},isReadonly:function(a){a._ro||(a._ro=!1);return a._ro},getInput:function(a){return a.childNodes[a._ll?1:0].childNodes[0]},setNumberFormat:function(a,b,c,d,e){"boolean"!=typeof e&&(e=!0);if(""==b)return a._df=null,e&&this.setValue(a,a._value),!0;if("string"==typeof b){b=b.match(/^([^\.\,0-9]*)([0\.\,]*)([^\.\,0-9]*)/);if(null==b||4!=b.length)return!1;
a._df={i_len:!1,i_sep:"string"==typeof c?c:",",d_len:!1,d_sep:"string"==typeof d?d:".",s_bef:"string"==typeof b[1]?b[1]:"",s_aft:"string"==typeof b[3]?b[3]:""};c=b[2].split(".");null!=c[1]&&(a._df.d_len=c[1].length);c=c[0].split(",");1<c.length&&(a._df.i_len=c[c.length-1].length);e&&this.setValue(a,a._value);return!0}},_getFmtValue:function(a,b){var c=b.match(/^(-)?([0-9]{1,})(\.([0-9]{1,}))?$/);if(null!=c&&5==c.length){var d="";null!=c[1]&&(d+=c[1]);d+=a._df.s_bef;if(!1!==a._df.i_len){for(var e=
0,f="",g=c[2].length-1;0<=g;g--)f=""+c[2].charAt(g)+f,++e==a._df.i_len&&0<g&&(f=a._df.i_sep+f,e=0);d+=f}else d+=c[2];if(!1!==a._df.d_len){for(null==c[4]&&(c[4]="");c[4].length<a._df.d_len;)c[4]+="0";eval("var t0 = new RegExp(/\\d{"+a._df.d_len+"}/);");c=c[4].match(t0);null!=c&&(d+=a._df.d_sep+c);t0=null}return d+=a._df.s_aft}return b}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setFocus:1})dhtmlXForm.prototype.items.input[a]=dhtmlXForm.prototype.items.select[a]})();dhtmlXForm.prototype.items.password={render:function(a,b){a._type="pw";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","PASSWORD",!0,!0,"dhxform_textarea");this.doAttachEvents(a);this.setValue(a,b.value);return this}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doAttachEvents:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,setValue:1,getValue:1,updateValue:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.password[a]=dhtmlXForm.prototype.items.input[a]})();
dhtmlXForm.prototype.items.file={render:function(a,b){a._type="fl";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","FILE",!0,!1,"dhxform_textarea");a.childNodes[a._ll?1:0].childNodes[0].onchange=function(){a.callEvent("onChange",[a._idd,this.value])};return this},setValue:function(){},getValue:function(a){return a.childNodes[a._ll?1:0].childNodes[0].value}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1})dhtmlXForm.prototype.items.file[a]=dhtmlXForm.prototype.items.input[a]})();
dhtmlXForm.prototype.items.label={_index:!1,render:function(a,b){a._type="lb";a._enabled=!0;a._checked=!0;var c=document.createElement("DIV");c.className="dhxform_txt_label2"+(b._isTopmost?" topmost":"");c.innerHTML=b.label;a.appendChild(c);!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);isNaN(b.labelWidth)||(c.style.width=parseInt(b.labelWidth)+"px");isNaN(b.labelHeight)||(c.style.height=parseInt(b.labelHeight)+"px");isNaN(b.labelLeft)||(c.style.left=parseInt(b.labelLeft)+"px");isNaN(b.labelTop)||
(c.style.top=parseInt(b.labelTop)+"px");return this},destruct:function(a){this.doUnloadNestedLists(a);a._autoCheck=null;a._enabled=null;a._type=null;a.callEvent=null;a.checkEvent=null;a.getForm=null;a.onselectstart=null;a.parentNode.removeChild(a)},enable:function(a){0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a._enabled=!0},disable:function(a){0>String(a.className).search("disabled")&&(a.className+=" disabled");a._enabled=!1},setText:function(a,
b){a.firstChild.innerHTML=b},getText:function(a){return a.firstChild.innerHTML}};(function(){for(var a in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.label[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.button={render:function(a,b){a._type="bt";a._enabled=!0;a._name=b.name;a.className=String(a.className).replace("item_label_top","item_label_left").replace("item_label_right","item_label_left");if(!isNaN(b.width))var c=Math.max(b.width,10);var d="undefined"!=typeof c;a._doOnKeyUpDown=function(a,b){this.callEvent(a,[this.childNodes[this._ll?0:1].childNodes[0],b,this._idd])};a.innerHTML='<div class="dhxform_btn" role="link" tabindex="0" dir="ltr" '+(d?' style="width:'+c+'px;"':
"")+'onkeypress="var e=event||window.arguments[0];if((e.keyCode==32||e.charCode==32||e.keyCode==13||e.charCode==13)&&!this.parentNode._busy){this.parentNode._busy=true;e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);return false;}" ontouchstart="var e=event;e.preventDefault();if(!this.parentNode._busy){this.parentNode._busy=true;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);}" onfocus="this.parentNode._doOnFocus(this.parentNode);" onblur="_dhxForm_doClick(this.childNodes[0],\'mouseout\');this.parentNode._doOnBlur(this.parentNode);" onkeyup=\'var e=event||window.arguments[0];this.parentNode._doOnKeyUpDown("onKeyUp",e);\' onkeydown=\'var e=event||window.arguments[0];this.parentNode._doOnKeyUpDown("onKeyDown",e);\' ><table cellspacing="0" cellpadding="0" border="0" align="left" style="font-size:inherit; '+
(d?"width:"+c+"px;table-layout:fixed;":"")+'"><tr><td class="btn_l"><div class="btn_l">&nbsp;</div></td><td class="btn_m" '+(d?'style="width:'+(c-10)+'px;"':"")+'><div class="btn_txt'+(d?" btn_txt_fixed_size":"")+'">'+b.value+'</div></td><td class="btn_r"><div class="btn_r">&nbsp;</div></td></tr></table></div>';isNaN(b.inputLeft)||(a.childNodes[0].style.left=parseInt(b.inputLeft)+"px");isNaN(b.inputTop)||(a.childNodes[0].style.top=parseInt(b.inputTop)+"px");!0==b.hidden&&this.hide(a);!0==b.disabled&&
this.userDisable(a);"undefined"!=typeof b.tooltip&&(a.firstChild.title=b.tooltip);a.onselectstart=function(a){a=a||event;a.cancelBubble=!0;return a.returnValue=!1};a.childNodes[0].onselectstart=function(a){a=a||event;a.cancelBubble=!0;return a.returnValue=!1};a.childNodes[0].childNodes[0].onmouseover=function(){this.parentNode.parentNode._enabled&&(this._isOver=!0,this.className="dhxform_btn_over")};a.childNodes[0].childNodes[0].onmouseout=function(){this.parentNode.parentNode._enabled&&(this.className=
"",this._isOver=this._pressed=this._allowClick=!1)};a.childNodes[0].childNodes[0].onmousedown=function(){!this._pressed&&this.parentNode.parentNode._enabled&&(this.className="dhxform_btn_pressed",this._pressed=this._allowClick=!0)};a.childNodes[0].childNodes[0].onmouseup=function(){if(this._pressed){var a=this.parentNode.parentNode;a._enabled&&(a._busy=!1,this.className=this._isOver?"dhxform_btn_over":"",this._pressed&&this._allowClick&&a.callEvent("_onButtonClick",[a._name,a._cmd]),this._pressed=
this._allowClick=!1)}};a._doOnFocus=function(a){a.getForm().callEvent("onFocus",[a._idd])};a._doOnBlur=function(a){a.getForm().callEvent("onBlur",[a._idd])};return this},destruct:function(a){this.doUnloadNestedLists(a);a.callEvent=null;a.checkEvent=null;a.getForm=null;a._autoCheck=null;a._type=null;a._enabled=null;a._cmd=null;a._name=null;a.onselectstart=null;a.childNodes[0].onselectstart=null;a.childNodes[0].onkeypress=null;a.childNodes[0].ontouchstart=null;a.childNodes[0].onblur=null;a.childNodes[0].childNodes[0].onmouseover=
null;a.childNodes[0].childNodes[0].onmouseout=null;a.childNodes[0].childNodes[0].onmousedown=null;for(a.childNodes[0].childNodes[0].onmouseup=null;0<a.childNodes.length;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a)},enable:function(a){0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a._enabled=!0;a.childNodes[0].removeAttribute("disabled");a.childNodes[0].setAttribute("role","link");a.childNodes[0].setAttribute("tabIndex","0")},disable:function(a){0>
String(a.className).search("disabled")&&(a.className+=" disabled");a._enabled=!1;a.childNodes[0].setAttribute("disabled","true");a.childNodes[0].removeAttribute("role");a.childNodes[0].removeAttribute("tabIndex")},setText:function(a,b){a.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML=b},getText:function(a){return a.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML},setFocus:function(a){a.childNodes[0].focus()}};
(function(){for(var a in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.button[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.hidden={_index:!1,render:function(a,b){a.style.display="none";a._name=b.name;a._type="hd";a._enabled=!0;var c=document.createElement("INPUT");c.type="HIDDEN";c.name=b.name;c.value=b.value||"";a.appendChild(c);return this},destruct:function(a){for(this.doUnloadNestedLists(a);0<a.childNodes.length;)a.removeChild(a.childNodes[0]);a._autoCheck=null;a._name=null;a._type=null;a._enabled=null;a.onselectstart=null;a.callEvent=null;a.checkEvent=null;a.getForm=null;a.parentNode.removeChild(a)},
enable:function(a){a._enabled=!0;a.childNodes[0].setAttribute("name",a._name)},disable:function(a){a._enabled=!1;a.childNodes[0].removeAttribute("name")},show:function(){},hide:function(){},isHidden:function(){return!0},setValue:function(a,b){a.childNodes[0].value=b},getValue:function(a){return a.childNodes[0].value},getInput:function(a){return a.childNodes[0]}};(function(){for(var a in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.hidden[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.list={_index:!1,render:function(a){a._type="list";a._enabled=!0;a._isNestedForm=!0;a.style.paddingLeft=a._ofsNested+"px";a.className="dhxform_base_nested"+(a._custom_css||"");return[this,new dhtmlXForm(a)]},destruct:function(){}};
dhtmlXForm.prototype.items.fieldset={_index:!1,render:function(a,b){a._type="fs";parseInt(b.inputWidth);a._width=b.width;a._enabled=!0;a._checked=!0;a.className="fs_"+b.position+("string"==typeof b.className?" "+b.className:"");var c=document.createElement("FIELDSET");c.className="dhxform_fs";var d=String(b.labelAlign).replace("align_","");c.innerHTML="<legend class='fs_legend' align='"+d+"' style='text-align:"+d+"'>"+b.label+"</legend>";a.appendChild(c);isNaN(b.inputLeft)||(c.style.left=parseInt(b.inputLeft)+
"px");isNaN(b.inputTop)||(c.style.top=parseInt(b.inputTop)+"px");"auto"==b.inputWidth||isNaN(b.inputWidth)||(c.style.width=parseInt(b.inputWidth)+"px",d=parseInt(c.style.width),c.offsetWidth>d&&(c.style.width=d+(d-c.offsetWidth)+"px"));a._addSubListNode=function(){var a=document.createElement("DIV");a._custom_css=" dhxform_fs_nested";this.childNodes[0].appendChild(a);return a};!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);return this},destruct:function(a){this.doUnloadNestedLists(a);
a._checked=null;a._enabled=null;a._idd=null;a._type=null;a._width=null;a.onselectstart=null;a._addSubListNode=null;a._autoCheck=null;a.callEvent=null;a.checkEvent=null;for(a.getForm=null;0<a.childNodes.length;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a)},setText:function(a,b){a.childNodes[0].childNodes[0].innerHTML=b},getText:function(a){return a.childNodes[0].childNodes[0].innerHTML},enable:function(a){a._enabled=!0;0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,
""))},disable:function(a){a._enabled=!1;0>String(a.className).search("disabled")&&(a.className+=" disabled")},setWidth:function(a,b){a.childNodes[0].style.width=b+"px";a._width=b},getWidth:function(a){return a._width}};(function(){for(var a in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.fieldset[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.block={_index:!1,render:function(a,b){a._type="bl";a._width=b.width;a._enabled=!0;a._checked=!0;a.className="block_"+b.position+("string"==typeof b.className?" "+b.className:"");var c=document.createElement("DIV");c.className="dhxform_obj_"+a.getForm().skin+" dhxform_block";c.style.fontSize=a.getForm().cont.style.fontSize;b.style&&(c.style.cssText=b.style);"undefined"!=typeof b.id&&(c.id=b.id);a.appendChild(c);isNaN(b.inputLeft)||(c.style.left=parseInt(b.inputLeft)+"px");
isNaN(b.inputTop)||(c.style.top=parseInt(b.inputTop)+"px");"auto"==b.inputWidth||isNaN(b.inputWidth)||(c.style.width=parseInt(b.inputWidth)+"px");isNaN(b.blockOffset)||(a._ofsNested=b.blockOffset);a._addSubListNode=function(){var a=document.createElement("DIV");a._inBlcok=!0;"undefined"!=typeof this._ofsNested&&(a._ofsNested=this._ofsNested);this.childNodes[0].appendChild(a);return a};!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);return this},_setCss:function(a,b,c){a.firstChild.className=
"dhxform_obj_"+b+" dhxform_block";a.firstChild.style.fontSize=c}};(function(){for(var a in{enable:1,disable:1,isEnabled:1,setWidth:1,getWidth:1,doUnloadNestedLists:1,destruct:1})dhtmlXForm.prototype.items.block[a]=dhtmlXForm.prototype.items.fieldset[a]})();dhtmlXForm.prototype.items.newcolumn={_index:!1};
dhtmlXForm.prototype.items.template={render:function(a,b){isNaN(b.rows);a._type="tp";a._enabled=!0;b.format&&("function"==typeof b.format&&(a.format=b.format),"function"==typeof window[b.format]&&(a.format=window[b.format]));a.format||(a.format=function(a,b){return b});this.doAddLabel(a,b);this.doAddInput(a,b,"DIV",null,!0,!0,"dhxform_item_template");a._value=b.value||"";a.childNodes[1].childNodes[0].innerHTML=a.format(a._idd,a._value);return this},setValue:function(a,b){a._value=b;a.childNodes[1].childNodes[0].innerHTML=
a.format(a._idd,a._value)},getValue:function(a){return a._value},enable:function(a){0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a._enabled=!0},disable:function(a){0>String(a.className).search("disabled")&&(a.className+=" disabled");a._enabled=!1}};(function(){for(var a in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,isEnabled:1,setWidth:1})dhtmlXForm.prototype.items.template[a]=dhtmlXForm.prototype.items.select[a]})();
dhtmlXForm.prototype._ulToObject=function(a,b){for(var c=[],d=0;d<a.childNodes.length;d++){if("li"==String(a.childNodes[d].tagName||"").toLowerCase()){for(var e={},f=a.childNodes[d],g=0;g<b.length;g++)null!=f.getAttribute(b[g])&&(e[String(b[g]).replace("ftype","type")]=f.getAttribute(b[g]));if(!e.label)try{e.label=f.firstChild.nodeValue}catch(k){}g=f.getElementsByTagName("UL");null!=g[0]&&(e["select"==e.type?"options":"list"]=dhtmlXForm.prototype._ulToObject(g[0],b));for(g=0;g<f.childNodes.length;g++)"userdata"==
String(f.childNodes[g].tagName||"").toLowerCase()&&(e.userdata||(e.userdata={}),e.userdata[f.childNodes[g].getAttribute("name")]=f.childNodes[g].firstChild.nodeValue);c[c.length]=e}if("div"==String(a.childNodes[d].tagName||"").toLowerCase()){e={type:"label"};try{e.label=a.childNodes[d].firstChild.nodeValue}catch(h){}c[c.length]=e}}return c};
dhtmlxEvent(window,"load",function(){for(var a="ftype name value label check checked disabled text rows select selected width style className labelWidth labelHeight labelLeft labelTop inputWidth inputHeight inputLeft inputTop position size".split(" "),b=document.getElementsByTagName("UL"),c=[],d=0;d<b.length;d++)if("dhtmlxForm"==b[d].className){var e=document.createElement("DIV");c[c.length]={nodeUL:b[d],nodeForm:e,data:dhtmlXForm.prototype._ulToObject(b[d],a),name:b[d].getAttribute("name")||null}}for(d=
0;d<c.length;d++)if(c[d].nodeUL.parentNode.insertBefore(c[d].nodeForm,c[d].nodeUL),a=new dhtmlXForm(c[d].nodeForm,c[d].data),null!==c[d].name&&(window[c[d].name]=a),a=c[d].nodeUL.getAttribute("oninit")||null,c[d].nodeUL.parentNode.removeChild(c[d].nodeUL),c[d].nodeUL=null,c[d].nodeForm=null,c[d].data=null,c[d]=null,a)if("function"==typeof a)a();else if("function"==typeof window[a])window[a]()});
window.dhtmlXContainer&&(dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachForm||(dhtmlx.attaches.attachForm=function(a){var b=document.createElement("DIV");b.id="dhxFormObj_"+this._genStr(12);b.style.position="relative";b.style.width="100%";b.style.height="100%";dhtmlx.$customScroll?dhtmlx.CustomScroll.enable(b):b.style.overflow="auto";b.cmp="form";this.attachObject(b,!1,!0,!1);this.vs[this.av].form=new dhtmlXForm(b,a);this.vs[this.av].form.setSkin(this.skin);this.vs[this.av].form.setSizes();
this.vs[this.av].formObj=b;"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects());return this.vs[this._viewRestore()].form}),dhtmlx.detaches||(dhtmlx.detaches={}),dhtmlx.detaches.detachForm||(dhtmlx.detaches.detachForm=function(a){a.form&&(a.form.unload(),a.form=null,a.formObj=null,a.attachForm=null)}));
dhtmlXForm.prototype.setUserData=function(a,b,c,d){if("undefined"!=typeof d){var e=this.doWithItem([a,b],"_getId");null!=e&&(a=e,b=c,c=d)}this._userdata||(this._userdata={});this._userdata[a]=this._userdata[a]||{};this._userdata[a][b]=c};dhtmlXForm.prototype.getUserData=function(a,b,c){if("undefined"!=typeof c){var d=this.doWithItem([a,b],"_getId");null!=d&&(a=d,b=c)}return null!=this._userdata&&"undefined"!=typeof this._userdata[a]&&"undefined"!=typeof this._userdata[a][b]?this._userdata[a][b]:""};
dhtmlXForm.prototype.setRTL=function(a){(this._rtl=!0===a?!0:!1)?0>String(this.cont).search(/dhxform_rtl/gi)&&(this.cont.className+=" dhxform_rtl"):0<=String(this.cont).search(/dhxform_rtl/gi)&&(this.cont.className=String(this.cont.className).replace(/dhxform_rtl/gi,""))};
_dhxForm_doClick=function(a,b){if("object"==typeof b){var c=b[1];b=b[0]}if(document.createEvent){var d=document.createEvent("MouseEvents");d.initEvent(b,!0,!1);a.dispatchEvent(d)}else document.createEventObject&&(d=document.createEventObject(),d.button=1,a.fireEvent("on"+b,d));c&&window.setTimeout(function(){_dhxForm_doClick(a,c)},100)};
dhtmlXForm.prototype.setFormData=function(a){for(var b in a){var c=this.getItemType(b);switch(c){case "checkbox":this[!0==a[b]||1==parseInt(a[b])||"true"==a[b]||a[b]==this.getItemValue(b,"realvalue")?"checkItem":"uncheckItem"](b);break;case "radio":this.checkItem(b,a[b]);break;case "input":case "textarea":case "password":case "select":case "multiselect":case "hidden":case "template":case "combo":case "calendar":case "colorpicker":case "editor":this.setItemValue(b,a[b]);break;default:if(this["setFormData_"+
c])this["setFormData_"+c](b,a[b]);else this.hId||(this.hId=this._genStr(12)),this.setUserData(this.hId,b,a[b])}}};
dhtmlXForm.prototype.getFormData=function(a,b){var c={},d;for(d in this.itemPull){var e=this.itemPull[d]._idd,f=this.itemPull[d]._type;"ch"==f&&(c[e]=this.isItemChecked(e)?this.getItemValue(e):0);"ra"==f&&!c[this.itemPull[d]._group]&&(c[this.itemPull[d]._group]=this.getCheckedValue(this.itemPull[d]._group));f in{se:1,ta:1,pw:1,hd:1,tp:1,fl:1,calendar:1,combo:1,editor:1,colorpicker:1}&&(c[e]=this.getItemValue(e,a));this["getFormData_"+f]&&(c[e]=this["getFormData_"+f](e));if("up"==f){var e=this.getItemValue(e),
g;for(g in e)c[g]=e[g]}if(this.itemPull[d]._list)for(e=0;e<this.itemPull[d]._list.length;e++){var f=this.itemPull[d]._list[e].getFormData(a,b),k;for(k in f)c[k]=f[k]}}if(!b&&this.hId&&this._userdata[this.hId])for(d in this._userdata[this.hId])c[d]||(c[d]=this._userdata[this.hId][d]);return c};
dhtmlXForm.prototype.adjustParentSize=function(){for(var a=0,b=-1,c=0;c<this.base.length;c++)if(a+=this.base[c].firstChild.offsetWidth,this.base[c].offsetHeight>b)b=this.base[c].offsetHeight;c=!1;try{if(c=!0==this.cont.parentNode.parentNode.parentNode.parentNode._isCell)var d=this.cont.parentNode.parentNode.parentNode.parentNode}catch(e){}if(c&&"undefined"!=typeof d)0<a&&d.setWidth(a+10),0<b&&d.setHeight(b+d.firstChild.firstChild.offsetHeight+5);else{d=!1;try{if(d=!0==this.cont.parentNode.parentNode.parentNode.parentNode._isWindow)var f=
this.cont.parentNode.parentNode.parentNode.parentNode}catch(g){}d&&"undefined"!=typeof f&&(this.cont.style.display="none",(0<a||0<b)&&f._adjustToContent(a+10,b+10),this.cont.style.display="")}};window._dhxForm_isIPad=0<=navigator.userAgent.search(/iPad/gi);
dhtmlXForm.prototype.load=function(a,b,c){var d=this;d.callEvent("onXLS",[]);"function"==typeof b&&(c=b,b="xml");dhtmlxAjax.get(a,function(e){var f={};if("json"==b)eval("data="+e.xmlDoc.responseText);else{var g=e.doXPath("//data")[0];g&&g.getAttribute("dhx_security")&&(dhtmlx.security_key=g.getAttribute("dhx_security"));e=e.doXPath("//data/*");for(g=0;g<e.length;g++)f[e[g].tagName]=e[g].firstChild?e[g].firstChild.nodeValue:""}(e=a.match(/(\?|\&)id\=([a-z0-9_]*)/i))&&e[0]&&(e=e[0].split("=")[1]);d.callEvent("onBeforeDataLoad",
[e,f])&&(d.formId=e,d._last_load_data=f,d.setFormData(f),d.resetDataProcessor("updated"));d.callEvent("onXLE",[]);c&&c.call(this)})};dhtmlXForm.prototype.reset=function(){this.callEvent("onBeforeReset",[this.formId,this.getFormData()])&&(this._last_load_data&&this.setFormData(this._last_load_data),this.callEvent("onAfterReset",[this.formId]))};
dhtmlXForm.prototype.send=function(a,b,c,d){"function"==typeof b&&(c=b,b="post");if(!0===d||this.validate()){var e=this.getFormData(!0);d=[];for(var f in e)d.push(f+"="+encodeURIComponent(e[f]));f=function(a){c&&c.call(this,a,a.xmlDoc.responseText)};"get"==b?dhtmlxAjax.get(a+(-1==a.indexOf("?")?"?":"&")+d.join("&"),f):dhtmlxAjax.post(a,d.join("&"),f)}};dhtmlXForm.prototype.save=function(){};dhtmlXForm.prototype.dummy=function(){};dhtmlXForm.prototype._changeFormId=function(a,b){this.formId=b};
dhtmlXForm.prototype._dp_init=function(a){a._methods=["dummy","dummy","_changeFormId","dummy"];a._getRowData=function(a){var c=this.obj.getFormData(!0);c[this.action_param]=this.obj.getUserData(a,this.action_param);return c};a._clearUpdateFlag=function(){};a.attachEvent("onAfterUpdate",function(a,c,d,e){if("inserted"==c||"updated"==c)this.obj.resetDataProcessor("updated"),this.obj._last_load_data=this.obj.getFormData(!0);this.obj.callEvent("onAfterSave",[this.obj.formId,e]);return!0});a.autoUpdate=
!1;a.setTransactionMode("POST",!0);this.dp=a;this.formId=(new Date).valueOf();this.resetDataProcessor("inserted");this.save=function(){this.callEvent("onBeforeSave",[this.formId,this.getFormData()])&&this.validate()&&a.sendData()}};dhtmlXForm.prototype.resetDataProcessor=function(a){this.dp&&(this.dp.updatedRows=[],this.dp._in_progress=[],this.dp.setUpdated(this.formId,!0,a))};
dhtmlXForm.prototype._ccActivate=function(a,b,c){this._formLS||(this._formLS={});this._formLS[a]||(this._formLS[a]={input:b,value:c});this._ccActive||(this._ccActive=!0,this._ccDo())};dhtmlXForm.prototype._ccDeactivate=function(a){this._ccTm&&window.clearTimeout(this._ccTm);this._ccActive=!1;null!=this._formLS&&null!=this._formLS[a]&&(this._formLS[a].input=null,this._formLS[a]=null,delete this._formLS[a])};
dhtmlXForm.prototype._ccDo=function(){this._ccTm&&window.clearTimeout(this._ccTm);for(var a in this._formLS){var b=this._formLS[a].input;if("select"==String(b.tagName).toLowerCase()){var c="";0<=b.selectedIndex&&b.selectedIndex<b.options.length&&(c=b.options[b.selectedIndex].value)}else c=b.value;c!=this._formLS[a].value&&(this._formLS[a].value=c,this.callEvent("onInputChange",[b._idd,c,this]));b=null}if(this._ccActive){var d=this;this._ccTm=window.setTimeout(function(){d._ccDo();d=null},100)}};
dhtmlXForm.prototype._ccReload=function(a,b){this._formLS&&this._formLS[a]&&(this._formLS[a].value=b)};
window.dhtmlxValidation||(dhtmlxValidation=function(){},dhtmlxValidation.prototype={isEmpty:function(a){return""==a},isNotEmpty:function(a){return a instanceof Array?0<a.length:""==!a},isValidBoolean:function(a){return!!a.match(/^(0|1|true|false)$/)},isValidEmail:function(a){return!!a.match(/(^[a-z]([a-z0-9_\.]*)@([a-z_\.]*)([.][a-z]{3})$)|(^[a-z]([a-z_\.]*)@([a-z_\-\.]*)(\.[a-z]{2,3})$)/i)},isValidInteger:function(a){return!!a.match(/(^-?\d+$)/)},isValidNumeric:function(a){return!!a.match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},
isValidAplhaNumeric:function(a){return!!a.match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(a){return(a=a.match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/))&&!!(9999>=a[1]&&12>=a[2]&&31>=a[3]&&59>=a[4]&&59>=a[5]&&59>=a[6])||!1},isValidDate:function(a){return(a=a.match(/^(\d{4})-(\d{2})-(\d{2})$/))&&!!(9999>=a[1]&&12>=a[2]&&31>=a[3])||!1},isValidTime:function(a){return(a=a.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/))&&!!(24>=a[1]&&59>=a[2]&&59>=a[3])||!1},isValidIPv4:function(a){return(a=
a.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/))&&!!(255>=a[1]&&255>=a[2]&&255>=a[3]&&255>=a[4])||!1},isValidCurrency:function(a){return a.match(/^\$?\s?\d+?[\.,\,]?\d+?\s?\$?$/)&&!0||!1},isValidSSN:function(a){return a.match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},isValidSIN:function(a){return a.match(/^\d{9}$/)&&!0||!1}},dhtmlxValidation=new dhtmlxValidation);
dhtmlXForm.prototype.items.calendar={render:function(a,b){var c=this;a._type="calendar";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","TEXT",!0,!0,"dhxform_textarea calendar");this.doAttachChangeLS(a);a.childNodes[a._ll?1:0].childNodes[0]._idd=a._idd;a.childNodes[a._ll?1:0].childNodes[0].onblur=function(){var a=this.parentNode.parentNode;a.getForm()._ccDeactivate(a._idd);c.checkEnteredValue(this.parentNode.parentNode);a.getForm().callEvent("onBlur",[a._idd])};a._f=b.dateFormat||null;
a._f0=b.serverDateFormat||a._f;var d=a.getForm();a._c=new dhtmlXCalendarObject(a.childNodes[a._ll?1:0].childNodes[0],b.skin||d.skin||"dhx_skyblue");a._c._nullInInput=!0;a._c.enableListener(a.childNodes[a._ll?1:0].childNodes[0]);null!=a._f&&a._c.setDateFormat(a._f);d._s2b(b.enableTime)||a._c.hideTime();d._s2b(b.showWeekNumbers)&&a._c.showWeekNumbers();isNaN(b.weekStart)||a._c.setWeekStartDay(b.weekStart);"undefined"!=typeof b.calendarPosition&&a._c.setPosition(b.calendarPosition);null!=b.minutesInterval&&
a._c.setMinutesInterval(b.minutesInterval);a._c._itemIdd=a._idd;a._c.attachEvent("onBeforeChange",function(b){if(a._value!=b){if(a.checkEvent("onBeforeChange")&&!0!==a.callEvent("onBeforeChange",[a._idd,a._value,b]))return!1;a._value=b;c.setValue(a,b);a.callEvent("onChange",[this._itemIdd,a._value])}return!0});this.setValue(a,b.value);d=null;return this},getCalendar:function(a){return a._c},setSkin:function(a,b){a._c.setSkin(b)},setValue:function(a,b){b&&null!=b&&"undefined"!=typeof b&&""!=b?(a._value=
b instanceof Date?b:a._c._strToDate(b,a._f0||a._c._dateFormat),a.childNodes[a._ll?1:0].childNodes[0].value=a._c._dateToStr(a._value,a._f||a._c._dateFormat)):(a._value=null,a.childNodes[a._ll?1:0].childNodes[0].value="");a._c.setDate(a._value)},getValue:function(a,b){var c=a._c.getDate();return!0===b&&null==c?"":!0===b?a._c._dateToStr(c,a._f0||a._c._dateFormat):c},setDateFormat:function(a,b,c){a._f=b;a._f0=c||a._f;a._c.setDateFormat(a._f);this.setValue(a,this.getValue(a))},destruct:function(a){a._c.disableListener(a.childNodes[a._ll?
1:0].childNodes[0]);a._c.unload();a._c=null;try{delete a._c}catch(b){}a._f=null;try{delete a._f}catch(c){}a._f0=null;try{delete a._f0}catch(d){}a.childNodes[a._ll?1:0].childNodes[0]._idd=null;a.childNodes[a._ll?1:0].childNodes[0].onblur=null;this.d2(a)},checkEnteredValue:function(a){this.setValue(a,a._c.getDate())}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.calendar[a]=dhtmlXForm.prototype.items.input[a]})();dhtmlXForm.prototype.items.calendar.doAttachChangeLS=dhtmlXForm.prototype.items.select.doAttachChangeLS;dhtmlXForm.prototype.items.calendar.d2=dhtmlXForm.prototype.items.input.destruct;
dhtmlXForm.prototype.getCalendar=function(a){return this.doWithItem(a,"getCalendar")};dhtmlXForm.prototype.setCalendarDateFormat=function(a,b,c){this.doWithItem(a,"setDateFormat",b,c)};
dhtmlXForm.prototype.items.upload={render:function(a,b){a._type="up";a._enabled=!0;a._checked=!0;a.className=b.position+("string"==typeof b.className?" "+b.className:"");var c=document.createElement("DIV");a.appendChild(c);isNaN(b.inputLeft)||(a.style.left=parseInt(b.inputLeft)+"px");isNaN(b.inputTop)||(a.style.top=parseInt(b.inputTop)+"px");"auto"==b.inputWidth||isNaN(b.inputWidth)||(c.style.width=parseInt(b.inputWidth)+"px");a._uploader=new dhtmlXFileUploader(c,b.swfPath||"",b.swfUrl||"",b.mode||
null,b.swfLogs,b.slXap||"",b.slUrl||"",b.slLogs||"");a._uploader.setURL(b.url||"");a._uploader.callEvent=a.callEvent;"undefined"!=typeof b.autoStart&&a._uploader.setAutoStart(b.autoStart);"undefined"!=typeof b.autoRemove&&a._uploader.setAutoRemove(b.autoRemove);"undefined"!=typeof b.titleScreen&&a._uploader.enableTitleScreen(b.titleScreen);"undefined"!=typeof b.titleText&&a._uploader.setTitleText(b.titleText);!0==b.hidden&&this.hide(a);!0==b.disabled&&this.userDisable(a);"auto"!=b.inputHeight&&NaN!=
parseInt(b.inputHeight)&&(a._uploader.p_files.style.height=parseInt(b.inputHeight)+"px");return this},destruct:function(a){this.doUnloadNestedLists(a);a._uploader.unload();a._uploader=null;a._checked=null;a._enabled=null;a._idd=null;a._type=null;a.onselectstart=null;a._autoCheck=null;a.callEvent=null;a.checkEvent=null;for(a.getForm=null;0<a.childNodes.length;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a)},setText:function(){},getText:function(){},enable:function(a){a._enabled=!0;0<=String(a.className).search("disabled")&&
(a.className=String(a.className).replace(/disabled/gi,""));a._uploader.enable()},disable:function(a){a._enabled=!1;0>String(a.className).search("disabled")&&(a.className+=" disabled");a._uploader.disable()},setWidth:function(a,b){a.childNodes[0].style.width=b+"px";a._width=b},getWidth:function(a){return a._width||parseInt(a.childNodes[0].style.width)},setValue:function(a){a._uploader.clear()},getValue:function(a){var b=a._uploader.getData(),c={},d=0,e;for(e in b)c[a._idd+"_r_"+d]=b[e].realName,c[a._idd+
"_s_"+d]=b[e].serverName,d++;c[a._idd+"_count"]=d;return c},getUploader:function(a){return a._uploader},getStatus:function(a){return a._uploader.getStatus()}};(function(){for(var a in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.upload[a]=dhtmlXForm.prototype.items.checkbox[a]})();dhtmlXForm.prototype.setFormData_upload=function(a){this.doWithItem(a,"setValue")};dhtmlXForm.prototype.getUploader=function(a){return this.doWithItem(a,"getUploader")};
dhtmlXForm.prototype.getUploaderStatus=function(a){return this.doWithItem(a,"getStatus")};
function dhtmlXFileUploader(a,b,c,d,e,f,g,k){var h=this;if("string"==typeof d&&"function"==typeof this[d])this.engine=d;else if(this.engine="html4","undefined"!=typeof window.FormData&&"undefined"!=typeof window.XMLHttpRequest&&"undefined"!=typeof window.XMLHttpRequestUpload)this.engine="html5";else if("undefined"!=typeof window.swfobject)10<=swfobject.getFlashPlayerVersion().major&&(this.engine="flash");else if(this._sl_v=this.getSLVersion())this.engine="sl";"string"==typeof a&&(a=document.getElementById(a));
this._swf_file_url=b||"";this._swf_upolad_url=c||"";this._swf_logs=e;this._sl_xap=f;this._sl_upload_url=g;this._sl_logs=k;this.p=document.createElement("DIV");this.p.className+=" dhx_file_uploader";a.appendChild(this.p);this.p_files=document.createElement("DIV");this.p_files.className="dhx_upload_files";this.p.appendChild(this.p_files);this.p_controls=document.createElement("DIV");this.p_controls.className="dhx_upload_controls";this.p.appendChild(this.p_controls);this._files={};this._items={};this._data=
{};this._autoRemove=this._autoStart=!1;this._enabled=this._titleScreen=!0;this._uploaded_count=0;this._uid=function(){this._idd?this._idd++:this._idd=(new Date).getTime();return this._idd};this._initToolbar=function(){this.b_opts={info:{onclick:null},browse:{onclick:null,tooltip:"Browse"},upload:{onclick:function(){h._enabled&&!h._uploading&&(h._switchButton(!0),h._uploadStart())},tooltip:"Upload"},cancel:{onclick:function(){h._enabled&&(h._uploadStop(),h._switchButton(!1))},tooltip:"Stop"},clear:{onclick:function(){h._enabled&&
h.clear()},tooltip:"Clear list"}};this.buttons={};for(var a in this.b_opts){var b=document.createElement("DIV");b.innerHTML="&nbsp;";b.className="dhx_file_uploader_button button_"+a;b.onclick=this.b_opts[a].onclick;this.b_opts[a].tooltip&&(b.title=this.b_opts[a].tooltip);this.p_controls.appendChild(b);this.buttons[a]=b;b=null}this.buttons.cancel.style.display="none"};this._readableSize=function(a){for(var b=!1,c="b Kb Mb Gb Tb Pb Eb".split(" "),d=0;d<c.length;d++)1024<a?a/=1024:!1===b&&(b=d);!1===
b&&(b=c.length-1);return Math.round(100*a)/100+" "+c[b]};this._addFileToList=function(a,b,c,d,e){this._checkTitleScreen();c=document.createElement("DIV");c._idd=a;c.className="dhx_file dhx_file_"+d;c.innerHTML="<div class='dhx_file_param dhx_file_name'>&nbsp;</div><div class='dhx_file_param dhx_file_progress'>"+e+"%</div><div class='dhx_file_param dhx_file_delete' title='Remove from list'>&nbsp;</div>";this.p_files.appendChild(c);c.childNodes[0].style.width=c.offsetWidth-127+"px";this._items[a]=c;
this._updateFileNameSize(a);c.childNodes[2].onclick=function(){h._enabled&&h._removeFileFromQueue(this.parentNode._idd)};this.callEvent("onFileAdd",[b])};this._removeFileFromList=function(a){this._items[a]&&(this._items[a].childNodes[2].onclick=null,this._items[a].parentNode.removeChild(this._items[a]),this._items[a]=null,delete this._items[a],this._data[a]&&(this._data[a]=null,delete this._data[a]),this._checkTitleScreen())};this._updateFileNameSize=function(a){this._items[a].childNodes[0].innerHTML=
this._files[a].name+(isNaN(this._files[a].size)?"&nbsp;":" ("+this._readableSize(this._files[a].size)+")");this._items[a].childNodes[0].title=this._files[a].name+(isNaN(this._files[a].size)?"":" ("+this._readableSize(this._files[a].size)+")")};this._updateFileInList=function(a,b,c){this._items[a]&&(this._items[a].className="dhx_file dhx_file_"+b,"uploading"==b&&100>c&&"loader"==this._progress_type?(this._items[a].childNodes[1].className="dhx_file_param dhx_file_uploading",this._items[a].childNodes[1].innerHTML=
"&nbsp;"):(this._items[a].childNodes[1].className="dhx_file_param dhx_file_progress",this._items[a].childNodes[1].innerHTML=c+"%"),this._updateFileNameSize(a))};this._removeFilesByState=function(a){for(var b in this._files)!0!==a&&this._files[b].state!=a||this._removeFileFromQueue(b)};this._switchButton=function(a){!0==a?(this.buttons.upload.style.display="none",this.buttons.cancel.style.display=""):(a=this._uploaded_count,this.buttons.upload.style.display="",this.buttons.cancel.style.display="none",
this._uploaded_count=0,0<a&&this.callEvent("onUploadComplete",[a]))};this._uploadStart=function(){if(!this._uploading)for(var a in this._files)"fail"==this._files[a].state&&(this._files[a].state="added",this._updateFileInList(a,"added",0));this._uploading=!0;var b=!1;for(a in this._files)b||"added"!=[this._files[a].state]||(b=!0,this._files[a].state="uploading",this._updateFileInList(a,"uploading",0),this._doUploadFile(a));b||(this._uploading=!1,this._switchButton(!1))};this._onUploadSuccess=function(a,
b,c){if("undefined"!=typeof c&&"flash"==this.engine){try{eval("var t="+c.data)}catch(d){}if("undefined"!=typeof t&&!0==t.state&&null!=t.name)b=t.name;else{this._onUploadFail(a);return}}this._uploaded_count++;this._data[a]={realName:this._files[a].name,serverName:b};this._files[a].state="uploaded";this._updateFileInList(a,"uploaded",100);this.callEvent("onUploadFile",[this._files[a].name,b]);this._autoRemove&&this._removeFileFromQueue(a);this._uploading&&this._uploadStart()};this._onUploadFail=function(a){this._files[a].state=
"fail";this._updateFileInList(a,"fail",0);this.callEvent("onUploadFail",[this._files[a].name]);this._uploading&&this._uploadStart()};this._onUploadAbort=function(a){this._uploading=!1;this._files[a].state="added";this._updateFileInList(a,"added",0);this.callEvent("onUploadCancel",[this._files[a].name])};this._checkTitleScreen=function(){var a=0,b;for(b in this._files)a++;0==a&&0>this.p.className.search("dhx_file_uploader_title")&&this._titleScreen&&(this.p.className+=" dhx_file_uploader_title",this.buttons.info.innerHTML=
this._titleText,this.buttons.info.style.width=Math.max(this.p_controls.offsetWidth-134,0)+"px");(0<a||!this._titleScreen)&&0<=this.p.className.search("dhx_file_uploader_title")&&(this.p.className=this.p.className.replace(/dhx_file_uploader_title/g,""),this.buttons.info.innerHTML="")};this.callEvent=function(){};this.upload=function(){this._uploading||this._uploadStart()};this.setAutoStart=function(a){this._autoStart=!0==a};this.setAutoRemove=function(a){this._autoRemove=!0==a};this.enableTitleScreen=
function(a){this._titleScreen=!0==a;this._checkTitleScreen()};this.setTitleText=function(a){this._titleText=a;0<=this.p.className.search("dhx_file_uploader_title")&&(this.buttons.info.innerHTML=this._titleText)};this.setURL=function(a){this._url=a};this.setSWFURL=function(a){this._swf_upolad_url=a};this.enable=function(){this._enabled=!0;this.p_files.className="dhx_upload_files";this.p_controls.className="dhx_upload_controls"};this.disable=function(){this._enabled=!1;this.p_files.className="dhx_upload_files dhx_uploader_dis";
this.p_controls.className="dhx_upload_controls dhx_uploader_dis"};this.getStatus=function(){var a=0,b;for(b in this._files){if("uploaded"!=this._files[b].state)return-1;a=1}return a};this.getData=function(){return this._data};this.clear=function(){this._uploading&&h._uploadStop();h._switchButton(!1);h._removeFilesByState(!0);this.callEvent("onClear",[])};this.unload=function(){this._removeFilesByState(!0);this._items=this._files=this._data=null;this._unloadEngine();for(var a in this.buttons)this.buttons[a].onclick=
null,this.buttons[a].parentNode.removeChild(this.buttons[a]),this.buttons[a]=null,delete this.buttons[a];this.buttons=null;for(a in this.b_opts)this.b_opts[a].onclick=null,this.b_opts[a]=null,delete this.b_opts[a];this.b_opts=null;this.p_controls.parentNode.removeChild(this.p_controls);this.p_controls=null;this.p_files.parentNode.removeChild(this.p_files);this.engine=this._swf_upolad_url=this._swf_file_url=this.unload=this.clear=this.getData=this.getStatus=this.disable=this.enable=this.setURL=this.setTitleText=
this.enableTitleScreen=this.setAutoRemove=this.setAutoStart=this.upload=this.callEvent=this._checkTitleScreen=this._onUploadAbort=this._onUploadFail=this._onUploadSuccess=this._uploadStart=this._switchButton=this._removeFilesByState=this._updateFileInList=this._updateFileNameSize=this._removeFileFromList=this._addFileToList=this._readableSize=this._initToolbar=this._uid=this._idd=this._uploading=this._url=this._uploaded_count=this._titleText=this._titleScreen=this._progress_type=this._enabled=this._autoStart=
this._autoRemove=this.p_files=null;this.p.className=this.p.className.replace(/dhx_file_uploader_title/gi,"").replace(/dhx_file_uploader/gi,"");h=this.p=null};a=new this[this.engine];for(var l in a)this[l]=a[l],a[l]=null;l=a=a=null;this._initToolbar();this._initEngine();this._checkTitleScreen();return this}dhtmlXFileUploader.prototype.html5=function(){};
dhtmlXFileUploader.prototype.html5.prototype={_initEngine:function(){var a=this;this.buttons.browse.onclick=function(){a._enabled&&a.f.click()};this._progress_type="percentage";this._upload_dnd=this._upload_mp=!0;var b=window.navigator.userAgent;null!=b.match(/Windows/gi)&&null!=b.match(/AppleWebKit/gi)&&null!=b.match(/Safari/gi)&&(b.match(/Version\/5\.1\.5/gi)&&(this._upload_mp=!1),b.match(/Version\/5\.1[^\.\d{1,}]/gi)&&(this._upload_dnd=!1),b.match(/Version\/5\.1\.1/gi)&&(this._upload_dnd=this._upload_mp=
!1),b.match(/Version\/5\.1\.2/gi)&&(this._upload_dnd=!1));this._addFileInput();this._upload_dnd?(this.p.ondragenter=function(a){a.dataTransfer&&(a.stopPropagation(),a.preventDefault())},this.p.ondragover=function(a){a.dataTransfer&&(a.stopPropagation(),a.preventDefault())},this.p.ondrop=function(b){b.dataTransfer&&(b.stopPropagation(),b.preventDefault(),a._enabled&&a._parseFilesInInput(b.dataTransfer.files))},this._titleText="Drag-n-Drop files here or<br>click to select files for upload."):this._titleText=
"Click to select files for upload."},_addFileInput:function(){null!=this.f&&(this.f.onchange=null,this.f.parentNode.removeChild(this.f),this.f=null);var a=this;this.f=document.createElement("INPUT");this.f.type="file";this._upload_mp&&(this.f.multiple="1");this.f.className="dhx_uploader_input";this.p_controls.appendChild(this.f);this.f.onchange=function(){a._parseFilesInInput(this.files);_isOpera&&a._addFileInput()}},_doUploadFile:function(a){var b=this;this._loader||(this._loader=new XMLHttpRequest,
this._loader.upload.onprogress=function(a){"uploading"==b._files[this._idd].state&&b._updateFileInList(this._idd,"uploading",Math.round(100*a.loaded/a.total))},this._loader.onload=function(){try{eval("var r="+this.responseText)}catch(a){}"object"==typeof r&&"undefined"!=typeof r.state&&!0==r.state?(b._onUploadSuccess(this.upload._idd,r.name),r=null):b._onUploadFail(this.upload._idd)},this._loader.onerror=function(){b._onUploadFail(this.upload._idd)},this._loader.onabort=function(){b._onUploadAbort(this.upload._idd)});
this._loader.upload._idd=a;var c=new FormData;c.append("file",this._files[a].file);this._loader.open("POST",this._url+(0>String(this._url).indexOf("?")?"?":"&")+"mode=html5&"+(new Date).getTime(),!0);this._loader.setRequestHeader("X-Requested-With","XMLHttpRequest");this._loader.send(c)},_uploadStop:function(){this._uploading&&this._loader&&this._loader.abort()},_parseFilesInInput:function(a){for(var b=0;b<a.length;b++)this._addFileToQueue(a[b])},_addFileToQueue:function(a){var b=a._idd||this._uid();
this._files[b]={file:a,name:a.name,size:a.size,state:"added"};this._addFileToList(b,a.name,a.size,"added",0);this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(a){if(this._files[a]){var b=this._files[a].name,c=null!=this._data&&null!=this._data[a]?this._data[a].serverName:null,d=!1;this._uploading&&a==this._loader.upload._idd&&"uploading"==this._files[a].state&&(this._uploadStop(),d=!0);this._files[a].file=null;this._files[a].name=null;this._files[a].size=null;
this._files[a].state=null;this._files[a]=null;delete this._files[a];this._removeFileFromList(a);this.callEvent("onFileRemove",[b,c]);d&&this._uploadStart()}},_unloadEngine:function(){this.buttons.browse.onclick=null;this.f.onchange=null;this.f.parentNode.removeChild(this.f);this.f=null;this.p.ondragenter=null;this.p.ondragover=null;this.p.ondrop=null;this._loader&&(this._loader.upload.onprogress=null,this._loader.onload=null,this._loader.onerror=null,this._loader.onabort=null,this._loader=this._loader.upload._idd=
null);this._unloadEngine=this._removeFileFromQueue=this._addFileToQueue=this._parseFilesInInput=this._uploadStop=this._doUploadFile=this._initEngine=null}};dhtmlXFileUploader.prototype.html4=function(){};
dhtmlXFileUploader.prototype.html4.prototype={_initEngine:function(){this._addForm();this._progress_type="loader";this._titleText="Click button<br>to select files for upload."},_addForm:function(){var a=this,b=this._uid();this.k||(this.k=document.createElement("DIV"),this.k.className="dhx_file_form_cont",this.buttons.browse.appendChild(this.k),this.fr_name="dhx_file_"+(new Date).getTime(),this.k.innerHTML='<iframe name="'+this.fr_name+'" style="height:0px;width:0px;" frameBorder="0"></iframe>',this.fr=
this.k.firstChild,0<=window.navigator.userAgent.indexOf("MSIE")?this.fr.onreadystatechange=function(){"complete"==this.readyState&&a._onLoad()}:this.fr.onload=function(){a._onLoad()});var c=document.createElement("DIV");c.innerHTML="<form method='POST' enctype='multipart/form-data' target='"+this.fr_name+"' class='dhx_file_form' name='dhx_file_form_"+(new Date).getTime()+"'><input type='hidden' name='mode' value='html4'><input type='hidden' name='uid' value='"+b+"'><input type='file' name='file' class='dhx_file_input'></form>";
this.k.appendChild(c);c.firstChild.lastChild._idd=b;c.firstChild.lastChild.onchange=function(){a._addFileToQueue(this);this.onchange=null;this.parentNode.parentNode.style.display="none";a._addForm()};c=null},_onLoad:function(){if(this._uploading){try{eval("var r="+this.fr.contentWindow.document.body.innerHTML)}catch(a){}if("object"==typeof r&&"undefined"!=typeof r.state){if("cancelled"==r.state){this._onUploadAbort(this.fr._idd);r=null;return}if(!0==r.state){"undefined"==typeof r.size||isNaN(r.size)||
(this._files[this.fr._idd].size=r.size);this._onUploadSuccess(this.fr._idd,r.name);r=null;return}}this._onUploadFail(this.fr._idd)}},_addFileToQueue:function(a){var b=a.value.match(/[^\\\/]*$/g),b=null!=b[0]?b[0]:a.value;this._files[a._idd]={name:b,form:a.parentNode,node:a.parentNode.parentNode,input:a,state:"added"};this._addFileToList(a._idd,a.value,!1,"added",0);this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(a){var b=this._files[a].name,c=null!=this._data&&
null!=this._data[a]?this._data[a].serverName:null;this._files[a].input.onchange=null;this._files[a].form.removeChild(this._files[a].input);this._files[a].node.removeChild(this._files[a].form);this._files[a].node.parentNode.removeChild(this._files[a].node);this._files[a].input=null;this._files[a].name=null;this._files[a].form=null;this._files[a].node=null;this._files[a].size=null;this._files[a].state=null;this._files[a]=null;delete this._files[a];this._removeFileFromList(a);this.callEvent("onFileRemove",
[b,c])},_doUploadFile:function(a){this.fr._idd=a;this._files[a].form.action=this._url;this._files[a].form.submit()},_uploadStop:function(){this._uploading&&(this.fr.contentWindow.location.href=this._url+(0>this._url.indexOf("?")?"?":"&")+"mode=html4&action=cancel&etc="+(new Date).getTime())},_unloadEngine:function(){this.k&&(this.fr_name=null,this.fr.onreadystatechange=null,this.fr.onload=null,this.fr.parentNode.removeChild(this.fr),this.fr=null,this.k.firstChild.firstChild.lastChild.onchange=null,
this.k.parentNode.removeChild(this.k),this.k=null);this._unloadEngine=this._uploadStop=this._doUploadFile=this._removeFileFromQueue=this._addFileToQueue=this._onLoad=this._addForm=this._initEngine=null}};dhtmlXFileUploader.prototype.flash=function(){};
dhtmlXFileUploader.prototype.flash.prototype={_initEngine:function(){window.dhtmlXFileUploaderSWFObjects||(window.dhtmlXFileUploaderSWFObjects={items:{},uid:function(){this.id?this.id++:this.id=(new Date).getTime();return this.id},callEvent:function(a,c,d){window.dhtmlXFileUploaderSWFObjects.items[a].uploader[c].apply(window.dhtmlXFileUploaderSWFObjects.items[a].uploader,d)}});this._swf_obj_id="dhtmlXFileUploaderSWFObject_"+window.dhtmlXFileUploaderSWFObjects.uid();this._swf_file_url=this._swf_file_url+
(0<=this._swf_file_url.indexOf("?")?"&":"?")+"etc="+(new Date).getTime();this.buttons.browse.innerHTML="<div id='"+this._swf_obj_id+"' style='width:100%;height:100%;'></div>";swfobject.embedSWF(this._swf_file_url,this._swf_obj_id,"100%","100%","9",null,{ID:this._swf_obj_id,enableLogs:this._swf_logs},{wmode:"transparent"});var a=swfobject.getFlashPlayerVersion();this._titleText="Engine successfuly inited<br>Flash Player: "+a.major+"."+a.minor+"."+a.release;this._progress_type="percentage";window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]=
{id:this._swf_obj_id,uploader:this}},_addFileToQueue:function(a,b,c){this._files[a]={name:b,size:c,state:"added"};this._addFileToList(a,b,c,"added",0);this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(a){if(this._files[a]){var b=this._files[a].name,c=null!=this._data&&null!=this._data[a]?this._data[a].serverName:null,d=!1;this._uploading&&"uploading"==this._files[a].state&&(this._uploadStop(),d=!0);swfobject.getObjectById(this._swf_obj_id).removeFileById(a);this._files[a].name=
null;this._files[a].size=null;this._files[a].state=null;this._files[a]=null;delete this._files[a];this._removeFileFromList(a);this.callEvent("onFileRemove",[b,c]);d&&this._uploadStart()}},_doUploadFile:function(a){swfobject.getObjectById(this._swf_obj_id).upload(a,this._swf_upolad_url)},_uploadStop:function(){for(var a in this._files)"uploading"==this._files[a].state&&swfobject.getObjectById(this._swf_obj_id).uploadStop(a)},_unloadEngine:function(){window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]&&
(window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id].id=null,window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id].uploader=null,window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]=null,delete window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]);this._unloadEngine=this._uploadStop=this._doUploadFile=this._removeFileFromQueue=this._addFileToQueue=this._initEngine=this._swf_obj_id=null}};dhtmlXFileUploader.prototype.sl=function(){};
dhtmlXFileUploader.prototype.sl.prototype={_initEngine:function(){"undefined"==typeof this._sl_v&&(this._sl_v=this.getSLVersion());window.dhtmlXFileUploaderSLObjects||(window.dhtmlXFileUploaderSLObjects={items:{},uid:function(){this.id?this.id++:this.id=(new Date).getTime();return this.id},callEvent:function(a,b,c){window.dhtmlXFileUploaderSLObjects.items[a].uploader[b].apply(window.dhtmlXFileUploaderSLObjects.items[a].uploader,c)}});this._sl_obj_id="dhtmlXFileUploaderSLObject_"+window.dhtmlXFileUploaderSLObjects.uid();
!1!=this._sl_v?(this._titleText="Engine successfuly inited<br>Silverlight version: "+this._sl_v[0]+"."+this._sl_v[1],this.buttons.browse.innerHTML='<div style="width:100%;height:100%;"><object data="data:application/x-silverlight-2," type="application/x-silverlight-2" width="100%" height="100%" id="'+this._sl_obj_id+'"><param name="source" value="'+this._sl_xap+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="initParams" value="SLID='+this._sl_obj_id+
",LOGS="+this._sl_logs+'"/><param name="minRuntimeVersion" value="5.0"/></object></div>'):(this._titleText="Silverlight plugin not found<br>or version less than 4.0",this.buttons.browse.style.cursor="wait",this.buttons.browse.title="");this._progress_type="percentage";window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]={id:this._sl_obj_id,uploader:this}},_addFileToQueue:function(a,b,c){this._files[a]={name:b,size:c,state:"added"};this._addFileToList(a,b,c,"added",0);this._autoStart&&!this._uploading&&
this._uploadStart(!0)},_removeFileFromQueue:function(a){if(this._files[a]){var b=!1;this._uploading&&"uploading"==this._files[a].state&&(this._uploadStop(),b=!0);document.getElementById([this._sl_obj_id]).Content.a.removeFileById(a);this._files[a].name=null;this._files[a].size=null;this._files[a].state=null;this._files[a]=null;delete this._files[a];this._removeFileFromList(a);b&&this._uploadStart()}},_doUploadFile:function(a){document.getElementById(this._sl_obj_id).Content.a.upload(a,this._sl_upload_url,
"&mode=sl&etc="+(new Date).getTime())},_uploadStop:function(){this._uploading=!1;for(var a in this._files)"uploading"==this._files[a].state&&document.getElementById(this._sl_obj_id).Content.a.uploadStop(a)},_unloadEngine:function(){window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]&&(window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].id=null,window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].uploader=null,window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]=null,delete window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]);
this._unloadEngine=this._uploadStop=this._doUploadFile=this._removeFileFromQueue=this._addFileToQueue=this._initEngine=this._sl_obj_id=null}};dhtmlXFileUploader.prototype.setSLURL=function(a){this._sl_upload_url=a};
dhtmlXFileUploader.prototype.getSLVersion=function(){var a=!1;if(_isIE)try{var b=new ActiveXObject("AgControl.AgControl");if(null!=b)for(var c=4,d=0;b.isVersionSupported([c,d].join("."));)a=[c,d],9<++d&&(c++,d=0)}catch(e){}else null!=navigator.plugins["Silverlight Plug-In"]&&(a=navigator.plugins["Silverlight Plug-In"].description.split("."));return a};
dhtmlXForm.prototype.items.colorpicker={ev:!1,inp:null,colorpicker:{},cz:{},render:function(a,b){var c=this;a._type="colorpicker";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","TEXT",!0,!0,"dhxform_textarea");this.doAttachChangeLS(a);a._value=b.value||"";a.childNodes[a._ll?1:0].childNodes[0].value=a._value;this.cz[a._idd]=document.createElement("DIV");this.cz[a._idd].style.position="absolute";this.cz[a._idd].style.top="0px";this.cz[a._idd].style.zIndex=249;document.body.insertBefore(this.cz[a._idd],
document.body.firstChild);this.colorpicker[a._idd]=new dhtmlXColorPicker(this.cz[a._idd],null,a.getForm()._s2b(b.enableCustomColors),!0);this.colorpicker[a._idd].setImagePath(b.imagePath||"");this.colorpicker[a._idd].setSkin("");this.colorpicker[a._idd].init();"undefined"!=typeof b.customColors&&this.colorpicker[a._idd].setCustomColors(b.customColors);this.colorpicker[a._idd].elements.cs_Content.onclick=function(a){(a||event).cancelBubble=!0};this.colorpicker[a._idd].setOnSelectHandler(function(b){a._value==
b||a.checkEvent("onBeforeChange")&&!0!==a.callEvent("onBeforeChange",[a._idd,a._value,b])||(a._value=b,c.setValue(a,b),a.callEvent("onChange",[a._idd,a._value]))});a.childNodes[a._ll?1:0].childNodes[0]._idd=a._idd;a.childNodes[a._ll?1:0].childNodes[0].onclick=function(){c.colorpicker[this._idd].isVisible()?(c.colorpicker[this._idd].hide(),c.inp=null):(c.checkEnteredValue(this.parentNode.parentNode),c.colorpicker[this._idd].setPosition(getAbsoluteLeft(this),getAbsoluteTop(this)+this.offsetHeight-1),
c.colorpicker[this._idd].setColor(a._value),c.colorpicker[this._idd].show(),c.inp=this._idd)};a.childNodes[a._ll?1:0].childNodes[0].onblur=function(){var a=this.parentNode.parentNode;a.getForm()._ccDeactivate(a._idd);c.checkEnteredValue(this.parentNode.parentNode);a.getForm().callEvent("onBlur",[a._idd])};this.ev||(_isIE?document.body.attachEvent("onclick",this.clickEvent):window.addEventListener("click",this.clickEvent,!1),this.ev=!0);return this},clickEvent:function(){dhtmlXForm.prototype.items.colorpicker.hideAllColorPickers()},
hideAllColorPickers:function(){for(var a in this.colorpicker)a!=this.inp&&this.colorpicker[a].hide();this.inp=null},getColorPicker:function(a){return this.colorpicker[a._idd]},destruct:function(a){this.colorpicker[a._idd].elements.cs_Content.onclick=null;this.colorpicker[a._idd].unload&&this.colorpicker[a._idd].unload();this.colorpicker[a._idd]=null;try{delete this.colorpicker[a._idd]}catch(b){}this.cz[a._idd].parentNode.removeChild(this.cz[a._idd]);this.cz[a._idd]=null;try{delete this.cz[a._idd]}catch(c){}var d=
0,e;for(e in this.colorpicker)d++;0==d&&(_isIE?document.body.detachEvent("onclick",this.clickEvent):window.removeEventListener("click",this.clickEvent,!1),this.ev=!1);a.childNodes[a._ll?1:0].childNodes[0]._idd=null;a.childNodes[a._ll?1:0].childNodes[0].onclick=null;a.childNodes[a._ll?1:0].childNodes[0].onblur=null;this.d2(a)},checkEnteredValue:function(a){this.setValue(a,a.childNodes[a._ll?1:0].childNodes[0].value)}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setValue:1,getValue:1,updateValue:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.colorpicker[a]=dhtmlXForm.prototype.items.input[a]})();dhtmlXForm.prototype.items.colorpicker.doAttachChangeLS=dhtmlXForm.prototype.items.select.doAttachChangeLS;dhtmlXForm.prototype.items.colorpicker.d2=dhtmlXForm.prototype.items.input.destruct;
dhtmlXForm.prototype.getColorPicker=function(a){return this.doWithItem(a,"getColorPicker")};
"undefined"!=typeof dhtmlXColorPicker&&(dhtmlXColorPicker.prototype.unload=function(){this.elements.cs_SelectorVer.parentNode.removeChild(this.elements.cs_SelectorVer);this.elements.cs_SelectorHor.parentNode.removeChild(this.elements.cs_SelectorHor);this.elements.cs_SelectorVer=null;this.elements.cs_SelectorHor=null;this.elements.cs_SelectorDiv.ondblclick=null;this.elements.cs_SelectorDiv.onmousedown=null;this.elements.cs_SelectorDiv.z=null;this.elements.cs_SelectorDiv.parentNode.removeChild(this.elements.cs_SelectorDiv);
this.elements.cs_SelectorDiv=null;this.elements.cs_LumSelectArrow.onmousedown=null;this.elements.cs_LumSelectArrow.z=null;this.elements.cs_LumSelectArrow.parentNode.removeChild(this.elements.cs_LumSelectArrow);this.elements.cs_LumSelectArrow=null;this.elements.cs_LumSelectLine.parentNode.removeChild(this.elements.cs_LumSelectLine);for(this.elements.cs_LumSelectLine=null;0<this.elements.cs_LumSelect.childNodes.length;)this.elements.cs_LumSelect.removeChild(this.elements.cs_LumSelect.childNodes[0]);
this.elements.cs_LumSelect.ondblclick=null;this.elements.cs_LumSelect.onmousedown=null;this.elements.cs_LumSelect.z=null;this.elements.cs_LumSelect.parentNode.removeChild(this.elements.cs_LumSelect);this.elements.cs_LumSelect=null;this.elements.cs_EndColor.parentNode.removeChild(this.elements.cs_EndColor);this.elements.cs_EndColor=null;this.elements.cs_InputHue.onchange=null;this.elements.cs_InputHue.z=null;this.elements.cs_InputHue.parentNode.removeChild(this.elements.cs_InputHue);this.elements.cs_InputHue=
null;this.elements.cs_InputRed.onchange=null;this.elements.cs_InputRed.z=null;this.elements.cs_InputRed.parentNode.removeChild(this.elements.cs_InputRed);this.elements.cs_InputRed=null;this.elements.cs_InputSat.onchange=null;this.elements.cs_InputSat.z=null;this.elements.cs_InputSat.parentNode.removeChild(this.elements.cs_InputSat);this.elements.cs_InputSat=null;this.elements.cs_InputGreen.onchange=null;this.elements.cs_InputGreen.z=null;this.elements.cs_InputGreen.parentNode.removeChild(this.elements.cs_InputGreen);
this.elements.cs_InputGreen=null;this.elements.cs_Hex.onchange=null;this.elements.cs_Hex.z=null;this.elements.cs_Hex.parentNode.removeChild(this.elements.cs_Hex);this.elements.cs_Hex=null;this.elements.cs_InputLum.onchange=null;this.elements.cs_InputLum.z=null;this.elements.cs_InputLum.parentNode.removeChild(this.elements.cs_InputLum);this.elements.cs_InputLum=null;this.elements.cs_InputBlue.onchange=null;this.elements.cs_InputBlue.z=null;this.elements.cs_InputBlue.parentNode.removeChild(this.elements.cs_InputBlue);
this.elements.cs_InputBlue=null;this.elements.cs_ButtonOk.onclick=null;this.elements.cs_ButtonOk.onmouseout=null;this.elements.cs_ButtonOk.onmouseover=null;this.elements.cs_ButtonOk.z=null;this.elements.cs_ButtonOk.parentNode.removeChild(this.elements.cs_ButtonOk);this.elements.cs_ButtonOk=null;this.elements.cs_ButtonCancel.onclick=null;this.elements.cs_ButtonCancel.onmouseout=null;this.elements.cs_ButtonCancel.onmouseover=null;this.elements.cs_ButtonCancel.z=null;this.elements.cs_ButtonCancel.parentNode.removeChild(this.elements.cs_ButtonCancel);
this.elements.cs_ButtonCancel=null;this.elements.cs_ContentTable.parentNode.removeChild(this.elements.cs_ContentTable);this.elements.cs_ContentTable=null;this.elements.cs_Content.parentNode.removeChild(this.elements.cs_Content);this.z=this.elements.cs_Content=null;this.detachAllEvents();this.customColors=this.linkToObjects=this.language=this.elements=this.container=this._changeValueHEX=this._changeValueRGB=this._changeValueHSV=this._selectCustomColor=this._getColorHEX=this._reinitCustomColors=this._initCustomColors=
this._hex2dec=this._dec2hex=this._colorizeLum=this._drawLum=this._rgb2hsv=this._hsv2rgb=this._drawValues=this._calculateColor=this._getOffsetLeft=this._getOffsetTop=this._getOffset=this._stopMoveLum=this._mouseMoveLum=this._startMoveLum=this._stopMoveColor=this._mouseMoveColor=this._startMoveColor=this._setLumPos=this._getScrollers=this._setCrossPos=this._initEvents=this._initCsIdElement=this.unload=this.showA=this.show=this.normalButton=this.hoverButton=this.isVisible=this.setSkin=this.loadUserLanguage=
this.init=this.setImagePath=this.hideOnSelect=this.linkTo=this.getSelectedColor=this.setOnCancelHandler=this.setOnSelectHandler=this.hide=this.setPosition=this.close=this.setColor=this.setCustomColors=this.redraw=this.restoreFromHEX=this.restoreFromHSV=this.restoreFromRGB=this.addCustomColor=this.restoreColor=this.saveColor=this.clickCancel=this.clickOk=this.resetHandlers=this.generate=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=null});
dhtmlXForm.prototype.items.container={render:function(a,b){a._type="container";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"DIV",null,!0,!0,"dhxform_container");return this},getContainer:function(a){return a.childNodes[a._ll?1:0].childNodes[0]},enable:function(a){a._enabled=!0;0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a.callEvent("onEnable",[a._idd])},disable:function(a){a._enabled=!1;0>String(a.className).search("disabled")&&
(a.className+=" disabled");a.callEvent("onDisable",[a._idd])},doAttachEvents:function(){},setValue:function(){},getValue:function(){return null}};dhtmlXForm.prototype.getContainer=function(a){return this.doWithItem(a,"getContainer")};(function(){for(var a in dhtmlXForm.prototype.items.input)dhtmlXForm.prototype.items.container[a]||(dhtmlXForm.prototype.items.container[a]=dhtmlXForm.prototype.items.input[a])})();
dhtmlXForm.prototype.items.combo={render:function(a,b){a._type="combo";a._enabled=!0;a._value=null;a._newValue=null;this.doAddLabel(a,b);this.doAddInput(a,b,"SELECT",null,!0,!0,"dhxform_select");this.doAttachEvents(a);this.doLoadOpts(a,b);a.onselectstart=function(a){a=a||event;return a.returnValue=!0};a.childNodes[a._ll?1:0].childNodes[0].setAttribute("opt_type",b.comboType||"");a._combo=new dhtmlXComboFromSelect(a.childNodes[a._ll?1:0].childNodes[0]);a._combo._currentComboValue=a._combo.getSelectedValue();
a._combo.DOMelem_input.id=b.uid;a._combo.DOMelem_button.onmousedown=function(){return!1};b.connector&&this.doLoadOptsConnector(a,b.connector);b.filtering&&a._combo.enableFilteringMode(!0);!0==b.readonly&&this.setReadonly(a,!0);b.style&&(a._combo.DOMelem_input.style.cssText+=b.style);"function"==typeof window.addEventListener?(a._combo.DOMelem_input.addEventListener("focus",this._comboFocus,!1),a._combo.DOMelem_input.addEventListener("blur",this._comboBlur,!1)):(a._combo.DOMelem_input.attachEvent("onfocus",
this._comboFocus),a._combo.DOMelem_input.attachEvent("onblur",this._comboBlur));return this},destruct:function(a){a.childNodes[a._ll?1:0].childNodes[0].onchange=null;"function"==typeof window.addEventListener?(a._combo.DOMelem_input.removeEventListener("focus",this._comboFocus,!1),a._combo.DOMelem_input.removeEventListener("blur",this._comboBlur,!1)):(a._combo.DOMelem_input.detachEvent("onfocus",this._comboFocus),a._combo.DOMelem_input.detachEvent("onblur",this._comboBlur));a._combo._currentComboValue=
null;a._combo.destructor();a._combo=null;a._apiChange=null;this.d2(a)},doAttachEvents:function(a){var b=this;a.childNodes[a._ll?1:0].childNodes[0].onchange=function(){b.doOnChange(this);b.doValidate(this.DOMParent.parentNode.parentNode)}},doValidate:function(a){a.getForm().hot_validate&&this._validate(a)},doOnChange:function(a){var b=a.DOMParent.parentNode.parentNode;if(!b._apiChange){a._newComboValue=a.getSelectedValue();if(a._newComboValue!=a._currentComboValue){if(b.checkEvent("onBeforeChange")&&
!0!==b.callEvent("onBeforeChange",[b._idd,a._currentComboValue,a._newComboValue]))return window.setTimeout(function(){a.setComboValue(a._currentComboValue)},1),!1;a._currentComboValue=a._newComboValue;b.callEvent("onChange",[b._idd,a._currentComboValue])}b._autoCheck(b._enabled)}},doLoadOptsConnector:function(a,b){var c=this,d=a;a._connector_working=!0;a._apiChange=!0;a._combo.loadXML(b,function(){d.callEvent("onOptionsLoaded",[d._idd]);d._connector_working=!1;null!=d._connector_value&&(c.setValue(d,
d._connector_value),d._connector_value=null);d._apiChange=!1;c=d=null})},enable:function(a){0<=String(a.className).search("disabled")&&(a.className=String(a.className).replace(/disabled/gi,""));a._enabled=!0;a._combo.disable(!1);a._combo.DOMelem_button.src=(window.dhx_globalImgPath?dhx_globalImgPath:"")+"combo_select"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif"},disable:function(a){0>String(a.className).search("disabled")&&(a.className+=" disabled");a._enabled=!1;a._combo.disable(!0);a._combo.DOMelem_button.src=
(window.dhx_globalImgPath?dhx_globalImgPath:"")+"combo_select_dis"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif"},getCombo:function(a){return a._combo},setValue:function(a,b){a._connector_working?a._connector_value=b:(a._apiChange=!0,a._combo.setComboValue(b),a._combo._currentComboValue=a._combo.getActualValue(),a._apiChange=!1)},getValue:function(a){return a._combo.getActualValue()},setWidth:function(a,b){a.childNodes[a._ll?1:0].childNodes[0].style.width=b+"px"},setReadonly:function(a,b){a._combo&&(a._combo_ro=
b,a._combo.readonly(a._combo_ro))},isReadonly:function(a){return a._combo_ro||!1},setFocus:function(a){a._enabled&&a._combo.DOMelem_input.focus()},_setCss:function(a,b,c){a._combo.DOMlist.style.fontSize=c},_comboFocus:function(a){a=a||event;var b=(a.target||a.srcElement).parentNode.parentNode;a=b.parentNode.parentNode;"dhx_terrace"==a.getForm().skin&&0>b.className.search(/combo_in_focus/)&&(b.className+=" combo_in_focus");for(b=0;b<a._combo.DOMlist.childNodes.length;b++)a._combo.DOMlist.childNodes[b].onmousedown=
function(){return!1};a.callEvent("onFocus",[a._idd]);a=b=null},_comboBlur:function(a){a=a||event;var b=(a.target||a.srcElement).parentNode.parentNode;a=b.parentNode.parentNode;"dhx_terrace"==a.getForm().skin&&0<=b.className.search(/combo_in_focus/)&&(b.className=b.className.replace(/combo_in_focus/gi,""));for(b=0;b<a._combo.DOMlist.childNodes.length;b++)a._combo.DOMlist.childNodes[b].onmousedown=null;a.callEvent("onBlur",[a._idd])}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doLoadOpts:1,doUnloadNestedLists:1,setText:1,getText:1,isEnabled:1,_checkNoteWidth:1})dhtmlXForm.prototype.items.combo[a]=dhtmlXForm.prototype.items.select[a]})();dhtmlXForm.prototype.items.combo.d2=dhtmlXForm.prototype.items.select.destruct;dhtmlXForm.prototype.getCombo=function(a){return this.doWithItem(a,"getCombo")};
dhtmlXForm.prototype.items.editor={editor:{},render:function(a,b){isNaN(b.rows);a._type="editor";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"DIV",null,!0,!0,"dhxform_item_template dhxeditor_inside");a._value=b.value||"";var c=this;this.editor[a._idd]=new dhtmlXEditor(a.childNodes[a._ll?1:0].childNodes[0]);this.editor[a._idd].setContent(a._value);this.editor[a._idd].attachEvent("onAccess",function(b,e){_dhxForm_doClick(document.body,"click");if("blur"==b){if(c.doOnBlur(a,this),a.callEvent("onBlur",
[a._idd]),"dhx_terrace"==a.getForm().skin)a.childNodes[a._ll?1:0].childNodes[0].className="dhxform_item_template dhxeditor_inside"}else if(a.callEvent("onEditorAccess",[a._idd,b,e,this,a.getForm()]),a.callEvent("onFocus",[a._idd]),"dhx_terrace"==a.getForm().skin)a.childNodes[a._ll?1:0].childNodes[0].className="dhxform_item_template dhxeditor_inside_focus"});this.editor[a._idd].attachEvent("onToolbarClick",function(b){a.callEvent("onEditorToolbarClick",[a._idd,b,this,a.getForm()])});b.readonly&&this.setReadonly(a,
!0);a.childNodes[a._ll?0:1].childNodes[0].removeAttribute("for");a.childNodes[a._ll?0:1].childNodes[0].onclick=function(){c.editor[a._idd]._focus()};this.editor[a._idd]._isToolbar||(this.editor[a._idd].base.firstChild.onmousedown=function(){return!1});return this},doOnBlur:function(a,b){var c=b.getContent();a._value!=c&&(a.checkEvent("onBeforeChange")&&!0!==a.callEvent("onBeforeChange",[a._idd,a._value,c])?b.setContent(a._value):(a._value=c,a.callEvent("onChange",[a._idd,c])))},setValue:function(a,
b){a._value!=b&&(a._value=b,this.editor[a._idd].setContent(a._value))},getValue:function(a){a._value=this.editor[a._idd].getContent();return a._value},enable:function(a){this.editor[a._idd].setReadonly(!1);this.doEn(a)},disable:function(a){this.editor[a._idd].setReadonly(!0);this.doDis(a)},setReadonly:function(a,b){this.editor[a._idd].setReadonly(b)},getEditor:function(a){return this.editor[a._idd]||null},destruct:function(a){a.childNodes[a._ll?0:1].childNodes[0].onclick=null;this.editor[a._idd].unload();
this.editor[a._idd]=null;this.d2(a)},setFocus:function(a){this.editor[a._idd]._focus()}};(function(){for(var a in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,setWidth:1,isEnabled:1})dhtmlXForm.prototype.items.editor[a]=dhtmlXForm.prototype.items.template[a]})();dhtmlXForm.prototype.items.editor.d2=dhtmlXForm.prototype.items.select.destruct;dhtmlXForm.prototype.items.editor.doEn=dhtmlXForm.prototype.items.select.enable;dhtmlXForm.prototype.items.editor.doDis=dhtmlXForm.prototype.items.select.disable;
dhtmlXForm.prototype.getEditor=function(a){return this.doWithItem(a,"getEditor")};var globalActiveDHTMLGridObject;String.prototype._dhx_trim=function(){return this.replace(/&nbsp;/g," ").replace(/(^[ \t]*)|([ \t]*$)/g,"")};function dhtmlxArray(a){return dhtmlXHeir(a||[],dhtmlxArray._master)}
dhtmlxArray._master={_dhx_find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},_dhx_insertAt:function(a,b){this[this.length]=null;for(var c=this.length-1;c>=a;c--)this[c]=this[c-1];this[a]=b},_dhx_removeAt:function(a){this.splice(a,1)},_dhx_swapItems:function(a,b){var c=this[a];this[a]=this[b];this[b]=c}};
function dhtmlXGridObject(a){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}a?"object"==typeof a?(this.entBox=a,this.entBox.id)||(this.entBox.id="cgrid2_"+this.uid()):this.entBox=document.getElementById(a):(this.entBox=document.createElement("DIV"),this.entBox.id="cgrid2_"+this.uid());this.entBox.innerHTML="";dhtmlxEventable(this);var c=this;this._wcorr=0;this.fontWidth=7;this.row=this.cell=null;this.iconURL="";this.editor=null;this._dclE=this._f2kE=!0;this.combos=[];this.defVal=
[];this.rowsAr={};this.rowsBuffer=dhtmlxArray();this.rowsCol=dhtmlxArray();this._data_cache={};this._ecache={};this._ud_enabled=!0;this.xmlLoader=new dtmlXMLLoaderObject(this.doLoadDetails,this,!0,this.no_cashe);this._maskArr=[];this.selectedRows=dhtmlxArray();this.UserData={};this._sizeFix=this._borderFix=0;this.entBox.className+=" gridbox";this.entBox.style.width=this.entBox.getAttribute("width")||(window.getComputedStyle?this.entBox.style.width||window.getComputedStyle(this.entBox,null).width:
this.entBox.currentStyle?this.entBox.currentStyle.width:this.entBox.style.width||0)||"100%";this.entBox.style.height=this.entBox.getAttribute("height")||(window.getComputedStyle?this.entBox.style.height||window.getComputedStyle(this.entBox,null).height:this.entBox.currentStyle?this.entBox.currentStyle.height:this.entBox.style.height||0)||"100%";this.entBox.style.cursor="default";this.entBox.onselectstart=function(){return!1};a=function(a){var b=document.createElement("TABLE");b.cellSpacing=b.cellPadding=
0;b.style.cssText="width:100%;table-layout:fixed;";b.className=a.substr(2);return b};this.obj=a("c_obj");this.hdr=a("c_hdr");this.hdr.style.marginRight="10px";this.hdr.style.paddingRight="10px";this.objBox=document.createElement("DIV");this.objBox.style.width="100%";this.objBox.style.overflow="auto";this.objBox.appendChild(this.obj);this.objBox.className="objbox";dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this);this.hdrBox=document.createElement("DIV");this.hdrBox.style.width="100%";this.hdrBox.style.height=
"20px";this.hdrBox.style.overflow="hidden";this.hdrBox.className="xhdr";this.preloadImagesAr=[];this.sortImg=document.createElement("IMG");this.sortImg.style.display="none";this.hdrBox.appendChild(this.sortImg);this.hdrBox.appendChild(this.hdr);this.hdrBox.style.position="relative";this.entBox.appendChild(this.hdrBox);this.entBox.appendChild(this.objBox);this.entBox.grid=this;this.objBox.grid=this;this.hdrBox.grid=this;this.obj.grid=this;this.hdr.grid=this;this.cellWidthPX=[];this.cellWidthPC=[];
this.cellWidthType=this.entBox.cellwidthtype||"px";this.delim=this.entBox.delimiter||",";this._csvDelim=",";this.hdrLabels=[];this.columnIds=[];this.columnColor=[];this._hrrar=[];this.cellType=dhtmlxArray();this.cellAlign=[];this.initCellWidth=[];this.fldSort=[];this._srdh=_isIE&&"BackCompat"!=document.compatMode?22:20;this.imgURL=window.dhx_globalImgPath||"";this.isActive=!1;this.isEditable=!0;this.pagingOn=this.useImagesInHeader=!1;this.rowsBufferOutSize=0;dhtmlxEvent(window,"unload",function(){try{c.destructor&&
c.destructor()}catch(a){}});this.setSkin=function(a){this.skin_name=a;var b=this.entBox.className.split(" gridbox")[0];this.entBox.className=b+" gridbox gridbox_"+a;this.skin_h_correction=0;this.enableAlterCss("ev_"+a,"odd_"+a,this.isTreeGrid());this._fixAlterCss();switch(a){case "clear":this._topMb=document.createElement("DIV");this._topMb.className="topMumba";this._topMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinC_top_left.gif'><img style='right:20px' src='"+this.imgURL+"skinC_top_right.gif'>";
this.entBox.appendChild(this._topMb);this._botMb=document.createElement("DIV");this._botMb.className="bottomMumba";this._botMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinD_bottom_left.gif'><img style='right:20px' src='"+this.imgURL+"skinD_bottom_right.gif'>";this.entBox.appendChild(this._botMb);"absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative");this.skin_h_correction=20;break;case "dhx_terrace":this._srdh=40;this.forceDivInHeader=!0;break;case "dhx_skyblue":case "dhx_web":case "glassy_blue":case "dhx_black":case "dhx_blue":case "modern":case "light":this._srdh=
20;this.forceDivInHeader=!0;break;case "xp":this.forceDivInHeader=!0;this._srdh=_isIE&&"BackCompat"!=document.compatMode?26:22;break;case "mt":this._srdh=_isIE&&"BackCompat"!=document.compatMode?26:22;break;case "gray":_isIE&&"BackCompat"!=document.compatMode&&(this._srdh=22)}_isIE&&this.hdr&&(a=this.hdr.parentNode,a.removeChild(this.hdr),a.appendChild(this.hdr));this.setSizes()};_isIE&&this.preventIECaching(!0);window.dhtmlDragAndDropObject&&(this.dragger=new dhtmlDragAndDropObject);this._doOnScroll=
function(a,b){this.callEvent("onScroll",[this.objBox.scrollLeft,this.objBox.scrollTop]);this.doOnScroll(a,b)};this.doOnScroll=function(a,b){this.hdrBox.scrollLeft=this.objBox.scrollLeft;this.ftr&&(this.ftr.parentNode.scrollLeft=this.objBox.scrollLeft);!b&&this._srnd&&(this._dLoadTimer&&window.clearTimeout(this._dLoadTimer),this._dLoadTimer=window.setTimeout(function(){c._update_srnd_view&&c._update_srnd_view()},100))};this.attachToObject=function(a){a.appendChild(this.globalBox?this.globalBox:this.entBox);
this.setSizes()};this.init=function(a){this.isTreeGrid()&&!this._h2&&(this._h2=new dhtmlxHierarchy,this._fake&&!this._realfake&&(this._fake._h2=this._h2),this._tgc={imgURL:null});if(this._hstyles){this.editStop();this.fldSorted=this.r_fldSorted=this.resized=this.lastClicked=null;this.cellWidthPX=[];this.cellWidthPC=[];if(0<this.hdr.rows.length){var b=this.xmlFileUrl;this.clearAll(!0);this.xmlFileUrl=b}for(var f=this.hdr.insertRow(0),b=0;b<this.hdrLabels.length;b++)f.appendChild(document.createElement("TH")),
f.childNodes[b]._cellIndex=b,f.childNodes[b].style.height="0px";_isIE&&8>_isIE&&document.body.style.msTouchAction==this.undefined?f.style.position="absolute":f.style.height="auto";f=this.hdr.insertRow(_isKHTML?2:1);f._childIndexes=[];for(var g=0,b=0;b<this.hdrLabels.length;b++)f._childIndexes[b]=b-g,this.hdrLabels[b]==this.splitSign&&0!=b?(_isKHTML&&f.insertCell(b-g),f.cells[b-g-1].colSpan=(f.cells[b-g-1].colSpan||1)+1,f.childNodes[b-g-1]._cellIndex++,g++,f._childIndexes[b]=b-g):(f.insertCell(b-g),
f.childNodes[b-g]._cellIndex=b,f.childNodes[b-g]._cellIndexS=b,this.setColumnLabel(b,this.hdrLabels[b]));0==g&&(f._childIndexes=null);this._cCount=this.hdrLabels.length;_isIE&&window.setTimeout(function(){c.setSizes&&c.setSizes()},1);this.obj.firstChild||this.obj.appendChild(document.createElement("TBODY"));f=this.obj.firstChild;if(!f.firstChild)for(f.appendChild(document.createElement("TR")),f=f.firstChild,_isIE&&8>_isIE&&document.body.style.msTouchAction==this.undefined?f.style.position="absolute":
f.style.height="auto",b=0;b<this.hdrLabels.length;b++)f.appendChild(document.createElement("TH")),f.childNodes[b].style.height="0px";this._c_order=null;!0!=this.multiLine&&(this.obj.className+=" row20px");this.sortImg.style.position="absolute";this.sortImg.style.display="none";this.sortImg.src=this.imgURL+"sort_desc.gif";this.sortImg.defLeft=0;this.noHeader?this.hdrBox.style.display="none":this.noHeader=!1;this.attachHeader();this.attachHeader(0,0,"_aFoot");this.setSizes();a&&this.parseXML();this.obj.scrollTop=
0;this.dragAndDropOff&&this.dragger.addDragLanding(this.entBox,this);this._initDrF&&this._initD();this._init_point&&this._init_point()}};this.setColumnSizes=function(a){for(var b=0,c=[],g=0,k=0;k<this._cCount;k++)if("*"!=this.initCellWidth[k]||this._hrrar[k]){if("%"==this.cellWidthType){"undefined"==typeof this.cellWidthPC[k]&&(this.cellWidthPC[k]=this.initCellWidth[k]);var h=a*this.cellWidthPC[k]/100||0;0.5<g&&(h++,g--);var l=this.cellWidthPX[k]=Math.floor(h),g=g+h-l}else"undefined"==typeof this.cellWidthPX[k]&&
(this.cellWidthPX[k]=this.initCellWidth[k]);this._hrrar[k]||(b+=1*this.cellWidthPX[k])}else this._awdth=!1,c.push(k);if(c.length){g=Math.floor((a-b)/c.length);0>g&&(g=1);for(k=0;k<c.length;k++)h=Math.max(this._drsclmW?this._drsclmW[c[k]]||0:0,g),this.cellWidthPX[c[k]]=h,b+=h;a>b&&(this.cellWidthPX[c[c.length-1]]+=a-b,b=a);this._setAutoResize()}this.obj.style.width=b+"px";this.hdr.style.width=b+"px";this.ftr&&(this.ftr.style.width=b+"px");this.chngCellWidth();return b};this.setSizes=function(){if(this.hdr.rows[0]){var a=
this.quirks=_isIE&&"BackCompat"==document.compatMode,b=(this.entBox.offsetWidth-this.entBox.clientWidth)/2;if(!this.dontSetSizes)if(this.globalBox){var f=(this.globalBox.offsetWidth-this.globalBox.clientWidth)/2;if(this._delta_x&&!this._realfake){var g=this.globalBox.clientWidth;this.globalBox.style.width=this._delta_x;this.entBox.style.width=Math.max(0,this.globalBox.clientWidth+(a?2*f:0)-this._fake.entBox.clientWidth)+"px";g!=this.globalBox.clientWidth&&this._fake._correctSplit(this._fake.entBox.clientWidth)}this._delta_y&&
!this._realfake&&(this.globalBox.style.height=this._delta_y,this.entBox.style.overflow=this._fake.entBox.style.overflow="hidden",this.entBox.style.height=this._fake.entBox.style.height=this.globalBox.clientHeight+(a?2*f:0)+"px")}else this._delta_x&&(this.entBox.parentNode&&"TD"==this.entBox.parentNode.tagName?(this.entBox.style.width="1px",this.entBox.style.width=parseInt(this._delta_x)*this.entBox.parentNode.clientWidth/100-2*b+"px"):this.entBox.style.width=this._delta_x),this._delta_y&&(this.entBox.style.height=
this._delta_y);window.clearTimeout(this._sizeTime);if(this.entBox.offsetWidth||this.globalBox&&this.globalBox.offsetWidth){var k=this._wthB||!this.entBox.cmp&&!this._delta_x||0!=(this.skin_name||"").indexOf("dhx")||a?0:2,h=this._wthB||!this.entBox.cmp&&!this._delta_y||0!=(this.skin_name||"").indexOf("dhx")||a?0:2;this._sizeFix&&(k-=this._sizeFix,h-=this._sizeFix);var f=this.parentGrid?!1:this.objBox.scrollHeight>this.objBox.offsetHeight,g=dhtmlx.$customScroll?0:18,l=this.entBox.clientWidth-(this.skin_h_correction||
0)*(a?0:1)-k,k=this.entBox.clientWidth-(this.skin_h_correction||0)-k,m=this.entBox.clientHeight-h,n=this.setColumnSizes(k-(f?g:0)-(this._correction_x||0)),s=this.parentGrid?!1:this.objBox.scrollWidth>this.objBox.offsetWidth||"scroll"==this.objBox.style.overflowX,h=this.hdr.clientHeight,u=this.ftr?this.ftr.clientHeight:0,v=m-h-u;this._awdth&&this._awdth[0]&&99999==this._awdth[1]&&(s=0);this._ahgr&&(v=this._ahgrMA?this.entBox.parentNode.clientHeight-h-u:this.obj.offsetHeight+(s?g:0)+(this._correction_y||
0),this._ahgrM&&(v=this._ahgrF?Math.min(this._ahgrM,v+h+u)-h-u:Math.min(this._ahgrM,v)),f&&v>=this.obj.scrollHeight+(s?g:0))&&(f=!1,this.setColumnSizes(k-(this._correction_x||0)));this._awdth&&this._awdth[0]&&("%"==this.cellWidthType&&(this.cellWidthType="px"),this._fake&&(n+=this._fake.entBox.clientWidth),l=Math.min(Math.max(n+(f?g:0),this._awdth[2]),this._awdth[1])+(this._correction_x||0),this._fake&&(l-=this._fake.entBox.clientWidth));v=Math.max(0,v);this._ff_size_delta=0.1==this._ff_size_delta?
0.2:0.1;_isFF||(this._ff_size_delta=0);this.dontSetSizes||(this.entBox.style.width=Math.max(0,l+(a?2:0)*b+this._ff_size_delta)+"px",this.entBox.style.height=v+(a?2:0)*b+h+u+"px");this.objBox.style.height=v+(a&&!f?2:0)*b+"px";this.hdrBox.style.height=h+"px";v!=m&&this.doOnScroll(0,!this._srnd);(a=this["setSizes_"+this.skin_name])&&a.call(this);this.setSortImgPos();h!=this.hdr.clientHeight&&this._ahgr&&this.setSizes();this.callEvent("onSetSizes",[])}else this._sizeTime=window.setTimeout(function(){c.setSizes&&
c.setSizes()},250)}};this.setSizes_clear=function(){var a=this.hdr.offsetHeight,b=this.entBox.offsetWidth,c=a+this.objBox.offsetHeight;this._topMb.style.top=(a||0)+"px";this._topMb.style.width=b+20+"px";this._botMb.style.top=c-3+"px";this._botMb.style.width=b+20+"px"};this.chngCellWidth=function(){_isOpera&&this.ftr&&(this.ftr.width=this.objBox.scrollWidth+"px");for(var a=this._cCount,b=0;b<a;b++)if(this.hdr.rows[0].cells[b].style.width=this.cellWidthPX[b]+"px",this.obj.rows[0].childNodes[b].style.width=
this.cellWidthPX[b]+"px",this.ftr)this.ftr.rows[0].cells[b].style.width=this.cellWidthPX[b]+"px"};this.setDelimiter=function(a){this.delim=a};this.setInitWidthsP=function(a,b){this.cellWidthType="%";this.initCellWidth=a.split(this.delim.replace(/px/gi,""));b||this._setAutoResize()};this._setAutoResize=function(){if(!this._realfake){var a=this;dhtmlxEvent(window,"resize",function(){window.clearTimeout(a._resize_timer);a._setAutoResize&&(a._resize_timer=window.setTimeout(function(){a.setSizes&&a.setSizes();
a._fake&&a._fake._correctSplit()},100))})}};this.setInitWidths=function(a){this.cellWidthType="px";this.initCellWidth=a.split(this.delim);if(_isFF)for(a=0;a<this.initCellWidth.length;a++)"*"!=this.initCellWidth[a]&&(this.initCellWidth[a]=parseInt(this.initCellWidth[a]))};this.enableMultiline=function(a){this.multiLine=convertStringToBoolean(a)};this.enableMultiselect=function(a){this.selMultiRows=convertStringToBoolean(a)};this.setImagesPath=this.setImagePath=function(a){this.imgURL=a};this.setIconsPath=
this.setIconPath=function(a){this.iconURL=a};this.changeCursorState=function(a){var b=a.target||a.srcElement;"TD"!=b.tagName&&(b=this.getFirstParentOfType(b,"TD"));if(b){if("TD"==b.tagName&&this._drsclmn&&!this._drsclmn[b._cellIndex])return b.style.cursor="default";var c=(a.layerX||0)+(_isIE||"DIV"!=a.target.tagName?0:b.offsetLeft);b.style.cursor=b.offsetWidth-(a.offsetX||-1*(parseInt(this.getPosition(b,this.hdrBox))-c))<(_isOpera?20:10)?"E-resize":"default";_isOpera&&(this.hdrBox.scrollLeft=this.objBox.scrollLeft)}};
this.startColResize=function(a){this.resized&&this.stopColResize();this.resized=null;var b=a.target||a.srcElement;"TD"!=b.tagName&&(b=this.getFirstParentOfType(b,"TD"));var f=a.clientX,g=this.hdr.offsetWidth,k=parseInt(b.offsetWidth);"TD"!=b.tagName||"default"==b.style.cursor||this._drsclmn&&!this._drsclmn[b._cellIndex]||(c._old_d_mm=document.body.onmousemove,c._old_d_mu=document.body.onmouseup,document.body.onmousemove=function(a){c&&c.doColResize(a||window.event,b,k,f,g)},document.body.onmouseup=
function(){c&&c.stopColResize()})};this.stopColResize=function(){document.body.onmousemove=c._old_d_mm||"";document.body.onmouseup=c._old_d_mu||"";this.setSizes();this.doOnScroll(0,1);this.callEvent("onResizeEnd",[this])};this.doColResize=function(a,b,c,g,k){b.style.cursor="E-resize";this.resized=b;a=c+(a.clientX-g);if(this.callEvent("onResize",[b._cellIndex,a,this])){_isIE&&(this.objBox.scrollLeft=this.hdrBox.scrollLeft);if(1<b.colSpan){c=[];for(g=0;g<b.colSpan;g++)c[g]=Math.round(a*this.hdr.rows[0].childNodes[b._cellIndexS+
g].offsetWidth/b.offsetWidth);for(g=0;g<b.colSpan;g++)this._setColumnSizeR(b._cellIndexS+1*g,c[g])}else this._setColumnSizeR(b._cellIndex,a);this.doOnScroll(0,1);this.setSizes();this._fake&&this._awdth&&this._fake._correctSplit()}};this._setColumnSizeR=function(a,b){if(b>(this._drsclmW&&!this._notresize?this._drsclmW[a]||10:10)){this.obj.rows[0].childNodes[a].style.width=b+"px";this.hdr.rows[0].childNodes[a].style.width=b+"px";this.ftr&&(this.ftr.rows[0].childNodes[a].style.width=b+"px");if("px"==
this.cellWidthType)this.cellWidthPX[a]=b;else{var c=parseInt(this.entBox.offsetWidth);this.objBox.scrollHeight>this.objBox.offsetHeight&&(c-=17);c=Math.round(b/c*100);this.cellWidthPC[a]=c}"none"!=this.sortImg.style.display&&this.setSortImgPos()}};this.setSortImgState=function(a,b,c,g){c=(c||"asc").toLowerCase();if(convertStringToBoolean(a)){this.sortImg.src="asc"==c?this.imgURL+"sort_asc.gif":this.imgURL+"sort_desc.gif";this.sortImg.style.display="";this.fldSorted=this.hdr.rows[0].childNodes[b];
var k=this.hdr.rows[g||1];if(k){for(var h=0;h<k.childNodes.length;h++)if(k.childNodes[h]._cellIndexS==b)return this.r_fldSorted=k.childNodes[h],this.setSortImgPos();return this.setSortImgState(a,b,c,(g||1)+1)}}else this.sortImg.style.display="none",this.fldSorted=this.r_fldSorted=null};this.setSortImgPos=function(a,b,c,g){if(!this._hrrar||!this._hrrar[this.r_fldSorted?this.r_fldSorted._cellIndex:a])if(g||(g=a?this.hdr.rows[c||0].cells[a]:this.r_fldSorted),null!=g)a=this.getPosition(g,this.hdrBox),
this.sortImg.style.left=Number(a[0]+g.offsetWidth-13)+"px",this.sortImg.defLeft=parseInt(this.sortImg.style.left),this.sortImg.style.top=Number(a[1]+5)+"px",this.useImagesInHeader||b||(this.sortImg.style.display="inline"),this.sortImg.style.left=this.sortImg.defLeft+"px"};this.setActive=function(a){0==arguments.length&&(a=!0);!0==a?(globalActiveDHTMLGridObject&&globalActiveDHTMLGridObject!=this&&(globalActiveDHTMLGridObject.editStop(),globalActiveDHTMLGridObject.callEvent("onBlur",[globalActiveDHTMLGridObject])),
globalActiveDHTMLGridObject=this,this.isActive=!0):(this.isActive=!1,this.callEvent("onBlur",[this]))};this._doClick=function(a){var b=0,c=this.getFirstParentOfType(_isIE?a.srcElement:a.target,"TD");if(c){if(this.markedCells){b=0;if(a.shiftKey||a.metaKey)b=1;a.ctrlKey&&(b=2);this.doMark(c,b);return!0}!1!=this.selMultiRows&&(a.shiftKey&&null!=this.row&&this.selectedRows.length&&(b=1),a.ctrlKey||a.metaKey)&&(b=2);this.doClick(c,!0,b)}};this._doContClick=function(a){var b=this.getFirstParentOfType(_isIE?
a.srcElement:a.target,"TD");if(!b||"undefined"==typeof b.parentNode.idd)return this.callEvent("onEmptyClick",[a]),!0;if(2==a.button||_isMacOS&&a.ctrlKey){if(!this.callEvent("onRightClick",[b.parentNode.idd,b._cellIndex,a]))return b=function(a){(a||event).cancelBubble=!0;return!1},(a.srcElement||a.target).oncontextmenu=b,b(a);if(this._ctmndx){if(!this.callEvent("onBeforeContextMenu",[b.parentNode.idd,b._cellIndex,this]))return!0;_isIE&&(a.srcElement.oncontextmenu=function(){event.cancelBubble=!0;return!1});
if(this._ctmndx.showContextMenu){var c=window.document.documentElement,g=window.document.body,g=[c.scrollLeft||g.scrollLeft,c.scrollTop||g.scrollTop];_isIE?(c=a.clientX+g[0],g=a.clientY+g[1]):(c=a.pageX,g=a.pageY);this._ctmndx.showContextMenu(c-1,g-1);this.contextID=this._ctmndx.contextMenuZoneId=b.parentNode.idd+"_"+b._cellIndex;this._ctmndx._skip_hide=!0}else b.contextMenuId=b.parentNode.idd+"_"+b._cellIndex,b.contextMenu=this._ctmndx,b.a=this._ctmndx._contextStart,b.a(b,a),b.a=null;a.cancelBubble=
!0;return!1}}else this._ctmndx&&(this._ctmndx.hideContextMenu?this._ctmndx.hideContextMenu():this._ctmndx._contextEnd());return!0};this.doClick=function(a,b,f,g){this.selMultiRows||(f=0);var k=this.row?this.row.idd:0;this.setActive(!0);f||(f=0);null!=this.cell&&(this.cell.className=this.cell.className.replace(/cellselected/g,""));if("TD"==a.tagName){if(this.checkEvent("onSelectStateChanged"))var h=this.getSelectedId();var l=this.row;if(1==f){var m=this.rowsCol._dhx_find(a.parentNode),n=this.rowsCol._dhx_find(this.lastClicked);
if(m>n)var s=n;else s=m,m=n;for(n=0;n<this.rowsCol.length;n++)if(n>=s&&n<=m)if(this.rowsCol[n]&&!this.rowsCol[n]._sRow)-1==this.rowsCol[n].className.indexOf("rowselected")&&this.callEvent("onBeforeSelect",[this.rowsCol[n].idd,k])&&(this.rowsCol[n].className+=" rowselected",this.selectedRows[this.selectedRows.length]=this.rowsCol[n]);else return this.clearSelection(),this.doClick(a,b,0,g)}else if(2==f&&-1!=a.parentNode.className.indexOf("rowselected")){a.parentNode.className=a.parentNode.className.replace(/rowselected/g,
"");this.selectedRows._dhx_removeAt(this.selectedRows._dhx_find(a.parentNode));var u=!0;g=!1}this.editStop();if("undefined"==typeof a.parentNode.idd)return!0;if(!u&&!a.parentNode._sRow)if(this.callEvent("onBeforeSelect",[a.parentNode.idd,k]))if(this.getSelectedRowId()!=a.parentNode.idd){if(0==f&&this.clearSelection(),this.cell=a,l==a.parentNode&&this._chRRS&&(b=!1),this.row=a.parentNode,this.row.className+=" rowselected",-1==this.selectedRows._dhx_find(this.row))this.selectedRows[this.selectedRows.length]=
this.row}else this.cell=a,this.row=a.parentNode;else b=!1;this.cell&&-1!=this.cell.parentNode.className.indexOf("rowselected")&&(this.cell.className=this.cell.className.replace(/cellselected/g,"")+" cellselected");if(1!=f&&!this.row)return;this.lastClicked=a.parentNode;var v=this.row.idd,w=this.cell;b&&"undefined"!=typeof v&&w&&!u?c.onRowSelectTime=setTimeout(function(){c.callEvent&&c.callEvent("onRowSelect",[v,w._cellIndex])},100):this.callEvent("onRowSelectRSOnly",[v]);this.checkEvent("onSelectStateChanged")&&
(a=this.getSelectedId(),h!=a&&this.callEvent("onSelectStateChanged",[a,h]))}this.isActive=!0;!1!==g&&this.cell&&this.cell.parentNode.idd&&this.moveToVisible(this.cell)};this.selectAll=function(){this.clearSelection();var a=this.rowsBuffer;this.pagingOn&&(a=this.rowsCol);for(var b=0;b<a.length;b++)this.render_row(b).className+=" rowselected";this.selectedRows=dhtmlxArray([].concat(a));this.selectedRows.length&&(this.row=this.selectedRows[0],this.cell=this.row.cells[0]);this._fake&&!this._realfake&&
this._fake.selectAll()};this.selectCell=function(a,b,c,g,k,h){c||(c=!1);"object"!=typeof a&&(a=this.render_row(a));if(!a||-1==a)return null;(b=a.childNodes[b])||(b=a.childNodes[0]);this.markedCells?this.doMark(b,g?2:0):g?this.doClick(b,c,3,h):this.doClick(b,c,0,h);k&&this.editCell()};this.moveToVisible=function(a,b){if(this.pagingOn){var c=Math.floor(this.getRowIndex(a.parentNode.idd)/this.rowsBufferOutSize)+1;c!=this.currentPage&&this.changePage(c)}try{if(a.offsetHeight){var g=a.offsetLeft+a.offsetWidth+
20,c=0;g>this.objBox.offsetWidth+this.objBox.scrollLeft?a.offsetLeft>this.objBox.scrollLeft&&(c=a.offsetLeft-5):a.offsetLeft<this.objBox.scrollLeft&&(g-=2*a.offsetWidth/3,g<this.objBox.scrollLeft&&(c=a.offsetLeft-5));c&&!b&&(this.objBox.scrollLeft=c)}g=a.offsetHeight?a.offsetTop:this.rowsBuffer._dhx_find(this._realfake?this._fake.rowsAr[a.parentNode.idd]:a.parentNode)*this._srdh;if(g+a.offsetHeight+38>this.objBox.offsetHeight+this.objBox.scrollTop)var k=g;else g<this.objBox.scrollTop&&(k=g-5);k&&
(this.objBox.scrollTop=k)}catch(h){}};this.editCell=function(){if(!this.editor||this.cell!=this.editor.cell){this.editStop();if(!0!=this.isEditable||!this.cell)return!1;var a=this.cell;if(a.parentNode._locked)return!1;this.editor=this.cells4(a);if(null!=this.editor){if(this.editor.isDisabled())return this.editor=null,!1;!1!=this.callEvent("onEditCell",[0,this.row.idd,this.cell._cellIndex])&&this.editor.edit?(this._Opera_stop=(new Date).valueOf(),a.className+=" editable",this.editor.edit(),this.callEvent("onEditCell",
[1,this.row.idd,this.cell._cellIndex])):this.editor=null}}};this.editStop=function(a){if(_isOpera&&this._Opera_stop){if(1*this._Opera_stop+50>(new Date).valueOf())return;this._Opera_stop=null}if(this.editor&&null!=this.editor)if(this.editor.cell.className=this.editor.cell.className.replace("editable",""),a)a=this.editor.val,this.editor.detach(),this.editor.setValue(a),this.editor=null,this.callEvent("onEditCancel",[this.row.idd,this.cell._cellIndex,a]);else{this.editor.detach()&&(this.cell.wasChanged=
!0);a=this.editor;this.editor=null;var b=this.callEvent("onEditCell",[2,this.row.idd,this.cell._cellIndex,a.getValue(),a.val]);if("string"==typeof b||"number"==typeof b)a[a.setImage?"setLabel":"setValue"](b);else if(!b)a[a.setImage?"setLabel":"setValue"](a.val);this._ahgr&&this.multiLine&&this.setSizes()}};this._nextRowCell=function(a,b,c){return(a=this._nextRow((this._groups?this.rowsCol:this.rowsBuffer)._dhx_find(a),b))?a.childNodes[a._childIndexes?a._childIndexes[c]:c]:null};this._getNextCell=
function(a,b,c){a=a||this.cell;var g=a.parentNode;this._tabOrder?(c=this._tabOrder[a._cellIndex],"undefined"!=typeof c&&(a=0>c?this._nextRowCell(g,b,Math.abs(c)-1):g.childNodes[c])):(c=a._cellIndex+b,0<=c&&c<this._cCount?(g._childIndexes&&(c=g._childIndexes[a._cellIndex]+b),a=g.childNodes[c]):a=this._nextRowCell(g,b,1==b?0:this._cCount-1));return a?"none"==a.style.display||this.smartTabOrder&&this.cells(a.parentNode.idd,a._cellIndex).isDisabled()?this._getNextCell(a,b):a:(1==b&&this.tabEnd&&(this.tabEnd.focus(),
this.tabEnd.focus(),this.setActive(!1)),-1==b&&this.tabStart&&(this.tabStart.focus(),this.tabStart.focus(),this.setActive(!1)),null)};this._nextRow=function(a,b){var c=this.render_row(a+b);return c&&-1!=c?c&&"none"==c.style.display?this._nextRow(a+b,b):c:null};this.scrollPage=function(a){if(this.rowsBuffer.length){var b=this._realfake?this._fake:this,c=Math.floor((b._r_select||this.getRowIndex(this.row.idd)||0)+a*this.objBox.offsetHeight/(this._srdh||20));0>c&&(c=0);c>=this.rowsBuffer.length&&(c=
this.rowsBuffer.length-1);this._srnd&&!this.rowsBuffer[c]?(this.objBox.scrollTop+=Math.floor(a*this.objBox.offsetHeight/(this._srdh||20))*(this._srdh||20),this._fake&&(this._fake.objBox.scrollTop=this.objBox.scrollTop),b._r_select=c):(this.selectCell(c,this.cell._cellIndex,!0,!1,!1,this.multiLine||this._srnd),this.multiLine||this._srnd||this._realfake||(this.objBox.scrollTop=this.getRowById(this.getRowId(c)).offsetTop,!this._fake)||(this._fake.objBox.scrollTop=this.objBox.scrollTop),b._r_select=null)}};
this.doKey=function(a){if(!a)return!0;if((a.target||a.srcElement).value!==window.undefined){var b=a.target||a.srcElement;if(!b.parentNode||-1==b.parentNode.className.indexOf("editable"))return!0}if(globalActiveDHTMLGridObject&&this!=globalActiveDHTMLGridObject)return globalActiveDHTMLGridObject.doKey(a);if(!1==this.isActive||this._htkebl)return!0;if(!this.callEvent("onKeyPress",[a.keyCode,a.ctrlKey,a.shiftKey,a]))return!1;b="k"+a.keyCode+"_"+(a.ctrlKey?1:0)+"_"+(a.shiftKey?1:0);if(this.cell){if(this._key_events[b]){if(!1===
this._key_events[b].call(this))return!0;a.preventDefault&&a.preventDefault();a.cancelBubble=!0;return!1}this._key_events.k_other&&this._key_events.k_other.call(this,a)}return!0};this.selectRow=function(a,b,c,g){"object"!=typeof a&&(a=this.render_row(a));this.selectCell(a,0,b,c,!1,g)};this.wasDblClicked=function(a){var b=this.getFirstParentOfType(_isIE?a.srcElement:a.target,"TD");if(b)return this.callEvent("onRowDblClicked",[b.parentNode.idd,b._cellIndex,a])};this._onHeaderClick=function(a,b){var c=
this.grid;b=b||c.getFirstParentOfType(_isIE?event.srcElement:a.target,"TD");if(null==this.grid.resized){if(!this.grid.callEvent("onHeaderClick",[b._cellIndexS,a||window.event]))return!1;c.sortField(b._cellIndexS,!1,b)}this.grid.resized=null};this.deleteSelectedRows=function(){var a=this.selectedRows.length;if(0!=a){var b=this.selectedRows;this.selectedRows=dhtmlxArray();for(a-=1;0<=a;a--){var c=b[a];if(this.deleteRow(c.idd,c)){if(c==this.row)var g=a}else this.selectedRows[this.selectedRows.length]=
c}if(g)try{g+1>this.rowsCol.length&&g--,this.selectCell(g,0,!0)}catch(k){this.cell=this.row=null}}};this.getSelectedRowId=function(){for(var a=[],b={},c=0;c<this.selectedRows.length;c++){var g=this.selectedRows[c].idd;b[g]||(a[a.length]=g,b[g]=!0)}return 0==a.length?null:a.join(this.delim)};this.getSelectedCellIndex=function(){return null!=this.cell?this.cell._cellIndex:-1};this.getColWidth=function(a){return parseInt(this.cellWidthPX[a])};this.setColWidth=function(a,b){if("*"==b)this.initCellWidth[a]=
"*";else{if(this._hrrar[a])return;"px"==this.cellWidthType?this.cellWidthPX[a]=parseInt(b):this.cellWidthPC[a]=parseInt(b)}this.setSizes()};this.getRowIndex=function(a){for(var b=0;b<this.rowsBuffer.length;b++)if(this.rowsBuffer[b]&&this.rowsBuffer[b].idd==a)return b;return-1};this.getRowId=function(a){return this.rowsBuffer[a]?this.rowsBuffer[a].idd:this.undefined};this.setRowId=function(a,b){this.changeRowId(this.getRowId(a),b)};this.changeRowId=function(a,b){if(a!=b){var c=this.rowsAr[a];c.idd=
b;this.UserData[a]&&(this.UserData[b]=this.UserData[a],this.UserData[a]=null);this._h2&&this._h2.get[a]&&(this._h2.get[b]=this._h2.get[a],this._h2.get[b].id=b,delete this._h2.get[a]);this.rowsAr[a]=null;this.rowsAr[b]=c;for(var g=0;g<c.childNodes.length;g++)c.childNodes[g]._code&&(c.childNodes[g]._code=this._compileSCL(c.childNodes[g]._val,c.childNodes[g]));if(this._mat_links&&this._mat_links[a]){c=this._mat_links[a];delete this._mat_links[a];for(var k in c)for(g=0;g<c[k].length;g++)this._compileSCL(c[k][g].original,
c[k][g])}this.callEvent("onRowIdChange",[a,b])}};this.setColumnIds=function(a){this.columnIds=a.split(this.delim)};this.setColumnId=function(a,b){this.columnIds[a]=b};this.getColIndexById=function(a){for(var b=0;b<this.columnIds.length;b++)if(this.columnIds[b]==a)return b};this.getColumnId=function(a){return this.columnIds[a]};this.getColLabel=this.getColumnLabel=function(a,b,c){b=(c||this.hdr).rows[(b||0)+1];for(c=0;c<b.cells.length;c++)if(b.cells[c]._cellIndexS==a)return _isIE?b.cells[c].innerText:
b.cells[c].textContent;return""};this.getFooterLabel=function(a,b){return this.getColumnLabel(a,b,this.ftr)};this.setRowTextBold=function(a){if(a=this.getRowById(a))a.style.fontWeight="bold"};this.setRowTextStyle=function(a,b){var c=this.getRowById(a);if(c)for(var g=0;g<c.childNodes.length;g++)c.childNodes[g].style.cssText=(c.childNodes[g]._attrs.style||"")+"width:"+c.childNodes[g].style.width+";"+b};this.setRowColor=function(a,b){for(var c=this.getRowById(a),g=0;g<c.childNodes.length;g++)c.childNodes[g].bgColor=
b};this.setCellTextStyle=function(a,b,c){if(a=this.getRowById(a))if(b=a.childNodes[a._childIndexes?a._childIndexes[b]:b])b.style.cssText="width:"+b.style.width+";"+c};this.setRowTextNormal=function(a){if(a=this.getRowById(a))a.style.fontWeight="normal"};this.doesRowExist=function(a){return null!=this.getRowById(a)?!0:!1};this.getColumnsNum=function(){return this._cCount};this.moveRowUp=function(a){var b=this.getRowById(a);if(this.isTreeGrid())return this.moveRowUDTG(a,-1);a=this.rowsCol._dhx_find(b);
b.previousSibling&&0!=a&&(b.parentNode.insertBefore(b,b.previousSibling),this.rowsCol._dhx_swapItems(a,a-1),this.setSizes(),b=this.rowsBuffer._dhx_find(b),this.rowsBuffer._dhx_swapItems(b,b-1),this._cssEven&&this._fixAlterCss(a-1))};this.moveRowDown=function(a){var b=this.getRowById(a);if(this.isTreeGrid())return this.moveRowUDTG(a,1);a=this.rowsCol._dhx_find(b);b.nextSibling&&(this.rowsCol._dhx_swapItems(a,a+1),b.nextSibling.nextSibling?b.parentNode.insertBefore(b,b.nextSibling.nextSibling):b.parentNode.appendChild(b),
this.setSizes(),b=this.rowsBuffer._dhx_find(b),this.rowsBuffer._dhx_swapItems(b,b+1),this._cssEven&&this._fixAlterCss(a))};this.getCombo=function(a){this.combos[a]||(this.combos[a]=new dhtmlXGridComboObject);return this.combos[a]};this.setUserData=function(a,b,c){a||(a="gridglobaluserdata");this.UserData[a]||(this.UserData[a]=new Hashtable);this.UserData[a].put(b,c)};this.getUserData=function(a,b){a||(a="gridglobaluserdata");this.getRowById(a);var c=this.UserData[a];return c?c.get(b):""};this.setEditable=
function(a){this.isEditable=convertStringToBoolean(a)};this.selectRowById=function(a,b,c,g){g||(g=!1);this.selectCell(this.getRowById(a),0,g,b,!1,c)};this.clearSelection=function(){this.editStop();for(var a=0;a<this.selectedRows.length;a++){var b=this.rowsAr[this.selectedRows[a].idd];b&&(b.className=b.className.replace(/rowselected/g,""))}this.selectedRows=dhtmlxArray();this.row=null;null!=this.cell&&(this.cell.className=this.cell.className.replace(/cellselected/g,""),this.cell=null);this.callEvent("onSelectionCleared",
[])};this.copyRowContent=function(a,b){var c=this.getRowById(a);if(this.isTreeGrid())this._copyTreeGridRowContent(c,a,b);else for(var g=0;g<c.cells.length;g++)this.cells(b,g).setValue(this.cells(a,g).getValue());_isIE||(this.getRowById(a).cells[0].height=c.cells[0].offsetHeight)};this.setFooterLabel=function(a,b,c){return this.setColumnLabel(a,b,c,this.ftr)};this.setColumnLabel=function(a,b,c,g){c=(g||this.hdr).rows[c||1];a=c._childIndexes?c._childIndexes[a]:a;if(c.cells[a]){if(this.useImagesInHeader)c.cells[a].style.textAlign=
"left",c.cells[a].innerHTML="<img src='"+this.imgURL+""+b+"' onerror='this.src = \""+this.imgURL+"imageloaderror.gif\"'>",g=new Image,g.src=this.imgURL+""+b.replace(/(\.[a-z]+)/,".des$1"),this.preloadImagesAr[this.preloadImagesAr.length]=g,g=new Image,g.src=this.imgURL+""+b.replace(/(\.[a-z]+)/,".asc$1"),this.preloadImagesAr[this.preloadImagesAr.length]=g;else{g="<div class='hdrcell'>";if(-1!=b.indexOf("img:[")){var k=b.replace(/.*\[([^>]+)\].*/,"$1");b=b.substr(b.indexOf("]")+1,b.length);g+="<img width='18px' height='18px' align='absmiddle' src='"+
k+"' hspace='2'>"}g=g+b+"</div>";c.cells[a].innerHTML=g;this._hstyles[a]&&(c.cells[a].style.cssText=this._hstyles[a])}if(-1!=(b||"").indexOf("#")&&(g=b.match(/(^|{)#([^}]+)(}|$)/))&&(k="_in_header_"+g[2],this[k]))this[k](this.forceDivInHeader?c.cells[a].firstChild:c.cells[a],a,b.split(g[0]))}};this.setColLabel=function(a,b,c,g){return this.setColumnLabel(a,b,(c||0)+1,g)};this.clearAll=function(a){if(this.obj.rows[0]){this._h2&&(this._h2=new dhtmlxHierarchy,this._fake)&&(this._realfake?this._h2=this._fake._h2:
this._fake._h2=this._h2);this.limit=this._limitC=0;this.editStop(!0);this._dLoadTimer&&window.clearTimeout(this._dLoadTimer);this._dload&&(this.objBox.scrollTop=0,this.limit=this._limitC||0,this._initDrF=!0);for(var b=this.rowsCol.length,b=this.obj.rows.length,b=b-1;0<b;b--){var c=this.obj.rows[b];c.parentNode.removeChild(c)}if(a){this._master_row=null;this.obj.rows[0].parentNode.removeChild(this.obj.rows[0]);for(b=this.hdr.rows.length-1;0<=b;b--)c=this.hdr.rows[b],c.parentNode.removeChild(c);this.ftr&&
(this.ftr.parentNode.removeChild(this.ftr),this.ftr=null);this._aHead=this.ftr=this.cellWidth=this._aFoot=null;this.cellType=dhtmlxArray();this._hrrar=[];this.columnIds=[];this.combos=[];this._strangeParams=[];this.defVal=[];this._ivizcol=null}this.cell=this.row=null;this.rowsCol=dhtmlxArray();this.rowsAr={};this._RaSeCol=[];this.rowsBuffer=dhtmlxArray();this.UserData=[];this.selectedRows=dhtmlxArray();if(this.pagingOn||this._srnd)this.xmlFileUrl="";this.pagingOn&&this.changePage(1);this._contextCallTimer&&
window.clearTimeout(this._contextCallTimer);this._sst&&this.enableStableSorting(!0);this._fillers=this.undefined;this.setSortImgState(!1);this.setSizes();this.callEvent("onClearAll",[])}};this.sortField=function(a,b,c){if(0==this.getRowsNum())return!1;if((b=this.hdr.rows[0].cells[a])&&"TH"==b.tagName&&this.fldSort.length-1>=b._cellIndex&&"na"!=this.fldSort[b._cellIndex]){var g=this.getSortingState(),g=g[0]==a&&"asc"==g[1]?"des":"asc";if(this.callEvent("onBeforeSorting",[a,this.fldSort[a],g])){this.sortImg.src=
this.imgURL+"sort_"+("asc"==g?"asc":"desc")+".gif";if(this.useImagesInHeader){a=this.hdr.rows[1].cells[b._cellIndex].firstChild;if(null!=this.fldSorted){var k=this.hdr.rows[1].cells[this.fldSorted._cellIndex].firstChild;k.src=k.src.replace(/(\.asc\.)|(\.des\.)/,".")}a.src=a.src.replace(/(\.[a-z]+)$/,"."+g+"$1")}this.sortRows(b._cellIndex,this.fldSort[b._cellIndex],g);this.fldSorted=b;this.r_fldSorted=c;this.setSortImgPos(!1,!1,!1,c)}}};this.enableHeaderImages=function(a){this.useImagesInHeader=a};
this.setHeader=function(a,b,c){a="object"!=typeof a?this._eSplit(a):[].concat(a);for(var g=[],k=new dhtmlxArray(0),h=[],l=[],m=0;m<a.length;m++)g[g.length]=Math.round(100/a.length),k[k.length]="ed",h[h.length]="middle",l[l.length]="na";this.splitSign=b||"#cspan";this.hdrLabels=a;this.cellWidth=g;this.initCellWidth.length||this.setInitWidthsP(g.join(this.delim),!0);this.cellType=k;this.cellVAlign=h;this.fldSort=l;this._hstyles=c||[]};this._eSplit=function(a){if(![].push)return a.split(this.delim);
var b="r"+(new Date).valueOf(),c=this.delim.replace(/([\|\+\*\^])/g,"\\$1");return(a||"").replace(RegExp(c,"g"),b).replace(RegExp("\\\\"+b,"g"),this.delim).split(b)};this.getColType=function(a){return this.cellType[a]};this.getColTypeById=function(a){return this.cellType[this.getColIndexById(a)]};this.setColTypes=function(a){this.cellType=dhtmlxArray(a.split(this.delim));this._strangeParams=[];for(a=0;a<this.cellType.length;a++){if(-1!=this.cellType[a].indexOf("[")){var b=this.cellType[a].split(/[\[\]]+/g);
this.cellType[a]=b[0];this.defVal[a]=b[1];0==b[1].indexOf("=")&&(this.cellType[a]="math",this._strangeParams[a]=b[0])}window["eXcell_"+this.cellType[a]]||dhtmlxError.throwError("Configuration","Incorrect cell type: "+this.cellType[a],[this,this.cellType[a]])}};this.setColSorting=function(a){this.fldSort=a.split(this.delim)};this.setColAlign=function(a){this.cellAlign=a.split(this.delim);for(a=0;a<this.cellAlign.length;a++)this.cellAlign[a]=this.cellAlign[a]._dhx_trim()};this.setColVAlign=function(a){this.cellVAlign=
a.split(this.delim)};this.setNoHeader=function(a){this.noHeader=convertStringToBoolean(a)};this.showRow=function(a){this.getRowById(a);this._h2&&this.openItem(this._h2.get[a].parent.id);for(a=this.getRowById(a).childNodes[0];a&&"none"==a.style.display;)a=a.nextSibling;a&&this.moveToVisible(a,!0)};this.setStyle=function(a,b,c,g){this.ssModifier=[a,b,c,c,g];for(a=["#"+this.entBox.id+" table.hdr td","#"+this.entBox.id+" table.obj td","#"+this.entBox.id+" table.obj tr.rowselected td.cellselected","#"+
this.entBox.id+" table.obj td.cellselected","#"+this.entBox.id+" table.obj tr.rowselected td"];!_isIE;)break;for(b=0;b<a.length;b++)this.ssModifier[b]&&(_isIE?document.styleSheets[0].addRule(a[b],this.ssModifier[b]):document.styleSheets[0].insertRule(a[b]+(" { "+this.ssModifier[b]+" }"),document.styleSheets[0].cssRules.length))};this.setColumnColor=function(a){this.columnColor=a.split(this.delim)};this.enableAlterCss=function(a,b,c,g){(a||b)&&this.attachEvent("onGridReconstructed",function(){this._fixAlterCss();
this._fake&&this._fake._fixAlterCss()});this._cssSP=c;this._cssSU=g;this._cssEven=a;this._cssUnEven=b};this._fixAlterCss=function(a){if(this._h2&&(this._cssSP||this._cssSU))return this._fixAlterCssTGR(a);if(this._cssEven||this._cssUnEven)for(var b=a=a||0;a<this.rowsCol.length;a++)this.rowsCol[a]&&"none"!=this.rowsCol[a].style.display&&(this.rowsCol[a]._cntr?b=1:(this.rowsCol[a].className=-1!=this.rowsCol[a].className.indexOf("rowselected")?1==b%2?this._cssUnEven+" rowselected "+(this.rowsCol[a]._css||
""):this._cssEven+" rowselected "+(this.rowsCol[a]._css||""):1==b%2?this._cssUnEven+" "+(this.rowsCol[a]._css||""):this._cssEven+" "+(this.rowsCol[a]._css||""),b++))};this.getPosition=function(a,b){if(!b){var c=getOffset(a);return[c.left,c.top]}b=b||document.body;for(var c=a,g=0,k=0;c&&c!=b;)g+=c.offsetLeft-c.scrollLeft,k+=c.offsetTop-c.scrollTop,c=c.offsetParent;b==document.body&&(_isIE?(k+=document.body.offsetTop||document.documentElement.offsetTop,g+=document.body.offsetLeft||document.documentElement.offsetLeft):
_isFF||(g+=document.body.offsetLeft,k+=document.body.offsetTop));return[g,k]};this.getFirstParentOfType=function(a,b){for(;a&&a.tagName!=b&&"BODY"!=a.tagName;)a=a.parentNode;return a};this.objBox.onscroll=function(){this.grid._doOnScroll()};this.objBox.ontouchend=function(){this.hdrBox.scrollLeft=this.objBox.scrollLeft};this.hdrBox.onscroll=function(){this._try_header_sync||(this._try_header_sync=!0,this.grid.objBox.scrollLeft!=this.scrollLeft&&(this.grid.objBox.scrollLeft=this.scrollLeft),this._try_header_sync=
!1)};if(!_isOpera||8.5<_OperaRv)this.hdr.onmousemove=function(a){this.grid.changeCursorState(a||window.event)},this.hdr.onmousedown=function(a){return this.grid.startColResize(a||window.event)};this.obj.onmousemove=this._drawTooltip;this.objBox.onclick=function(a){(a||event).cancelBubble=!0};this.obj.onclick=function(a){this.grid._doClick(a||window.event);this.grid._sclE?this.grid.editCell(a||window.event):this.grid.editStop();(a||event).cancelBubble=!0};_isMacOS?this.entBox.oncontextmenu=function(a){a.cancelBubble=
!0;a.returnValue=!1;var b=this.grid;b._realfake&&(b=b._fake);return b._doContClick(a||window.event)}:(this.entBox.onmousedown=function(a){return this.grid._doContClick(a||window.event)},this.entBox.oncontextmenu=function(a){this.grid._ctmndx&&((a||event).cancelBubble=!0);return!this.grid._ctmndx});this.obj.ondblclick=function(a){if(!this.grid.wasDblClicked(a||window.event))return!1;this.grid._dclE&&this.grid.getFirstParentOfType(_isIE?event.srcElement:a.target,"TR")==this.grid.row&&this.grid.editCell(a||
window.event);(a||event).cancelBubble=!0;if(_isOpera)return!1};this.hdr.onclick=this._onHeaderClick;this.sortImg.onclick=function(){c._onHeaderClick.apply({grid:c},[null,c.r_fldSorted])};this.hdr.ondblclick=this._onHeaderDblClick;document.body._dhtmlxgrid_onkeydown||(dhtmlxEvent(document,"keydown",function(a){if(globalActiveDHTMLGridObject)return globalActiveDHTMLGridObject.doKey(a||window.event)}),document.body._dhtmlxgrid_onkeydown=!0);dhtmlxEvent(document.body,"click",function(){c.editStop&&c.editStop();
c.isActive&&c.setActive(!1)});-1!=this.entBox.style.height.toString().indexOf("%")&&(this._delta_y=this.entBox.style.height);-1!=this.entBox.style.width.toString().indexOf("%")&&(this._delta_x=this.entBox.style.width);(this._delta_x||this._delta_y)&&this._setAutoResize();this.setColHidden=this.setColumnsVisibility;this.enableCollSpan=this.enableColSpan;this.setMultiselect=this.enableMultiselect;this.setMultiLine=this.enableMultiline;this.deleteSelectedItem=this.deleteSelectedRows;this.getSelectedId=
this.getSelectedRowId;this.getHeaderCol=this.getColumnLabel;this.isItemExists=this.doesRowExist;this.getColumnCount=this.getColumnsNum;this.setSelectedRow=this.selectRowById;this.setHeaderCol=this.setColumnLabel;this.preventIECashing=this.preventIECaching;this.enableAutoHeigth=this.enableAutoHeight;this.getUID=this.uid;dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path);dhtmlx.skin&&this.setSkin(dhtmlx.skin);return this}
dhtmlXGridObject.prototype={getRowAttribute:function(a,b){return this.getRowById(a)._attrs[b]},setRowAttribute:function(a,b,c){this.getRowById(a)._attrs[b]=c},isTreeGrid:function(){return-1!=this.cellType._dhx_find("tree")},setRowHidden:function(a,b){convertStringToBoolean(b);var c=this.getRowById(a);if(c){""===c.expand&&this.collapseKids(c);if(b&&"none"!=c.style.display){c.style.display="none";var d=this.selectedRows._dhx_find(c);if(-1!=d){c.className=c.className.replace("rowselected","");for(var e=
0;e<c.childNodes.length;e++)c.childNodes[e].className=c.childNodes[e].className.replace(/cellselected/g,"");this.selectedRows._dhx_removeAt(d)}this.callEvent("onGridReconstructed",[])}b||"none"!=c.style.display||(c.style.display="",this.callEvent("onGridReconstructed",[]));this.callEvent("onRowHide",[a,b]);this.setSizes()}},enableRowsHover:function(a,b){this._unsetRowHover(!1,!0);this._hvrCss=b;convertStringToBoolean(a)?this._elmnh||(this.obj._honmousemove=this.obj.onmousemove,this.obj.onmousemove=
this._setRowHover,_isIE?this.obj.onmouseleave=this._unsetRowHover:this.obj.onmouseout=this._unsetRowHover,this._elmnh=!0):this._elmnh&&(this.obj.onmousemove=this.obj._honmousemove,_isIE?this.obj.onmouseleave=null:this.obj.onmouseout=null,this._elmnh=!1)},enableEditEvents:function(a,b,c){this._sclE=convertStringToBoolean(a);this._dclE=convertStringToBoolean(b);this._f2kE=convertStringToBoolean(c)},enableLightMouseNavigation:function(a){convertStringToBoolean(a)?this._elmn||(this.entBox._onclick=this.entBox.onclick,
this.entBox.onclick=function(){return!0},this.obj._onclick=this.obj.onclick,this.obj.onclick=function(a){var c=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");c&&(this.grid.editStop(),this.grid.doClick(c),this.grid.editCell(),(a||event).cancelBubble=!0)},this.obj._onmousemove=this.obj.onmousemove,this.obj.onmousemove=this._autoMoveSelect,this._elmn=!0):this._elmn&&(this.entBox.onclick=this.entBox._onclick,this.obj.onclick=this.obj._onclick,this.obj.onmousemove=this.obj._onmousemove,
this._elmn=!1)},_unsetRowHover:function(a,b){that=b?this:this.grid;if(that._lahRw&&that._lahRw!=b){for(var c=0;c<that._lahRw.childNodes.length;c++)that._lahRw.childNodes[c].className=that._lahRw.childNodes[c].className.replace(that._hvrCss,"");that._lahRw=null}},_setRowHover:function(a){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");if(b&&b.parentNode!=this.grid._lahRw){this.grid._unsetRowHover(0,b);b=b.parentNode;if(!b.idd||"__filler__"==b.idd)return;for(var c=0;c<b.childNodes.length;c++)b.childNodes[c].className+=
" "+this.grid._hvrCss;this.grid._lahRw=b}this._honmousemove(a)},_autoMoveSelect:function(a){if(!this.grid.editor){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");b.parentNode.idd&&this.grid.doClick(b,!0,0)}this._onmousemove(a)},destructor:function(){this.editStop(!0);this._sizeTime&&(this._sizeTime=window.clearTimeout(this._sizeTime));this.entBox.className=(this.entBox.className||"").replace(/gridbox.*/,"");if(this.formInputs)for(var a=0;a<this.formInputs.length;a++)this.parentForm.removeChild(this.formInputs[a]);
var b;this.xmlLoader=this.xmlLoader.destructor();for(a=0;a<this.rowsCol.length;a++)this.rowsCol[a]&&(this.rowsCol[a].grid=null);for(a in this.rowsAr)this.rowsAr[a]&&(this.rowsAr[a]=null);this.rowsCol=new dhtmlxArray;this.rowsAr={};this.entBox.innerHTML="";a=function(){};this.setSizes=this._update_srnd_view=this.callEvent=this.entBox.onclick=this.entBox.onmousedown=this.entBox.onbeforeactivate=this.entBox.onbeforedeactivate=this.entBox.onbeforedeactivate=this.entBox.onselectstart=a;this.entBox.grid=
this.objBox.grid=this.hdrBox.grid=this.obj.grid=this.hdr.grid=null;this._fake&&(this.globalBox.innerHTML="",this._fake.setSizes=this._fake._update_srnd_view=this._fake.callEvent=a,this.globalBox.onclick=this.globalBox.onmousedown=this.globalBox.onbeforeactivate=this.globalBox.onbeforedeactivate=this.globalBox.onbeforedeactivate=this.globalBox.onselectstart=a);for(b in this)this[b]&&this[b].m_obj&&(this[b].m_obj=null),this[b]=null;this==globalActiveDHTMLGridObject&&(globalActiveDHTMLGridObject=null);
return null},getSortingState:function(){var a=[];this.fldSorted&&(a[0]=this.fldSorted._cellIndex,a[1]=-1!=this.sortImg.src.indexOf("sort_desc.gif")?"des":"asc");return a},enableAutoHeight:function(a,b,c){this._ahgr=convertStringToBoolean(a);this._ahgrF=convertStringToBoolean(c);this._ahgrM=b||null;1==arguments.length&&(this.objBox.style.overflowY=a?"hidden":"auto");"auto"==b&&(this._ahgrM=null,this._ahgrMA=!0,this._setAutoResize())},enableStableSorting:function(a){this._sst=convertStringToBoolean(a);
this.rowsCol.stablesort=function(a){for(var c=this.length-1,d=0;d<this.length-1;d++){for(var e=0;e<c;e++)if(0<a(this[e],this[e+1])){var f=this[e];this[e]=this[e+1];this[e+1]=f}c--}}},enableKeyboardSupport:function(a){this._htkebl=!convertStringToBoolean(a)},enableContextMenu:function(a){this._ctmndx=a},setScrollbarWidthCorrection:function(){},enableTooltips:function(a){this._enbTts=a.split(",");for(a=0;a<this._enbTts.length;a++)this._enbTts[a]=convertStringToBoolean(this._enbTts[a])},enableResizing:function(a){this._drsclmn=
a.split(",");for(a=0;a<this._drsclmn.length;a++)this._drsclmn[a]=convertStringToBoolean(this._drsclmn[a])},setColumnMinWidth:function(a,b){2==arguments.length?(this._drsclmW||(this._drsclmW=[]),this._drsclmW[b]=a):this._drsclmW=a.split(",")},enableCellIds:function(a){this._enbCid=convertStringToBoolean(a)},lockRow:function(a,b){var c=this.getRowById(a);c&&(c._locked=convertStringToBoolean(b),this.cell&&this.cell.parentNode.idd==a&&this.editStop())},_getRowArray:function(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=
this.cells3(a,c);b[c]=d.getValue()}return b},_launchCommands:function(a){for(var b=0;b<a.length;b++){for(var c=[],d=0;d<a[b].childNodes.length;d++)1==a[b].childNodes[d].nodeType&&(c[c.length]=a[b].childNodes[d].firstChild.data);this[a[b].getAttribute("command")].apply(this,c)}},_parseHead:function(a){var b=this.xmlLoader.doXPath("./head",a);if(b.length){var c=this.xmlLoader.doXPath("./column",b[0]),d=this.xmlLoader.doXPath("./settings",b[0]),e="setInitWidths",f=!1;if(d[0])for(var g=0;g<d[0].childNodes.length;g++)switch(d[0].childNodes[g].tagName){case "colwidth":d[0].childNodes[g].firstChild&&
"%"==d[0].childNodes[g].firstChild.data&&(e="setInitWidthsP");break;case "splitat":f=d[0].childNodes[g].firstChild?d[0].childNodes[g].firstChild.data:!1}this._launchCommands(this.xmlLoader.doXPath("./beforeInit/call",b[0]));if(0<c.length){0<this.hdr.rows.length&&this.clearAll(!0);for(var d=[[],[],[],[],[],[],[],[],[]],k=" width type align sort color format hidden id".split(" "),h=["",e,"setColTypes","setColAlign","setColSorting","setColumnColor","","","setColumnIds"],g=0;g<c.length;g++){for(e=1;e<
k.length;e++)d[e].push(c[g].getAttribute(k[e]));d[0].push((c[g].firstChild?c[g].firstChild.data:"").replace(/^\s*((\s\S)*.+)\s*$/gi,"$1"))}this.setHeader(d[0]);for(g=0;g<h.length;g++)if(h[g])this[h[g]](d[g].join(this.delim));for(g=0;g<c.length;g++)if(0==this.cellType[g].indexOf("co")||"clist"==this.cellType[g]){if(k=this.xmlLoader.doXPath("./option",c[g]),k.length)if(h=[],"clist"==this.cellType[g]){for(e=0;e<k.length;e++)h[h.length]=k[e].firstChild?k[e].firstChild.data:"";this.registerCList(g,h)}else for(h=
this.getCombo(g),e=0;e<k.length;e++)h.put(k[e].getAttribute("value"),k[e].firstChild?k[e].firstChild.data:"")}else d[6][g]&&(-1!=this.cellType[g].toLowerCase().indexOf("calendar")||"date"==this.fldSort[g]?this.setDateFormat(d[6][g]):this.setNumberFormat(d[6][g],g));this.init();c=d[7].join(this.delim);this.setColHidden&&""!=c.replace(/,/g,"")&&this.setColHidden(c);f&&this.splitAt&&this.splitAt(f)}this._launchCommands(this.xmlLoader.doXPath("./afterInit/call",b[0]))}a=this.xmlLoader.doXPath("//rows/userdata",
a);if(0<a.length)for(this.UserData.gridglobaluserdata||(this.UserData.gridglobaluserdata=new Hashtable),e=0;e<a.length;e++){b="";for(f=0;f<a[e].childNodes.length;f++)b+=a[e].childNodes[f].nodeValue;this.UserData.gridglobaluserdata.put(a[e].getAttribute("name"),b)}},getCheckedRows:function(a){var b=[];this.forEachRowA(function(c){0!=this.cells(c,a).getValue()&&b.push(c)},!0);return b.join(",")},checkAll:function(){for(var a=arguments.length?arguments[0]:1,b=0;b<this.getColumnsNum();b++)"ch"==this.getColType(b)&&
this.setCheckedRows(b,a)},uncheckAll:function(){this.checkAll(0)},setCheckedRows:function(a,b){this.forEachRowA(function(c){this.cells(c,a).isCheckbox()&&this.cells(c,a).setValue(b)})},_drawTooltip:function(a){var b=this.grid.getFirstParentOfType(a?a.target:event.srcElement,"TD");if(!b||this.grid.editor&&this.grid.editor.cell==b)return!0;var c=b.parentNode;if(c.idd&&"__filler__"!=c.idd){var d=a?a.target:event.srcElement;if(c.idd==window.unknown||!this.grid.callEvent("onMouseOver",[c.idd,b._cellIndex,
a||window.event]))return!0;if(this.grid._enbTts&&!this.grid._enbTts[b._cellIndex])return d.title&&(d.title=""),!0;if(!(b._cellIndex>=this.grid._cCount)&&(a=this.grid.cells3(c,b._cellIndex))&&a.cell&&a.cell._attrs)return d._title&&(a.cell.title=""),a.cell._attrs.title||(d._title=!0),a&&(d.title=a.cell._attrs.title||(a.getTitle?a.getTitle():(a.getValue()||"").toString().replace(/<[^>]*>/gi,""))),!0}},enableCellWidthCorrection:function(a){_isFF&&(this._wcorr=parseInt(a))},getAllRowIds:function(a){for(var b=
[],c=0;c<this.rowsBuffer.length;c++)this.rowsBuffer[c]&&b.push(this.rowsBuffer[c].idd);return b.join(a||this.delim)},getAllItemIds:function(){return this.getAllRowIds()},preventIECaching:function(a){this.no_cashe=convertStringToBoolean(a);this.xmlLoader.rSeed=this.no_cashe},enableColumnAutoSize:function(a){this._eCAS=convertStringToBoolean(a)},_onHeaderDblClick:function(a){var b=this.grid;a=b.getFirstParentOfType(_isIE?event.srcElement:a.target,"TD");if(!b._eCAS)return!1;b.adjustColumnSize(a._cellIndexS)},
adjustColumnSize:function(a,b){if(!this._hrrar||!this._hrrar[a]){this._notresize=!0;var c=0;this._setColumnSizeR(a,20);for(var d=1;d<this.hdr.rows.length;d++){var e=this.hdr.rows[d];(e=e.childNodes[e._childIndexes?e._childIndexes[a]:a])&&(!e.colSpan||2>e.colSpan)&&e._cellIndex==a&&(e.childNodes[0]&&"hdrcell"==e.childNodes[0].className&&(e=e.childNodes[0]),c=Math.max(c,e.scrollWidth))}d=this.obj.rows.length;for(e=1;e<d;e++){var f=this.obj.rows[e];this.rowsAr[f.idd]&&(!f._childIndexes||f._childIndexes[a]==
a)&&f.childNodes[a]&&(f=_isFF||_isOpera||b?f.childNodes[a].textContent.length*this.fontWidth:f.childNodes[a].scrollWidth,f>c&&(c=f))}this._setColumnSizeR(a,c+(20+(b||0)));this._notresize=!1;this.setSizes()}},detachHeader:function(a,b){b=b||this.hdr;var c=b.rows[a+1];c&&c.parentNode.removeChild(c);this.setSizes()},detachFooter:function(a){this.detachHeader(a,this.ftr)},attachHeader:function(a,b,c){"string"==typeof a&&(a=this._eSplit(a));"string"==typeof b&&(b=b.split(this.delim));c=c||"_aHead";if(this.hdr.rows.length)if(a)this._createHRow([a,
b],this["_aHead"==c?"hdr":"ftr"]);else{if(this[c])for(a=0;a<this[c].length;a++)this.attachHeader.apply(this,this[c][a])}else this[c]||(this[c]=[]),this[c][this[c].length]=[a,b,c]},_createHRow:function(a,b){if(!b){"absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative");var c=document.createElement("DIV");c.className="ftr";this.entBox.appendChild(c);var d=document.createElement("TABLE");d.cellPadding=d.cellSpacing=0;_isIE&&8!=_isIE||(d.width="100%",d.style.paddingRight="20px");
d.style.marginRight="20px";d.style.tableLayout="fixed";c.appendChild(d);d.appendChild(document.createElement("TBODY"));this.ftr=b=d;for(var c=d.insertRow(0),e=1>=this.hdrLabels.length?a[0].length:this.hdrLabels.length,f=0;f<e;f++)c.appendChild(document.createElement("TH")),c.childNodes[f]._cellIndex=f;_isIE&&8>_isIE?c.style.position="absolute":c.style.height="auto"}e=a[1];c=document.createElement("TR");b.rows[0].parentNode.appendChild(c);for(f=0;f<a[0].length;f++)if("#cspan"==a[0][f])d=c.cells[c.cells.length-
1],d.colSpan=(d.colSpan||1)+1;else if("#rspan"==a[0][f]&&1<b.rows.length){for(var g=b.rows.length-2,k=!1,d=null;!k;){for(var d=b.rows[g],h=0;h<d.cells.length;h++)if(d.cells[h]._cellIndex==f){k=h+1;break}g--}d=d.cells[k-1];d.rowSpan=(d.rowSpan||1)+1}else{g=document.createElement("TD");g._cellIndex=g._cellIndexS=f;this._hrrar&&this._hrrar[f]&&!_isIE&&(g.style.display="none");if("object"==typeof a[0][f])g.appendChild(a[0][f]);else if(g.innerHTML=this.forceDivInHeader?"<div class='hdrcell'>"+(a[0][f]||
"&nbsp;")+"</div>":a[0][f]||"&nbsp;",-1!=(a[0][f]||"").indexOf("#"))if(d=a[0][f].match(/(^|{)#([^}]+)(}|$)/))if(k="_in_header_"+d[2],this[k])this[k](this.forceDivInHeader?g.firstChild:g,f,a[0][f].split(d[0]));e&&(g.style.cssText=e[f]);c.appendChild(g)}_isKHTML&&(b._kTimer&&window.clearTimeout(b._kTimer),b._kTimer=window.setTimeout(function(){b.rows[1].style.display="none";window.setTimeout(function(){b.rows[1].style.display=""},1)},500))},forEachRow:function(a){for(var b in this.rowsAr)this.rowsAr[b]&&
this.rowsAr[b].idd&&a.apply(this,[this.rowsAr[b].idd])},forEachRowA:function(a){for(var b=0;b<this.rowsBuffer.length;b++)this.rowsBuffer[b]&&a.call(this,this.render_row(b).idd)},forEachCell:function(a,b){var c=this.getRowById(a);if(c)for(var d=0;d<this._cCount;d++)b(this.cells3(c,d),d)},enableAutoWidth:function(a,b,c){this._awdth=[convertStringToBoolean(a),parseInt(b||99999),parseInt(c||0)];1==arguments.length&&(this.objBox.style.overflowX=a?"hidden":"auto")},updateFromXML:function(a,b,c,d){"undefined"==
typeof b&&(b=!0);this._refresh_mode=[!0,b,c];this.load(a,d)},_refreshFromXML:function(a){this._f_rowsBuffer&&this.filterBy(0,"");reset=!1;window.eXcell_tree&&(eXcell_tree.prototype.setValueX=eXcell_tree.prototype.setValue,eXcell_tree.prototype.setValue=function(a){this.grid._h2.get[this.cell.parentNode.idd]&&this.cell.parentNode.valTag?this.setLabel(a):this.setValueX(a)});var b=this.cellType._dhx_find("tree");a.getXMLTopNode("rows");var c=a.doXPath("//rows")[0].getAttribute("parent")||0,d={};this._refresh_mode[2]&&
(-1!=b?this._h2.forEachChild(c,function(a){d[a.id]=!0},this):this.forEachRow(function(a){d[a]=!0}));a=a.doXPath("//row");for(b=0;b<a.length;b++){var e=a[b],f=e.getAttribute("id");d[f]=!1;c=e.parentNode.getAttribute("id")||c;if(this.rowsAr[f]&&"TR"!=this.rowsAr[f].tagName)this._h2?this._h2.get[f].buff.data=e:this.rowsBuffer[this.getRowIndex(f)].data=e,this.rowsAr[f]=e;else if(this.rowsAr[f])this._process_xml_row(this.rowsAr[f],e,-1),this._postRowProcessing(this.rowsAr[f],!0);else if(this._refresh_mode[1]){var g=
{idd:f,data:e,_parser:this._process_xml_row,_locator:this._get_xml_data},k=this.rowsBuffer.length;"top"==this._refresh_mode[1]?(this.rowsBuffer.unshift(g),k=0):this.rowsBuffer.push(g);this._h2&&(reset=!0,this._h2.add(f,e.parentNode.getAttribute("id")||e.parentNode.getAttribute("parent")).buff=this.rowsBuffer[this.rowsBuffer.length-1]);this.rowsAr[f]=e;e=this.render_row(k);this._insertRowAt(e,k?-1:0)}}if(this._refresh_mode[2])for(f in d)d[f]&&this.rowsAr[f]&&this.deleteRow(f);this._refresh_mode=null;
window.eXcell_tree&&(eXcell_tree.prototype.setValue=eXcell_tree.prototype.setValueX);reset&&this._renderSort();this._f_rowsBuffer&&(this._f_rowsBuffer=null,this.filterByAll())},getCustomCombo:function(a,b){var c=this.cells(a,b).cell;c._combo||(c._combo=new dhtmlXGridComboObject);return c._combo},setTabOrder:function(a){var b=a.split(this.delim);this._tabOrder=[];a=this._cCount||a.length;for(var c=0;c<a;c++)b[c]={c:parseInt(b[c]),ind:c};b.sort(function(a,b){return a.c>b.c?1:-1});for(c=0;c<a;c++)this._tabOrder[b[c].ind]=
b[c+1]&&"undefined"!=typeof b[c].c?b[c+1].ind:-1*(b[0].ind+1)},i18n:{loading:"Loading",decimal_separator:".",group_separator:","},_key_events:{k13_1_0:function(){var a=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[a+1],this.cell._cellIndex,!0)},k13_0_1:function(){var a=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[a-1],this.cell._cellIndex,!0)},k13_0_0:function(){this.editStop();this.callEvent("onEnter",[this.row?this.row.idd:null,this.cell?this.cell._cellIndex:null]);
this._still_active=!0},k9_0_0:function(){this.editStop();if(!this.callEvent("onTab",[!0]))return!0;var a=this._getNextCell(null,1);a&&(this.selectCell(a.parentNode,a._cellIndex,this.row!=a.parentNode,!1,!0),this._still_active=!0)},k9_0_1:function(){this.editStop();if(!this.callEvent("onTab",[!1]))return!1;var a=this._getNextCell(null,-1);a&&(this.selectCell(a.parentNode,a._cellIndex,this.row!=a.parentNode,!1,!0),this._still_active=!0)},k113_0_0:function(){this._f2kE&&this.editCell()},k32_0_0:function(){var a=
this.cells4(this.cell);if(!a.changeState||!1===a.changeState())return!1},k27_0_0:function(){this.editStop(!0)},k33_0_0:function(){this.pagingOn?this.changePage(this.currentPage-1):this.scrollPage(-1)},k34_0_0:function(){this.pagingOn?this.changePage(this.currentPage+1):this.scrollPage(1)},k37_0_0:function(){if(!this.editor&&this.isTreeGrid())this.collapseKids(this.row);else return!1},k39_0_0:function(){if(!this.editor&&this.isTreeGrid())this.expandKids(this.row);else return!1},k40_0_0:function(){var a=
this._realfake?this._fake:this;if(this.editor&&this.editor.combo)this.editor.shiftNext();else{if(!this.row.idd)return;var b=Math.max(a._r_select||0,this.getRowIndex(this.row.idd)),c=this._nextRow(b,1);if(c)a._r_select=null,this.selectCell(c,this.cell._cellIndex,!0),a.pagingOn&&a.showRow(c.idd);else{if(!this.callEvent("onLastRow",[]))return!1;this._key_events.k34_0_0.apply(this,[]);this.pagingOn&&this.rowsCol[b+1]&&this.selectCell(b+1,0,!0)}}this._still_active=!0},k38_0_0:function(){var a=this._realfake?
this._fake:this;if(this.editor&&this.editor.combo)this.editor.shiftPrev();else{if(!this.row.idd)return;var b=this.getRowIndex(this.row.idd)+1;-1==b||this.pagingOn&&1==b?this._key_events.k33_0_0.apply(this,[]):(b=this._nextRow(b-1,-1),this.selectCell(b,this.cell._cellIndex,!0),a.pagingOn&&b&&a.showRow(b.idd))}this._still_active=!0}},_build_master_row:function(){for(var a=document.createElement("DIV"),b=["<table><tr>"],c=0;c<this._cCount;c++)b.push("<td></td>");b.push("</tr></table>");a.innerHTML=b.join("");
this._master_row=a.firstChild.rows[0]},_prepareRow:function(a){this._master_row||this._build_master_row();for(var b=this._master_row.cloneNode(!0),c=0;c<b.childNodes.length;c++)b.childNodes[c]._cellIndex=c,this._enbCid&&(b.childNodes[c].id="c_"+a+"_"+c),this.dragAndDropOff&&this.dragger.addDraggableItem(b.childNodes[c],this);b.idd=a;b.grid=this;return b},_process_jsarray_row:function(a,b){a._attrs={};for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};this._fillRow(a,this._c_order?this._swapColumns(b):
b);return a},_get_jsarray_data:function(a,b){return a[b]},_process_json_row:function(a,b){b=this._c_order?this._swapColumns(b.data):b.data;return this._process_some_row(a,b)},_process_some_row:function(a,b){a._attrs={};for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};this._fillRow(a,b);return a},_get_json_data:function(a,b){return a.data[b]},_process_js_row:function(a,b){for(var c=[],d=0;d<this.columnIds.length;d++)c[d]=b[this.columnIds[d]],!c[d]&&0!==c[d]&&(c[d]="");this._process_some_row(a,
c);a._attrs=b;return a},_get_js_data:function(a,b){return a[this.columnIds[b]]},_process_csv_row:function(a,b){a._attrs={};for(var c=0;c<a.childNodes.length;c++)a.childNodes[c]._attrs={};this._fillRow(a,this._c_order?this._swapColumns(b.split(this.csv.cell)):b.split(this.csv.cell));return a},_get_csv_data:function(a,b){return a.split(this.csv.cell)[b]},_process_store_row:function(a,b){for(var c=[],d=0;d<this.columnIds.length;d++)c[d]=b[this.columnIds[d]];for(d=0;d<a.childNodes.length;d++)a.childNodes[d]._attrs=
{};a._attrs=b;this._fillRow(a,c)},_process_xml_row:function(a,b){var c=this.xmlLoader.doXPath(this.xml.cell,b),d=[];a._attrs=this._xml_attrs(b);if(this._ud_enabled)for(var e=this.xmlLoader.doXPath("./userdata",b),f=e.length-1;0<=f;f--){for(var g="",k=0;k<e[f].childNodes.length;k++)g+=e[f].childNodes[k].nodeValue;this.setUserData(a.idd,e[f].getAttribute("name"),g)}for(k=0;k<c.length;k++)if(e=c[this._c_order?this._c_order[k]:k])f=a._childIndexes?a._childIndexes[k]:k,g=e.getAttribute("type"),a.childNodes[f]&&
(g&&(a.childNodes[f]._cellType=g),a.childNodes[f]._attrs=this._xml_attrs(e)),e.getAttribute("xmlcontent")||(e=e.firstChild?e.firstChild.data:""),d.push(e);for(;k<a.childNodes.length;k++)a.childNodes[k]._attrs={};a.parentNode&&"row"==a.parentNode.tagName&&(a._attrs.parent=a.parentNode.getAttribute("idd"));this._fillRow(a,d);return a},_get_xml_data:function(a,b){for(a=a.firstChild;;){if(!a)return"";"cell"==a.tagName&&b--;if(0>b)break;a=a.nextSibling}return a.firstChild?a.firstChild.data:""},_fillRow:function(a,
b){this.editor&&this.editStop();for(var c=0;c<a.childNodes.length;c++)if(c<b.length||this.defVal[c]){var d=a.childNodes[c]._cellIndex,e=b[d],f=this.cells4(a.childNodes[c]);!this.defVal[d]||""!=e&&"undefined"!=typeof e||(e=this.defVal[d]);f&&f.setValue(e)}else a.childNodes[c].innerHTML="&nbsp;",a.childNodes[c]._clearCell=!0;return a},_postRowProcessing:function(a,b){a._attrs["class"]&&(a._css=a.className=a._attrs["class"]);a._attrs.locked&&(a._locked=!0);a._attrs.bgColor&&(a.bgColor=a._attrs.bgColor);
for(var c=0,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d],f=e._cellIndex,g=e._attrs.style||a._attrs.style;g&&(e.style.cssText+=";"+g);e._attrs["class"]&&(e.className=e._attrs["class"]);if(e._attrs.align||this.cellAlign[f])e.align=this.cellAlign[f];e.vAlign=e._attrs.valign||this.cellVAlign[f];if(g=e._attrs.bgColor||this.columnColor[f])e.bgColor=g;e._attrs.colspan&&!b&&(this.setColspan(a.idd,d+c,e._attrs.colspan),c+=e._attrs.colspan-1);this._hrrar&&this._hrrar[f]&&!b&&(e.style.display="none")}this.callEvent("onRowCreated",
[a.idd,a,null])},load:function(a,b,c){this.callEvent("onXLS",[this]);2==arguments.length&&"function"!=typeof b&&(c=b,b=null);c=c||"xml";this.xmlFileUrl||(this.xmlFileUrl=a);this._data_type=c;this.xmlLoader.onloadAction=function(a,e,f,g,k){a.callEvent&&(k=a["_process_"+c](k),a._contextCallTimer||a.callEvent("onXLE",[a,0,0,k]),b&&(b(),b=null))};this.xmlLoader.loadXML(a)},loadXML:function(a,b){this.load(a,b,"xml")},parse:function(a,b,c){2==arguments.length&&"function"!=typeof b&&(c=b,b=null);this._data_type=
c=c||"xml";a=this["_process_"+c](a);this._contextCallTimer||this.callEvent("onXLE",[this,0,0,a]);b&&b()},xml:{top:"rows",row:"./row",cell:"./cell",s_row:"row",s_cell:"cell",row_attrs:[],cell_attrs:[]},csv:{row:"\n",cell:","},_xml_attrs:function(a){var b={};if(a.attributes.length)for(var c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;return b},_process_xml:function(a){if(!a.doXPath){var b=new dtmlXMLLoaderObject(function(){});"string"==typeof a?b.loadXMLString(a):(b.xmlDoc=
a.responseXML?a:{},b.xmlDoc.responseXML=a);a=b}if(this._refresh_mode)return this._refreshFromXML(a);this._parsing=!0;b=a.getXMLTopNode(this.xml.top);if(b.tagName==this.xml.top){var c=b.getAttribute("dhx_security");c&&(dhtmlx.security_key=c);this._parseHead(b);var b=a.doXPath(this.xml.row,b),c=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),d=parseInt(a.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0),d=Math.min(d,32E6/this._srdh),e=!1;d&&d!=this.rowsBuffer.length&&(this.rowsBuffer[d-
1]||(this.rowsBuffer.length&&(e=!0),this.rowsBuffer[d-1]=null),d<this.rowsBuffer.length&&(this.rowsBuffer.splice(d,this.rowsBuffer.length-d),e=!0));if(this.isTreeGrid())return this._process_tree_xml(a);for(d=0;d<b.length;d++)if(!this.rowsBuffer[d+c]){var f=b[d].getAttribute("id")||d+c+1;this.rowsBuffer[d+c]={idd:f,data:b[d],_parser:this._process_xml_row,_locator:this._get_xml_data};this.rowsAr[f]=b[d]}this.callEvent("onDataReady",[]);e&&this._srnd?(b=this.objBox.scrollTop,this._reset_view(),this.objBox.scrollTop=
b):this.render_dataset();this._parsing=!1;return a.xmlDoc.responseXML?a.xmlDoc.responseXML:a.xmlDoc}},_process_jsarray:function(a){this._parsing=!0;a&&a.xmlDoc&&(eval("dhtmlx.temp="+a.xmlDoc.responseText+";"),a=dhtmlx.temp);for(var b=0;b<a.length;b++){var c=b+1;this.rowsBuffer.push({idd:c,data:a[b],_parser:this._process_jsarray_row,_locator:this._get_jsarray_data});this.rowsAr[c]=a[b]}this.render_dataset();this._parsing=!1},_process_csv:function(a){this._parsing=!0;a.xmlDoc&&(a=a.xmlDoc.responseText);
a=a.replace(/\r/g,"");a=a.split(this.csv.row);if(this._csvHdr){this.clearAll();var b=a.splice(0,1)[0].split(this.csv.cell);this._csvAID||b.splice(0,1);this.setHeader(b.join(this.delim));this.init()}for(b=0;b<a.length;b++)if(a[b]||b!=a.length-1){if(this._csvAID){var c=b+1;this.rowsBuffer.push({idd:c,data:a[b],_parser:this._process_csv_row,_locator:this._get_csv_data})}else{var d=a[b].split(this.csv.cell),c=d.splice(0,1)[0];this.rowsBuffer.push({idd:c,data:d,_parser:this._process_jsarray_row,_locator:this._get_jsarray_data})}this.rowsAr[c]=
a[b]}this.render_dataset();this._parsing=!1},_process_js:function(a){return this._process_json(a,"js")},_process_json:function(a,b){this._parsing=!0;a&&a.xmlDoc&&(eval("dhtmlx.temp="+a.xmlDoc.responseText+";"),a=dhtmlx.temp);if("js"==b){a.data&&(a=a.data);for(var c=0;c<a.length;c++){var d=a[c],e=d.id||c+1;this.rowsBuffer.push({idd:e,data:d,_parser:this._process_js_row,_locator:this._get_js_data});this.rowsAr[e]=a[c]}}else for(c=0;c<a.rows.length;c++)e=a.rows[c].id,this.rowsBuffer.push({idd:e,data:a.rows[c],
_parser:this._process_json_row,_locator:this._get_json_data}),this.rowsAr[e]=a.rows[c];a.dhx_security&&(dhtmlx.security_key=a.dhx_security);this.render_dataset();this._parsing=!1},render_dataset:function(a,b){if(this._srnd){if(this._fillers)return this._update_srnd_view();b=Math.min(this._get_view_size()+(this._srnd_pr||0),this.rowsBuffer.length)}this.pagingOn?(a=Math.max(a||0,(this.currentPage-1)*this.rowsBufferOutSize),b=Math.min(this.currentPage*this.rowsBufferOutSize,this.rowsBuffer.length)):
(a=a||0,b=b||this.rowsBuffer.length);for(var c=a;c<b;c++){var d=this.render_row(c);if(-1==d){this.xmlFileUrl&&this.callEvent("onDynXLS",[c,this._dpref?this._dpref:b-c])&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+c+"&count="+(this._dpref?this._dpref:b-c),this._data_type);b=c;break}if(!d.parentNode||!d.parentNode.tagName)if(this._insertRowAt(d,c),d._attrs.selected||d._attrs.select)this.selectRow(d,d._attrs.call?!0:!1,!0),d._attrs.selected=d._attrs.select=null;if(this._ads_count&&
c-a==this._ads_count){var e=this;this._context_parsing=this._context_parsing||this._parsing;return this._contextCallTimer=window.setTimeout(function(){e._contextCallTimer=null;e.render_dataset(c,b);e._contextCallTimer||(e._context_parsing?e.callEvent("onXLE",[]):e._fixAlterCss(),e.callEvent("onDistributedEnd",[]),e._context_parsing=!1)},this._ads_time)}}if(this._srnd&&!this._fillers)for(d=this.rowsBuffer.length-b,this._fillers=[];0<d;){var f=_isIE||window._FFrv?Math.min(d,5E4):d,g=this._add_filler(b,
f);g&&this._fillers.push(g);d-=f;b+=f}this.setSizes()},render_row:function(a){if(!this.rowsBuffer[a])return-1;if(this.rowsBuffer[a]._parser){var b=this.rowsBuffer[a];if(this.rowsAr[b.idd]&&"TR"==this.rowsAr[b.idd].tagName)return this.rowsBuffer[a]=this.rowsAr[b.idd];var c=this._prepareRow(b.idd);this.rowsBuffer[a]=c;this.rowsAr[b.idd]=c;b._parser.call(this,c,b.data);this._postRowProcessing(c);return c}return this.rowsBuffer[a]},_get_cell_value:function(a,b,c){return a._locator?(this._c_order&&(b=
this._c_order[b]),a._locator.call(this,a.data,b)):this.cells3(a,b)[c?c:"getValue"]()},sortRows:function(a,b,c){c=(c||"asc").toLowerCase();b=b||this.fldSort[a];a=a||0;if(this.isTreeGrid())this.sortTreeRows(a,b,c);else{var d={},e=this.cellType[a],f="getValue";"link"==e&&(f="getContent");if("dhxCalendar"==e||"dhxCalendarA"==e)f="getDate";for(e=0;e<this.rowsBuffer.length;e++)d[this.rowsBuffer[e].idd]=this._get_cell_value(this.rowsBuffer[e],a,f);this._sortRows(a,b,c,d)}this.callEvent("onAfterSorting",
[a,b,c])},_sortCore:function(a,b,c,d,e){a="sort";this._sst&&(e.stablesort=this.rowsCol.stablesort,a="stablesort");if("str"==b)e[a](function(a,b){return"asc"==c?d[a.idd]>d[b.idd]?1:d[a.idd]<d[b.idd]?-1:0:d[a.idd]<d[b.idd]?1:d[a.idd]>d[b.idd]?-1:0});else if("int"==b)e[a](function(a,b){var e=parseFloat(d[a.idd]),e=isNaN(e)?-99999999999999:e,h=parseFloat(d[b.idd]),h=isNaN(h)?-99999999999999:h;return"asc"==c?e-h:h-e});else if("date"==b)e[a](function(a,b){var e=Date.parse(d[a.idd])||Date.parse("01/01/1900"),
h=Date.parse(d[b.idd])||Date.parse("01/01/1900");return"asc"==c?e-h:h-e})},_sortRows:function(a,b,c,d){this._sortCore(a,b,c,d,this.rowsBuffer);this._reset_view();this.callEvent("onGridReconstructed",[])},_reset_view:function(a){if(this.obj.rows[0]){this._lahRw&&this._unsetRowHover(0,!0);this.callEvent("onResetView",[]);var b=this.obj.rows[0].parentNode,c=b.removeChild(b.childNodes[0],!0);if(_isKHTML)for(var d=b.parentNode.childNodes.length-1;0<=d;d--)"TR"==b.parentNode.childNodes[d].tagName&&b.parentNode.removeChild(b.parentNode.childNodes[d],
!0);else if(_isIE)for(d=b.childNodes.length-1;0<=d;d--)b.childNodes[d].removeNode(!0);else b.innerHTML="";b.appendChild(c);this.rowsCol=dhtmlxArray();this._sst&&this.enableStableSorting(!0);this._fillers=this.undefined;a||this.render_dataset()}},deleteRow:function(a,b){b||(b=this.getRowById(a));if(b){this.editStop();if(!this._realfake&&!1==this.callEvent("onBeforeRowDeleted",[a]))return!1;var c=0;if(-1==this.cellType._dhx_find("tree")||this._realfake){b.parentNode&&b.parentNode.removeChild(b);var d=
this.rowsCol._dhx_find(b);-1!=d&&this.rowsCol._dhx_removeAt(d);for(var e=0;e<this.rowsBuffer.length;e++)if(this.rowsBuffer[e]&&this.rowsBuffer[e].idd==a){this.rowsBuffer._dhx_removeAt(e);d=e;break}}else c=this._h2.get[a].parent.id,this._removeTrGrRow(b);this.rowsAr[a]=null;for(e=0;e<this.selectedRows.length;e++)this.selectedRows[e].idd==a&&this.selectedRows._dhx_removeAt(e);if(this._srnd){for(e=0;e<this._fillers.length;e++){var f=this._fillers[e];f&&this._update_fillers(e,f[1]>=d?-1:0,f[0]>=d?-1:
0)}this._update_srnd_view()}this.pagingOn&&this.changePage();this._realfake||this.callEvent("onAfterRowDeleted",[a,c]);this.callEvent("onGridReconstructed",[]);this._ahgr&&this.setSizes();return!0}},_addRow:function(a,b,c){if(-1==c||"undefined"==typeof c)c=this.rowsBuffer.length;"string"==typeof b&&(b=b.split(this.delim));a=this._prepareRow(a);a._attrs={};for(var d=0;d<a.childNodes.length;d++)a.childNodes[d]._attrs={};this.rowsAr[a.idd]=a;this._h2&&(this._h2.get[a.idd].buff=a);this._fillRow(a,b);
this._postRowProcessing(a);if(this._skipInsert)return this._skipInsert=!1,this.rowsAr[a.idd]=a;if(this.pagingOn)return this.rowsBuffer._dhx_insertAt(c,a),this.rowsAr[a.idd]=a;if(this._fillers){this.rowsCol._dhx_insertAt(c,null);this.rowsBuffer._dhx_insertAt(c,a);this._fake&&this._fake.rowsCol._dhx_insertAt(c,null);this.rowsAr[a.idd]=a;b=!1;for(d=0;d<this._fillers.length;d++){var e=this._fillers[d];if(e&&e[0]<=c&&e[0]+e[1]>=c){e[1]+=1;var f=e[2].firstChild.style.height=parseInt(e[2].firstChild.style.height)+
this._srdh+"px";b=!0;this._fake&&(this._fake._fillers[d][1]++,this._fake._fillers[d][2].firstChild.style.height=f)}e&&e[0]>c&&(e[0]+=1,this._fake&&this._fake._fillers[d][0]++)}b||this._fillers.push(this._add_filler(c,1,0==c?{parentNode:this.obj.rows[0].parentNode,nextSibling:this.rowsCol[1]}:this.rowsCol[c-1]));return a}this.rowsBuffer._dhx_insertAt(c,a);return this._insertRowAt(a,c)},addRow:function(a,b,c){b=this._addRow(a,b,c);this.dragContext||this.callEvent("onRowAdded",[a]);this.pagingOn&&this.changePage(this.currentPage);
this._srnd&&this._update_srnd_view();b._added=!0;this._ahgr&&this.setSizes();this.callEvent("onGridReconstructed",[]);return b},_insertRowAt:function(a,b,c){this.rowsAr[a.idd]=a;if(this._skipInsert)return this._skipInsert=!1,a;0>b||!b&&0!==parseInt(b)?b=this.rowsCol.length:b>this.rowsCol.length&&(b=this.rowsCol.length);if(this._cssEven){var d=a.className.replace(this._cssUnEven,"");a.className+=1==(this._cssSP?this.getLevel(a.idd):b)%2?d+" "+this._cssUnEven+(this._cssSU?" "+this._cssUnEven+"_"+this.getLevel(a.idd):
""):d+" "+this._cssEven+(this._cssSU?" "+this._cssEven+"_"+this.getLevel(a.idd):"")}c||(b!=this.obj.rows.length-1&&this.rowsCol[b]?this.rowsCol[b].parentNode.insertBefore(a,this.rowsCol[b]):_isKHTML?this.obj.appendChild(a):this.obj.firstChild.appendChild(a));this.rowsCol._dhx_insertAt(b,a);this.callEvent("onRowInserted",[a,b]);return a},getRowById:function(a){var b=this.rowsAr[a];if(b){if("TR"!=b.tagName){for(var c=0;c<this.rowsBuffer.length;c++)if(this.rowsBuffer[c]&&this.rowsBuffer[c].idd==a)return this.render_row(c);
if(this._h2)return this.render_row(null,b.idd)}return b}return null},cellById:function(a,b){return this.cells(a,b)},cells:function(a,b){if(0==arguments.length)return this.cells4(this.cell);var c=this.getRowById(a),d=c._childIndexes?c.childNodes[c._childIndexes[b]]:c.childNodes[b];!d&&c._childIndexes&&(d=c.firstChild||{});return this.cells4(d)},cellByIndex:function(a,b){return this.cells2(a,b)},cells2:function(a,b){var c=this.render_row(a),d=c._childIndexes?c.childNodes[c._childIndexes[b]]:c.childNodes[b];
!d&&c._childIndexes&&(d=c.firstChild||{});return this.cells4(d)},cells3:function(a,b){return this.cells4(a._childIndexes?a.childNodes[a._childIndexes[b]]:a.childNodes[b])},cells4:function(a){var b=window["eXcell_"+(a._cellType||this.cellType[a._cellIndex])];if(b)return new b(a)},cells5:function(a,b){b=b||a._cellType||this.cellType[a._cellIndex];this._ecache[b]||(this._ecache[b]=new (window["eXcell_"+b]?window["eXcell_"+b]:eXcell_ro)(a));this._ecache[b].cell=a;return this._ecache[b]},dma:function(a){this._ecache||
(this._ecache={});a&&!this._dma?(this._dma=this.cells4,this.cells4=this.cells5):!a&&this._dma&&(this.cells4=this._dma,this._dma=null)},getRowsNum:function(){return this.rowsBuffer.length},enableEditTabOnly:function(a){this.smartTabOrder=0<arguments.length?convertStringToBoolean(a):!0},setExternalTabOrder:function(a,b){var c=this;this.tabStart="object"==typeof a?a:document.getElementById(a);var d=this.tabStart.onkeydown;this.tabStart.onkeydown=function(a){d&&d.call(this,a);a=a||window.event;if(9==
a.keyCode&&!a.shiftKey)return a.cancelBubble=!0,c.selectCell(0,0,0,0,1),c.smartTabOrder&&c.cells2(0,0).isDisabled()&&c._key_events.k9_0_0.call(c),this.blur(),!1};_isOpera&&(this.tabStart.onkeypress=this.tabStart.onkeydown);this.tabEnd="object"==typeof b?b:document.getElementById(b);var e=this.tabEnd.onkeydown;this.tabEnd.onkeydown=this.tabEnd.onkeypress=function(a){e&&e.call(this,a);a=a||window.event;if(9==a.keyCode&&a.shiftKey)return a.cancelBubble=!0,c.selectCell(c.getRowsNum()-1,c.getColumnCount()-
1,0,0,1),c.smartTabOrder&&c.cells2(c.getRowsNum()-1,c.getColumnCount()-1).isDisabled()&&c._key_events.k9_0_1.call(c),this.blur(),!1};_isOpera&&(this.tabEnd.onkeypress=this.tabEnd.onkeydown)},uid:function(){this._ui_seed||(this._ui_seed=(new Date).valueOf());return this._ui_seed++},clearAndLoad:function(){var a=this._pgn_skin;this._pgn_skin=null;this.clearAll();this._pgn_skin=a;this.load.apply(this,arguments)},getStateOfView:function(){if(this.pagingOn){var a=(this.currentPage-1)*this.rowsBufferOutSize;
return[this.currentPage,a,Math.min(a+this.rowsBufferOutSize,this.rowsBuffer.length),this.rowsBuffer.length]}return[Math.floor(this.objBox.scrollTop/this._srdh),Math.ceil(parseInt(this.objBox.offsetHeight)/this._srdh),this.rowsBuffer.length]}};
(function(){function a(a,b){this[a]=b}function b(a,b){this[a].call(this,b)}function c(a,b){this[a].call(this,b.join(this.delim))}var d=[{name:"label",def:"&nbsp;",operation:"setHeader",type:function(a,b){function c(a,b,e){d[b]||(d[b]=[]);"object"==typeof e&&(e.toString=function(){return this.text});d[b][a]=e}for(var d=[],h=0;h<b.length;h++)if("object"==typeof b[h]&&b[h].length)for(var l=0;l<b[h].length;l++)c(h,l,b[h][l]);else c(h,0,b[h]);for(h=0;h<d.length;h++)for(l=0;l<d[0].length;l++){var m=d[h][l];
d[h][l]=(m||"").toString()||"&nbsp;";if(m&&m.colspan)for(var n=1;n<m.colspan;n++)c(l+n,h,"#cspan");if(m&&m.rowspan)for(n=1;n<m.rowspan;n++)c(l,h+n,"#rspan")}this.setHeader(d[0]);for(h=1;h<d.length;h++)this.attachHeader(d[h])}},{name:"id",def:"",operation:"columnIds",type:a},{name:"width",def:"*",operation:"setInitWidths",type:c},{name:"align",def:"left",operation:"cellAlign",type:a},{name:"valign",def:"middle",operation:"cellVAlign",type:a},{name:"sort",def:"na",operation:"fldSort",type:a},{name:"type",
def:"ro",operation:"setColTypes",type:c},{name:"options",def:"",operation:"",type:function(a,b){for(var c=0;c<b.length;c++)if("object"==typeof b[c]){var d=this.getCombo(c),h;for(h in b[c])d.put(h,b[c][h])}}}];dhtmlx.extend_api("dhtmlXGridObject",{_init:function(a){return[a.parent]},image_path:"setImagePath",columns:"columns",rows:"rows",headers:"headers",skin:"setSkin",smart_rendering:"enableSmartRendering",css:"enableAlterCss",auto_height:"enableAutoHeight",save_hidden:"enableAutoHiddenColumnsSaving",
save_cookie:"enableAutoSaving",save_size:"enableAutoSizeSaving",auto_width:"enableAutoWidth",block_selection:"enableBlockSelection",csv_id:"enableCSVAutoID",csv_header:"enableCSVHeader",cell_ids:"enableCellIds",colspan:"enableColSpan",column_move:"enableColumnMove",context_menu:"enableContextMenu",distributed:"enableDistributedParsing",drag:"enableDragAndDrop",drag_order:"enableDragOrder",tabulation:"enableEditTabOnly",header_images:"enableHeaderImages",header_menu:"enableHeaderMenu",keymap:"enableKeyboardSupport",
mouse_navigation:"enableLightMouseNavigation",markers:"enableMarkedCells",math_editing:"enableMathEditing",math_serialization:"enableMathSerialization",drag_copy:"enableMercyDrag",multiline:"enableMultiline",multiselect:"enableMultiselect",save_column_order:"enableOrderSaving",hover:"enableRowsHover",rowspan:"enableRowspan",smart:"enableSmartRendering",save_sorting:"enableSortingSaving",stable_sorting:"enableStableSorting",undo:"enableUndoRedo",csv_cell:"setCSVDelimiter",date_format:"setDateFormat",
drag_behavior:"setDragBehavior",editable:"setEditable",without_header:"setNoHeader",submit_changed:"submitOnlyChanged",submit_serialization:"submitSerialization",submit_selected:"submitOnlySelected",submit_id:"submitOnlyRowID",xml:"load"},{columns:function(a){for(var c=0;c<d.length;c++){for(var g=[],k=0;k<a.length;k++)g[k]=a[k][d[c].name]||d[c].def;(d[c].type||b).call(this,d[c].operation,g,a)}this.init()},rows:function(){},headers:function(a){for(var b=0;b<a.length;b++)this.attachHeader(a[b])}})})();
dhtmlXGridObject.prototype._dp_init=function(a){a.attachEvent("insertCallback",function(a,c){this.obj._h2?this.obj.addRow(c,d,null,parent):this.obj.addRow(c,[],0);var d=this.obj.getRowById(c);d&&(this.obj._process_xml_row(d,a.firstChild),this.obj._postRowProcessing(d))});a.attachEvent("updateCallback",function(a,c){var d=this.obj.getRowById(c);d&&(this.obj._process_xml_row(d,a.firstChild),this.obj._postRowProcessing(d))});a.attachEvent("deleteCallback",function(a,c){this.obj.setUserData(c,this.action_param,
"true_deleted");this.obj.deleteRow(c)});a._methods=["setRowTextStyle","setCellTextStyle","changeRowId","deleteRow"];this.attachEvent("onEditCell",function(b,c,d){if(a._columns&&!a._columns[d])return!0;d=this.cells(c,d);1==b?d.isCheckbox()&&a.setUpdated(c,!0):2==b&&d.wasChanged()&&a.setUpdated(c,!0);return!0});this.attachEvent("onRowPaste",function(b){a.setUpdated(b,!0)});this.attachEvent("onUndo",function(b){a.setUpdated(b,!0)});this.attachEvent("onRowIdChange",function(b,c){var d=a.findRow(b);d<
a.updatedRows.length&&(a.updatedRows[d]=c)});this.attachEvent("onSelectStateChanged",function(){"row"==a.updateMode&&a.sendData();return!0});this.attachEvent("onEnter",function(){"row"==a.updateMode&&a.sendData();return!0});this.attachEvent("onBeforeRowDeleted",function(b){if(!this.rowsAr[b])return!0;if(this.dragContext&&a.dnd)return window.setTimeout(function(){a.setUpdated(b,!0)},1),!0;var c=a.getState(b);this._h2&&this._h2.forEachChild(b,function(b){a.setUpdated(b.id,!1);a.markRow(b.id,!0,"deleted")},
this);if("inserted"==c)return a.set_invalid(b,!1),a.setUpdated(b,!1),!0;if("deleted"==c)return!1;if("true_deleted"==c)return a.setUpdated(b,!1),!0;a.setUpdated(b,!0,"deleted");return!1});this.attachEvent("onBindUpdate",function(b){"object"==typeof b&&(b=b.id);a.setUpdated(b,!0)});this.attachEvent("onRowAdded",function(b){if(this.dragContext&&a.dnd)return!0;a.setUpdated(b,!0,"inserted");return!0});a._getRowData=function(a){var c=[];c.gr_id=a;this.obj.isTreeGrid()&&(c.gr_pid=this.obj.getParentId(a));
for(var d=this.obj.getRowById(a),e=0;e<this.obj._cCount;e++){var f=this.obj._c_order?this.obj._c_order[e]:e,g=this.obj.cells(d.idd,e);if(!this._changed||g.wasChanged())this._endnm?c[this.obj.getColumnId(e)]=g.getValue():c["c"+f]=g.getValue()}if(a=this.obj.UserData[a])for(d=0;d<a.keys.length;d++)a.keys[d]&&0!=a.keys[d].indexOf("__")&&(c[a.keys[d]]=a.values[d]);if(a=this.obj.UserData.gridglobaluserdata)for(d=0;d<a.keys.length;d++)c[a.keys[d]]=a.values[d];return c};a._clearUpdateFlag=function(a){if(this.obj.getRowById(a))for(var c=
0;c<this.obj._cCount;c++)this.obj.cells(a,c).cell.wasChanged=!1};a.checkBeforeUpdate=function(a){for(var c=!0,d=[],e=0;e<this.obj._cCount;e++)if(this.mandatoryFields[e]){var f=this.mandatoryFields[e].call(this.obj,this.obj.cells(a,e).getValue(),a,e);"string"==typeof f?(this.messages.push(f),c=!1):(c&=f,d[e]=!f)}c||(this.set_invalid(a,"invalid",d),this.setUpdated(a,!1));return c}};
function dhtmlXGridCellObject(a){this.destructor=function(){return this.base=this.grid=this.cell=this.cell.obj=null};this.cell=a;this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell.innerHTML._dhx_trim()};this.getMathValue=function(){return this.cell.original?this.cell.original:this.getValue()};this.getFont=function(){arOut=Array(3);this.cell.style.fontFamily&&(arOut[0]=this.cell.style.fontFamily);if("bold"==this.cell.style.fontWeight||
"bold"==this.cell.parentNode.style.fontWeight)arOut[1]="bold";if("italic"==this.cell.style.fontStyle||"italic"==this.cell.parentNode.style.fontWeight)arOut[1]+="italic";arOut[2]=this.cell.style.fontSize?this.cell.style.fontSize:"";return arOut.join("-")};this.getTextColor=function(){return this.cell.style.color?this.cell.style.color:"#000000"};this.getBgColor=function(){return this.cell.bgColor?this.cell.bgColor:"#FFFFFF"};this.getHorAlign=function(){return this.cell.style.textAlign?this.cell.style.textAlign:
this.cell.style.textAlign?this.cell.style.textAlign:"left"};this.getWidth=function(){return this.cell.scrollWidth};this.setFont=function(a){fntAr=a.split("-");this.cell.style.fontFamily=fntAr[0];this.cell.style.fontSize=fntAr[fntAr.length-1];3==fntAr.length&&(/bold/.test(fntAr[1])&&(this.cell.style.fontWeight="bold"),/italic/.test(fntAr[1])&&(this.cell.style.fontStyle="italic"),/underline/.test(fntAr[1])&&(this.cell.style.textDecoration="underline"))};this.setTextColor=function(a){this.cell.style.color=
a};this.setBgColor=function(a){""==a&&(a=null);this.cell.bgColor=a};this.setHorAlign=function(a){this.cell.style.textAlign=1==a.length?"c"==a?"center":"l"==a?"left":"right":a};this.wasChanged=function(){return this.cell.wasChanged?!0:!1};this.isCheckbox=function(){var a=this.cell.firstChild;return a&&"INPUT"==a.tagName?(type=a.type,"radio"==type||"checkbox"==type?!0:!1):!1};this.isChecked=function(){if(this.isCheckbox())return this.cell.firstChild.checked};this.isDisabled=function(){return this.cell._disabled};
this.setChecked=function(a){this.isCheckbox()&&("true"!=a&&1!=a&&(a=!1),this.cell.firstChild.checked=a)};this.setDisabled=function(a){"true"!=a&&1!=a&&(a=!1);this.isCheckbox()&&(this.cell.firstChild.disabled=a,this.disabledF&&this.disabledF(a));this.cell._disabled=a}}
dhtmlXGridCellObject.prototype={getAttribute:function(a){return this.cell._attrs[a]},setAttribute:function(a,b){this.cell._attrs[a]=b},getInput:function(){if(this.obj&&("INPUT"==this.obj.tagName||"TEXTAREA"==this.obj.tagName))return this.obj;var a=(this.obj||this.cell).getElementsByTagName("TEXTAREA");a.length||(a=(this.obj||this.cell).getElementsByTagName("INPUT"));return a[0]}};
dhtmlXGridCellObject.prototype.setValue=function(a){"number"==typeof a||a&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a="&nbsp;",this.cell._clearCell=!0);this.setCValue(a)};dhtmlXGridCellObject.prototype.getTitle=function(){return _isIE?this.cell.innerText:this.cell.textContent};dhtmlXGridCellObject.prototype.setCValue=function(a){this.cell.innerHTML=a};dhtmlXGridCellObject.prototype.setCTxtValue=function(a){this.cell.innerHTML="";this.cell.appendChild(document.createTextNode(a))};
dhtmlXGridCellObject.prototype.setLabel=function(a){this.cell.innerHTML=a};dhtmlXGridCellObject.prototype.getMath=function(){return this._val?this.val:this.getValue()};function eXcell(){this.val=this.obj=null;this.changeState=function(){return!1};this.edit=function(){this.val=this.getValue()};this.detach=function(){return!1};this.getPosition=function(a){for(var b=0,c=0;"BODY"!=a.tagName;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return[b,c]}}eXcell.prototype=new dhtmlXGridCellObject;
function eXcell_ed(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.edit=function(){this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA";this.val=this.getValue();this.obj=document.createElement(this.cell.atag);this.obj.setAttribute("autocomplete","off");this.obj.style.height=this.cell.offsetHeight-4+"px";this.obj.className="dhx_combo_edit";this.obj.wrap="soft";this.obj.style.textAlign=this.cell.style.textAlign;this.obj.onclick=function(a){(a||event).cancelBubble=
!0};this.obj.onmousedown=function(a){(a||event).cancelBubble=!0};this.obj.value=this.val;this.cell.innerHTML="";this.cell.appendChild(this.obj);this.obj.onselectstart=function(a){a||(a=event);return a.cancelBubble=!0};_isIE&&(this.obj.focus(),this.obj.blur());this.obj.focus()};this.getValue=function(){return this.cell.firstChild&&this.cell.atag&&this.cell.firstChild.tagName==this.cell.atag?this.cell.firstChild.value:this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim()};this.detach=function(){this.setValue(this.obj.value);
return this.val!=this.getValue()}}eXcell_ed.prototype=new eXcell;function eXcell_edtxt(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.getValue=function(){return this.cell.firstChild&&this.cell.atag&&this.cell.firstChild.tagName==this.cell.atag?this.cell.firstChild.value:this.cell._clearCell?"":_isIE?this.cell.innerText:this.cell.textContent};this.setValue=function(a){a&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a=" ",this.cell._clearCell=!0);this.setCTxtValue(a)}}
eXcell_edtxt.prototype=new eXcell_ed;
function eXcell_ch(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.disabledF=function(a){this.cell.innerHTML=!0==a||1==a?this.cell.innerHTML.replace("item_chk0.","item_chk0_dis.").replace("item_chk1.","item_chk1_dis."):this.cell.innerHTML.replace("item_chk0_dis.","item_chk0.").replace("item_chk1_dis.","item_chk1.")};this.changeState=function(a){!0===a&&!this.grid.isActive&&(null!=window.globalActiveDHTMLGridObject&&window.globalActiveDHTMLGridObject!=this.grid&&window.globalActiveDHTMLGridObject.isActive&&
window.globalActiveDHTMLGridObject.setActive(!1),this.grid.setActive(!0));!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),"1"==this.val?this.setValue("0"):this.setValue("1"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=
this.val]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null)};this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"};this.isCheckbox=function(){return!0};this.isChecked=function(){return"1"==this.getValue()?!0:!1};this.setChecked=function(a){this.setValue(a.toString())};this.detach=function(){return this.val!=this.getValue()};this.edit=null}eXcell_ch.prototype=new eXcell;
eXcell_ch.prototype.setValue=function(a){this.cell.style.verticalAlign="middle";a&&(a=a.toString()._dhx_trim(),"false"==a||"0"==a)&&(a="");a?(a="1",this.cell.chstate="1"):(a="0",this.cell.chstate="0");this.setCValue("<img src='"+this.grid.imgURL+"item_chk"+a+".gif' onclick='new eXcell_ch(this.parentNode).changeState(true); (arguments[0]||event).cancelBubble=true; '>",this.cell.chstate)};
function eXcell_ra(a){this.base=eXcell_ch;this.base(a);this.grid=a.parentNode.grid;this.disabledF=function(a){this.cell.innerHTML=!0==a||1==a?this.cell.innerHTML.replace("radio_chk0.","radio_chk0_dis.").replace("radio_chk1.","radio_chk1_dis."):this.cell.innerHTML.replace("radio_chk0_dis.","radio_chk0.").replace("radio_chk1_dis.","radio_chk1.")};this.changeState=function(a){!1===a&&1==this.getValue()||!this.grid.isEditable||this.cell.parentNode._locked||(!1!=this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,
this.cell._cellIndex])?(this.val=this.getValue(),"1"==this.val?this.setValue("0"):this.setValue("1"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null)};this.edit=null}eXcell_ra.prototype=new eXcell_ch;
eXcell_ra.prototype.setValue=function(a){this.cell.style.verticalAlign="middle";a&&(a=a.toString()._dhx_trim(),"false"==a||"0"==a)&&(a="");a?(this.grid._RaSeCol||(this.grid._RaSeCol=[]),this.grid._RaSeCol[this.cell._cellIndex]&&(a=this.grid.cells4(this.grid._RaSeCol[this.cell._cellIndex]),a.setValue("0"),this.grid.rowsAr[a.cell.parentNode.idd]&&this.grid.callEvent("onEditCell",[1,a.cell.parentNode.idd,a.cell._cellIndex])),this.grid._RaSeCol[this.cell._cellIndex]=this.cell,a="1",this.cell.chstate=
"1"):(a="0",this.cell.chstate="0");this.setCValue("<img src='"+this.grid.imgURL+"radio_chk"+a+".gif' onclick='new eXcell_ra(this.parentNode).changeState(false);'>",this.cell.chstate)};
function eXcell_txt(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.edit=function(){this.val=this.getValue();this.obj=document.createElement("TEXTAREA");this.obj.className="dhx_textarea";this.obj.onclick=function(a){(a||event).cancelBubble=!0};var a=this.grid.getPosition(this.cell);this.obj.value=this.val;this.obj.style.display="";this.obj.style.textAlign=this.cell.style.textAlign;if(_isFF){var c=document.createElement("DIV");c.appendChild(this.obj);c.style.overflow="auto";c.className=
"dhx_textarea";this.obj.style.margin="0px 0px 0px 0px";this.obj.style.border="0px";this.obj=c}document.body.appendChild(this.obj);_isOpera&&(this.obj.onkeypress=function(a){if(9==a.keyCode)return!1});this.obj.onkeydown=function(a){a=a||event;if(9==a.keyCode)return globalActiveDHTMLGridObject.entBox.focus(),globalActiveDHTMLGridObject.doKey({keyCode:a.keyCode,shiftKey:a.shiftKey,srcElement:"0"}),!1};this.obj.style.left=a[0]+"px";this.obj.style.top=a[1]+this.cell.offsetHeight+"px";this.obj.style.width=
(200>this.cell.offsetWidth?200:this.cell.offsetWidth)+(_isFF?18:16)+"px";_isFF&&(this.obj.firstChild.style.width=parseInt(this.obj.style.width)+"px",this.obj.firstChild.style.height=this.obj.offsetHeight-3+"px");_isIE&&(this.obj.select(),this.obj.value=this.obj.value);_isFF?this.obj.firstChild.focus():this.obj.focus()};this.detach=function(){var a="",a=_isFF?this.obj.firstChild.value:this.obj.value;this.cell._clearCell=""==a?!0:!1;this.setValue(a);document.body.removeChild(this.obj);this.obj=null;
return this.val!=this.getValue()};this.getValue=function(){return this.obj?_isFF?this.obj.firstChild.value:this.obj.value:this.cell._clearCell?"":"undefined"!=typeof this.cell._brval?this.cell._brval:this.grid.multiLine?this.cell._brval||this.cell.innerHTML.replace(/<br[^>]*>/gi,"\n")._dhx_trim():this.cell._brval||this.cell.innerHTML}}eXcell_txt.prototype=new eXcell;
function eXcell_txttxt(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell._clearCell?"":!this.grid.multiLine&&this.cell._brval?this.cell._brval:_isIE?this.cell.innerText:this.cell.textContent};this.setValue=function(a){(this.cell._brval=a)&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a=" ",this.cell._clearCell=!0);this.setCTxtValue(a)}}
eXcell_txttxt.prototype=new eXcell_txt;eXcell_txt.prototype.setValue=function(a){(this.cell._brval=a)&&""!=a.toString()._dhx_trim()?this.cell._clearCell=!1:(a="&nbsp;",this.cell._clearCell=!0);!this.grid.multiLine||this.cell._clearCell?this.setCValue(a,this.cell._brval):this.setCValue(a.replace(/\n/g,"<br/>"),a)};
function eXcell_co(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid,this.combo=this.cell._combo||this.grid.getCombo(this.cell._cellIndex),this.editable=!0);this.shiftNext=function(){var a=this.list.options[this.list.selectedIndex+1];a&&(a.selected=!0);this.obj.value=this.list.options[this.list.selectedIndex].text;return!0};this.shiftPrev=function(){if(0!=this.list.selectedIndex){var a=this.list.options[this.list.selectedIndex-1];a&&(a.selected=!0);this.obj.value=this.list.options[this.list.selectedIndex].text}return!0};
this.edit=function(){this.val=this.getValue();this.text=this.getText()._dhx_trim();var a=this.grid.getPosition(this.cell);this.obj=document.createElement("TEXTAREA");this.obj.className="dhx_combo_edit";this.obj.style.height=this.cell.offsetHeight-4+"px";this.obj.wrap="soft";this.obj.style.textAlign=this.cell.style.textAlign;this.obj.onclick=function(a){(a||event).cancelBubble=!0};this.obj.onmousedown=function(a){(a||event).cancelBubble=!0};this.obj.value=this.text;this.obj.onselectstart=function(a){a||
(a=event);return a.cancelBubble=!0};var c=this;this.obj.onkeyup=function(a){a=(a||event).keyCode;if(38!=a&&40!=a&&9!=a){a=this.readonly?String.fromCharCode(a):this.value;for(var b=c.list.options,d=0;d<b.length;d++)if(0==b[d].text.indexOf(a))return b[d].selected=!0}};this.list=document.createElement("SELECT");this.list.className="dhx_combo_select";this.list.style.width=this.cell.offsetWidth+"px";this.list.style.left=a[0]+"px";this.list.style.top=a[1]+this.cell.offsetHeight+"px";this.list.onclick=function(a){a=
a||window.event;c.editable=!1;c.grid.editStop();a.cancelBubble=!0};for(var a=this.combo.getKeys(),d=!1,e=0,f=0;f<a.length;f++){var g=this.combo.get(a[f]);this.list.options[this.list.options.length]=new Option(g,a[f]);a[f]==this.val&&(e=this.list.options.length-1,d=!0)}!1==d&&(this.list.options[this.list.options.length]=new Option(this.text,null===this.val?"":this.val),e=this.list.options.length-1);document.body.appendChild(this.list);this.list.size="6";this.cstate=1;this.editable?this.cell.innerHTML=
"":(this.obj.style.width="1px",this.obj.style.height="1px");this.cell.appendChild(this.obj);this.list.options[e].selected=!0;if(!_isFF||this.editable)this.obj.focus(),this.obj.focus();this.editable||(this.obj.style.visibility="hidden",this.list.focus(),this.list.onkeydown=function(a){a=a||window.event;c.grid.setActive(!0);if(30>a.keyCode)return c.grid.doKey({target:c.cell,keyCode:a.keyCode,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey})})};this.getValue=function(){return this.cell.combo_value==window.undefined?
"":this.cell.combo_value};this.detach=function(){this.val!=this.getValue()&&(this.cell.wasChanged=!0);if(null!=this.list.parentNode)if(this.editable){var a=this.list.options[this.list.selectedIndex];if(a&&a.text==this.obj.value)this.setValue(this.list.value);else{var a=this.cell._combo||this.grid.getCombo(this.cell._cellIndex),c=a.values._dhx_find(this.obj.value);-1!=c?this.setValue(a.keys[c]):this.setCValue(this.cell.combo_value=this.obj.value)}}else this.setValue(this.list.value);this.list.parentNode&&
this.list.parentNode.removeChild(this.list);this.obj.parentNode&&this.obj.parentNode.removeChild(this.obj);return this.val!=this.getValue()}}eXcell_co.prototype=new eXcell;eXcell_co.prototype.getText=function(){return this.cell.innerHTML};
eXcell_co.prototype.setValue=function(a){if("object"==typeof a){var b=this.grid.xmlLoader.doXPath("./option",a);b.length&&(this.cell._combo=new dhtmlXGridComboObject);for(var c=0;c<b.length;c++)this.cell._combo.put(b[c].getAttribute("value"),b[c].firstChild?b[c].firstChild.data:"");a=a.firstChild.data}""==(a||"").toString()._dhx_trim()&&(a=null);this.cell.combo_value=a;null!==a?(b=(this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(a),this.setCValue(null===b?a:b,a)):this.setCValue("&nbsp;",
a)};function eXcell_coro(a){this.base=eXcell_co;this.base(a);this.editable=!1}eXcell_coro.prototype=new eXcell_co;function eXcell_cotxt(a){this.base=eXcell_co;this.base(a)}eXcell_cotxt.prototype=new eXcell_co;eXcell_cotxt.prototype.getText=function(){return _isIE?this.cell.innerText:this.cell.textContent};
eXcell_cotxt.prototype.setValue=function(a){if("object"==typeof a){var b=this.grid.xmlLoader.doXPath("./option",a);b.length&&(this.cell._combo=new dhtmlXGridComboObject);for(var c=0;c<b.length;c++)this.cell._combo.put(b[c].getAttribute("value"),b[c].firstChild?b[c].firstChild.data:"");a=a.firstChild.data}""==(a||"").toString()._dhx_trim()&&(a=null);null!==a?this.setCTxtValue((this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(a)||a,a):this.setCTxtValue(" ",a);this.cell.combo_value=a};
function eXcell_corotxt(a){this.base=eXcell_co;this.base(a);this.editable=!1}eXcell_corotxt.prototype=new eXcell_cotxt;
function eXcell_cp(a){try{this.cell=a,this.grid=this.cell.parentNode.grid}catch(b){}this.edit=function(){this.val=this.getValue();this.obj=document.createElement("SPAN");this.obj.style.border="1px solid black";this.obj.style.position="absolute";var a=this.grid.getPosition(this.cell);this.colorPanel(4,this.obj);document.body.appendChild(this.obj);this.obj.style.left=a[0]+"px";this.obj.style.zIndex=1E3;this.obj.style.top=a[1]+this.cell.offsetHeight+"px"};this.toolDNum=function(a){1==a.length&&(a="0"+
a);return a};this.colorPanel=function(a,b){var e=document.createElement("TABLE");b.appendChild(e);e.cellSpacing=0;e.editor_obj=this;e.style.cursor="default";e.onclick=function(a){a=a||window.event;a=a.target||a.srcElement;var b=a.parentNode.parentNode.parentNode.editor_obj;b.setValue(a._bg);b.grid.editStop()};for(var f=256/a,g=0;g<=256/f;g++)for(var k=e.insertRow(g),h=0;h<=256/f;h++)for(var l=0;l<=256/f;l++){R=new Number(f*g)-(0==g?0:1);G=new Number(f*h)-(0==h?0:1);B=new Number(f*l)-(0==l?0:1);var m=
this.toolDNum(R.toString(16))+""+this.toolDNum(G.toString(16))+""+this.toolDNum(B.toString(16)),n=k.insertCell(h);n.width="10px";n.innerHTML="&nbsp;";n.title=m.toUpperCase();n.style.backgroundColor="#"+m;n._bg="#"+m;null!=this.val&&"#"+m.toUpperCase()==this.val.toUpperCase()&&(n.style.border="2px solid white")}};this.getValue=function(){return this.cell.firstChild._bg||""};this.getRed=function(){return Number(parseInt(this.getValue().substr(1,2),16))};this.getGreen=function(){return Number(parseInt(this.getValue().substr(3,
2),16))};this.getBlue=function(){return Number(parseInt(this.getValue().substr(5,2),16))};this.detach=function(){null!=this.obj.offsetParent&&document.body.removeChild(this.obj);return this.val!=this.getValue()}}eXcell_cp.prototype=new eXcell;eXcell_cp.prototype.setValue=function(a){this.setCValue("<div style='width:100%;height:"+(this.grid.multiLine?this.cell.offsetHeight-2:16)+";background-color:"+(a||"")+";border:0px;'>&nbsp;</div>",a);this.cell.firstChild._bg=a};
function eXcell_img(a){try{this.cell=a,this.grid=this.cell.parentNode.grid}catch(b){}this.getValue=function(){if("IMG"==this.cell.firstChild.tagName)return this.cell.firstChild.src+(null!=this.cell.titFl?"^"+this.cell._brval:"");if("A"==this.cell.firstChild.tagName){var a=this.cell.firstChild.firstChild.src+(null!=this.cell.titFl?"^"+this.cell._brval:""),a=a+("^"+this.cell.lnk);this.cell.trg&&(a+="^"+this.cell.trg);return a}};this.isDisabled=function(){return!0}}eXcell_img.prototype=new eXcell;
eXcell_img.prototype.getTitle=function(){return this.cell._brval};eXcell_img.prototype.setValue=function(a){var b=a;if(-1!=a.indexOf("^")){var c=a.split("^");a=c[0];b=this.cell._attrs.title||c[1];2<c.length&&(this.cell.lnk=c[2],c[3])&&(this.cell.trg=c[3]);this.cell.titFl="1"}this.setCValue("<img src='"+this.grid.iconURL+(a||"")._dhx_trim()+"' border='0'>",a);this.cell.lnk&&(this.cell.innerHTML="<a href='"+this.cell.lnk+"' target='"+this.cell.trg+"'>"+this.cell.innerHTML+"</a>");this.cell._brval=b};
function eXcell_price(a){this.base=eXcell_ed;this.base(a);this.getValue=function(){return 1<this.cell.childNodes.length?this.cell.childNodes[1].innerHTML.toString()._dhx_trim():"0"}}eXcell_price.prototype=new eXcell_ed;eXcell_price.prototype.setValue=function(a){isNaN(parseFloat(a))&&(a=this.val||0);var b="green";0>a&&(b="red");this.setCValue("<span>$</span><span style='padding-right:2px;color:"+b+";'>"+a+"</span>",a)};
function eXcell_dyn(a){this.base=eXcell_ed;this.base(a);this.getValue=function(){return this.cell.firstChild.childNodes[1].innerHTML.toString()._dhx_trim()}}eXcell_dyn.prototype=new eXcell_ed;
eXcell_dyn.prototype.setValue=function(a){a&&!isNaN(Number(a))||""===a||(a=0);if(0<a)var b="green",c="dyn_up.gif";else 0==a?(b="black",c="dyn_.gif"):(b="red",c="dyn_down.gif");this.setCValue("<div style='position:relative;padding-right:2px; width:100%;overflow:hidden; white-space:nowrap;'><img src='"+this.grid.imgURL+""+c+"' height='15' style='position:absolute;top:0px;left:0px;'><span style=' padding-left:20px; width:100%;color:"+b+";'>"+a+"</span></div>",a)};
function eXcell_ro(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.edit=function(){};this.isDisabled=function(){return!0};this.getValue=function(){return this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim()}}eXcell_ro.prototype=new eXcell;
function eXcell_ron(a){this.cell=a;this.grid=this.cell.parentNode.grid;this.edit=function(){};this.isDisabled=function(){return!0};this.getValue=function(){return this.cell._clearCell?"":this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex).toString()}}eXcell_ron.prototype=new eXcell;
eXcell_ron.prototype.setValue=function(a){if(0!==a&&(!a||""==a.toString()._dhx_trim()))return this.setCValue("&nbsp;"),this.cell._clearCell=!0;this.cell._clearCell=!1;this.setCValue(a?this.grid._aplNF(a,this.cell._cellIndex):"0")};
function eXcell_rotxt(a){this.cell=a;this.grid=this.cell.parentNode.grid;this.edit=function(){};this.isDisabled=function(){return!0};this.setValue=function(a){a?this.cell._clearCell=!1:(a=" ",this.cell._clearCell=!0);this.setCTxtValue(a)};this.getValue=function(){return this.cell._clearCell?"":_isIE?this.cell.innerText:this.cell.textContent}}eXcell_rotxt.prototype=new eXcell;
function dhtmlXGridComboObject(){this.keys=new dhtmlxArray;this.values=new dhtmlxArray;this.put=function(a,b){for(var c=0;c<this.keys.length;c++)if(this.keys[c]==a)return this.values[c]=b,!0;this.values[this.values.length]=b;this.keys[this.keys.length]=a};this.get=function(a){for(var b=0;b<this.keys.length;b++)if(this.keys[b]==a)return this.values[b];return null};this.clear=function(){this.keys=new dhtmlxArray;this.values=new dhtmlxArray};this.remove=function(a){for(var b=0;b<this.keys.length;b++)if(this.keys[b]==
a)return this.keys._dhx_removeAt(b),this.values._dhx_removeAt(b),!0};this.size=function(){for(var a=0,b=0;b<this.keys.length;b++)null!=this.keys[b]&&a++;return a};this.getKeys=function(){for(var a=[],b=0;b<this.keys.length;b++)null!=this.keys[b]&&(a[a.length]=this.keys[b]);return a};this.save=function(){this._save=[];for(var a=0;a<this.keys.length;a++)this._save[a]=[this.keys[a],this.values[a]]};this.restore=function(){if(this._save){this.keys[a]=[];this.values[a]=[];for(var a=0;a<this._save.length;a++)this.keys[a]=
this._save[a][0],this.values[a]=this._save[a][1]}};return this}function Hashtable(){this.keys=new dhtmlxArray;this.values=new dhtmlxArray;return this}Hashtable.prototype=new dhtmlXGridComboObject;
dhtmlXGridObject.prototype.filterBy=function(a,b,c){if(this.isTreeGrid())return this.filterTreeBy(a,b,c);this._f_rowsBuffer?!c&&(this.rowsBuffer=dhtmlxArray([].concat(this._f_rowsBuffer)),this._fake)&&(this._fake.rowsBuffer=this.rowsBuffer):this._f_rowsBuffer=[].concat(this.rowsBuffer);if(this.rowsBuffer.length){this.dma(!0);if("object"==typeof a)for(c=0;c<b.length;c++)this._filterA(a[c],b[c]);else this._filterA(a,b);this.dma(!1);this.pagingOn&&this.rowsBuffer.length/this.rowsBufferOutSize<this.currentPage-
1&&this.changePage(0);this._reset_view();this.callEvent("onGridReconstructed",[])}};dhtmlXGridObject.prototype._filterA=function(a,b){if(""!=b){var c=!0;"function"==typeof b?c=!1:b=(b||"").toString().toLowerCase();if(this.rowsBuffer.length)for(var d=this.rowsBuffer.length-1;0<=d;d--)(c?-1==this._get_cell_value(this.rowsBuffer[d],a).toString().toLowerCase().indexOf(b):!b.call(this,this._get_cell_value(this.rowsBuffer[d],a),this.rowsBuffer[d].idd))&&this.rowsBuffer.splice(d,1)}};
dhtmlXGridObject.prototype.getFilterElement=function(a){if(this.filters){for(var b=0;b<this.filters.length;b++)if(this.filters[b][1]==a)return this.filters[b][0].combo||this.filters[b][0];return null}};
dhtmlXGridObject.prototype.collectValues=function(a){var b=this.callEvent("onCollectValues",[a]);if(!0!==b)return b;if(this.isTreeGrid())return this.collectTreeValues(a);this.dma(!0);this._build_m_order();a=this._m_order?this._m_order[a]:a;for(var b={},c=[],d=this._f_rowsBuffer||this.rowsBuffer,e=0;e<d.length;e++){var f=this._get_cell_value(d[e],a);!f||d[e]._childIndexes&&d[e]._childIndexes[a]==d[e]._childIndexes[a-1]||(b[f]=!0)}this.dma(!1);a=this.combos[a]||(this._col_combos?this._col_combos[a]:
!1);for(var g in b)!0===b[g]&&(a&&(a.get&&a.get(g)?g=a.get(g):a.getOption&&a.getOption(g)&&(g=a.getOption(g).text)),c.push(g));return c.sort()};dhtmlXGridObject.prototype._build_m_order=function(){if(this._c_order){this._m_order=[];for(var a=0;a<this._c_order.length;a++)this._m_order[this._c_order[a]]=a}};
dhtmlXGridObject.prototype.filterByAll=function(){var a=[],b=[];this._build_m_order();for(var c=0;c<this.filters.length;c++)if(!(c>=this._cCount)){var d=this._m_order?this._m_order[this.filters[c][1]]:this.filters[c][1];b.push(d);var e=this.filters[c][0].old_value=this.filters[c][0].value;this.filters[c][0]._filter&&(e=this.filters[c][0]._filter());var f;"function"!=typeof e&&(f=this.combos[d]||(this._col_combos?this._col_combos[d]:!1))&&(f.values?(d=f.values._dhx_find(e),e=-1==d?e:f.keys[d]):f.getOptionByLabel&&
(e=f.getOptionByLabel(e)?f.getOptionByLabel(e).value:e));a.push(e)}this.callEvent("onFilterStart",[b,a])&&(this.filterBy(b,a),this._cssEven&&this._fixAlterCss(),this.callEvent("onFilterEnd",[this.filters]),this._f_rowsBuffer&&this.rowsBuffer.length==this._f_rowsBuffer.length)&&(this._f_rowsBuffer=null)};
dhtmlXGridObject.prototype.makeFilter=function(a,b){this.filters||(this.filters=[]);"object"!=typeof a&&(a=document.getElementById(a));if(a){var c=this;a.style.width||(a.style.width="90%");if("SELECT"==a.tagName)this.filters.push([a,b]),this._loadSelectOptins(a,b),a.onchange=function(){c.filterByAll()},_isIE&&(a.style.marginTop="1px"),this.attachEvent("onEditCell",function(c,d,g){this._build_m_order();2==c&&this.filters&&(this._m_order?g==this._m_order[b]:g==b)&&this._loadSelectOptins(a,b);return!0});
else if("INPUT"==a.tagName)this.filters.push([a,b]),a.old_value=a.value="",a.onkeydown=function(){this._timer&&window.clearTimeout(this._timer);this._timer=window.setTimeout(function(){a.value!=a.old_value&&(c.filterByAll(),a.old_value=a.value)},500)};else if("DIV"==a.tagName&&"combo"==a.className){this.filters.push([a,b]);a.style.padding="0px";a.style.margin="0px";window.dhx_globalImgPath||(window.dhx_globalImgPath=this.imgURL);var d=new dhtmlXCombo(a,"_filter","90%");d.filterSelfA=d.filterSelf;
d.filterSelf=function(){0==this.getSelectedIndex()&&this.setComboText("");this.filterSelfA.apply(this,arguments);this.optionsArr[0].hide(!1)};d.enableFilteringMode(!0);a.combo=d;a.value="";this._loadComboOptins(a,b);d.attachEvent("onChange",function(){a.value=d.getSelectedValue();null===a.value&&(a.value="");c.filterByAll()})}a.parentNode&&(a.parentNode.className+=" filter");this._filters_ready()}};
dhtmlXGridObject.prototype.findCell=function(a,b,c,d){d=d||function(a,b){return-1!=b.toString().toLowerCase().indexOf(a)};!0===d&&(d=function(a,b){return b.toString().toLowerCase()==a});var e=[];a=a.toString().toLowerCase();"number"!=typeof c&&(c=c?1:0);if(!this.rowsBuffer.length)return e;for(var f=b||0;f<this._cCount;f++){if(this._h2)this._h2.forEachChild(0,function(b){if(c&&e.length==c)return e;d(a,this._get_cell_value(b.buff,f))&&e.push([b.id,f])},this);else for(var g=0;g<this.rowsBuffer.length;g++)if(d(a,
this._get_cell_value(this.rowsBuffer[g],f))&&(e.push([this.rowsBuffer[g].idd,f]),c&&e.length==c))return e;if("undefined"!=typeof b)break}return e};
dhtmlXGridObject.prototype.makeSearch=function(a,b,c){"object"!=typeof a&&(a=document.getElementById(a));if(a){var d=this;"INPUT"==a.tagName&&(a.onkeypress=function(){this._timer&&window.clearTimeout(this._timer);this._timer=window.setTimeout(function(){if(""!=a.value){var e=d.findCell(a.value,b,!0,c);e.length&&(d._h2&&d.openItem(e[0][0]),d.selectCell(d.getRowIndex(e[0][0]),b||0))}},500)});a.parentNode&&(a.parentNode.className+=" filter")}};
dhtmlXGridObject.prototype._loadSelectOptins=function(a,b){var c=this.collectValues(b),d=a.value;a.innerHTML="";a.options[0]=new Option("","");for(var e=this._filter_tr?this._filter_tr[b]:null,f=0;f<c.length;f++)a.options[a.options.length]=new Option(e?e(c[f]):c[f],c[f]);a.value=d};dhtmlXGridObject.prototype.setSelectFilterLabel=function(a,b){this._filter_tr||(this._filter_tr=[]);this._filter_tr[a]=b};
dhtmlXGridObject.prototype._loadComboOptins=function(a,b){if(a.combo){var c=this.collectValues(b);a.combo.clearAll();a.combo.render(!1);for(var d=[["","&nbsp;"]],e=0;e<c.length;e++)d.push([c[e],c[e]]);a.combo.addOption(d);a.combo.render(!0)}};
dhtmlXGridObject.prototype.refreshFilters=function(){if(this.filters)for(var a=0;a<this.filters.length;a++)switch(this.filters[a][0].tagName.toLowerCase()){case "select":this._loadSelectOptins.apply(this,this.filters[a]);break;case "div":this._loadComboOptins.apply(this,this.filters[a])}};
dhtmlXGridObject.prototype._filters_ready=function(){this.attachEvent("onXLE",this.refreshFilters);this.attachEvent("onRowCreated",function(a,b){if(this._f_rowsBuffer)for(var c=0;c<this._f_rowsBuffer.length;c++)if(this._f_rowsBuffer[c].idd==a)return this._f_rowsBuffer[c]=b});this.attachEvent("onClearAll",function(){this._f_rowsBuffer=null;this.hdr.rows.length||(this.filters=[])});window.dhtmlXCombo&&this.attachEvent("onScroll",dhtmlXCombo.prototype.closeAll);this._filters_ready=function(){}};
dhtmlXGridObject.prototype._in_header_text_filter=function(a,b){a.innerHTML="<input type='text'>";a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0};a.onselectstart=function(){return event.cancelBubble=!0};this.makeFilter(a.firstChild,b)};
dhtmlXGridObject.prototype._in_header_text_filter_inc=function(a,b){a.innerHTML="<input type='text'>";a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0};a.onselectstart=function(){return event.cancelBubble=!0};this.makeFilter(a.firstChild,b);a.firstChild._filter=function(){return""==a.firstChild.value?"":function(b){return 0==b.toString().toLowerCase().indexOf(a.firstChild.value.toLowerCase())}};this._filters_ready()};
dhtmlXGridObject.prototype._in_header_select_filter=function(a,b){a.innerHTML="<select></select>";a.onclick=function(a){(a||event).cancelBubble=!0;return!1};this.makeFilter(a.firstChild,b)};
dhtmlXGridObject.prototype._in_header_select_filter_strict=function(a,b){a.innerHTML="<select style='width:90%; font-size:8pt; font-family:Tahoma;'></select>";a.onclick=function(a){(a||event).cancelBubble=!0;return!1};this.makeFilter(a.firstChild,b);var c=this.combos;a.firstChild._filter=function(){var d=a.firstChild.value;if(!d)return"";c[b]&&(d=c[b].keys[c[b].values._dhx_find(d)]);d=d.toLowerCase();return function(a){return a.toString().toLowerCase()==d}};this._filters_ready()};
dhtmlXGridObject.prototype._in_header_combo_filter=function(a,b){a.innerHTML="<div style='width:100%; padding-left:2px; overflow:hidden; ' class='combo'></div>";a.onselectstart=function(){return event.cancelBubble=!0};a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0};this.makeFilter(a.firstChild,b)};
dhtmlXGridObject.prototype._search_common=function(a){a.innerHTML="<input type='text' style='width:90%; '>";a.onclick=a.onmousedown=function(a){return(a||event).cancelBubble=!0};a.onselectstart=function(){return event.cancelBubble=!0}};dhtmlXGridObject.prototype._in_header_text_search=function(a,b){this._search_common(a,b);this.makeSearch(a.firstChild,b)};dhtmlXGridObject.prototype._in_header_text_search_strict=function(a,b){this._search_common(a,b);this.makeSearch(a.firstChild,b,!0)};
dhtmlXGridObject.prototype._in_header_numeric_filter=function(a,b){this._in_header_text_filter.call(this,a,b);a.firstChild._filter=function(){var a=this.value,b,e="==",f=parseFloat(a.replace("=","")),g=null;if(a){if(-1!=a.indexOf(".."))return a=a.split(".."),f=parseFloat(a[0]),g=parseFloat(a[1]),function(a){return a>=f&&a<=g?!0:!1};if(b=a.match(/>=|<=|>|</))e=b[0],f=parseFloat(a.replace(e,""));return Function("v"," if (v "+e+" "+f+" ) return true; return false;")}return""}};
dhtmlXGridObject.prototype._in_header_master_checkbox=function(a,b,c){a.innerHTML=c[0]+"<input type='checkbox' />"+c[1];var d=this;a.getElementsByTagName("input")[0].onclick=function(a){d._build_m_order();var c=d._m_order?d._m_order[b]:b,g=this.checked?1:0;d.forEachRowA(function(a){var b=this.cells(a,c);b.isCheckbox()&&(b.setValue(g),b.cell.wasChanged=!0);this.callEvent("onEditCell",[1,a,c,g]);this.callEvent("onCheckbox",[a,c,g])});(a||event).cancelBubble=!0}};
dhtmlXGridObject.prototype._in_header_stat_total=function(a,b,c){this._stat_in_header(a,function(){var a=0;this._build_m_order();for(var c=this._m_order?this._m_order[b]:b,f=0;f<this.rowsBuffer.length;f++)var g=parseFloat(this._get_cell_value(this.rowsBuffer[f],c)),a=a+(isNaN(g)?0:g);return this._maskArr[c]?this._aplNF(a,c):Math.round(100*a)/100},b,c,c)};
dhtmlXGridObject.prototype._in_header_stat_multi_total=function(a,b,c){var d=c[1].split(":");c[1]="";for(var e=0;e<d.length;e++)d[e]=parseInt(d[e]);for(var e=[],f=0;f<d.length;f++)e[d[f]]=!0;this._stat_in_header(a,function(){for(var a=0,c=0;c<this.rowsBuffer.length;c++){for(var e=1,f=0;f<d.length;f++)e*=parseFloat(this._get_cell_value(this.rowsBuffer[c],d[f]));a+=isNaN(e)?0:e}return this._maskArr[b]?this._aplNF(a,b):Math.round(100*a)/100},e,c,c)};
dhtmlXGridObject.prototype._in_header_stat_max=function(a,b,c){this._stat_in_header(a,function(){this._build_m_order();var a=this._m_order?this._m_order[b]:b,c=-999999999;if(0==this.getRowsNum())return"&nbsp;";for(var f=0;f<this.rowsBuffer.length;f++)c=Math.max(c,parseFloat(this._get_cell_value(this.rowsBuffer[f],a)));return this._maskArr[b]?this._aplNF(c,b):c},b,c)};
dhtmlXGridObject.prototype._in_header_stat_min=function(a,b,c){this._stat_in_header(a,function(){this._build_m_order();var a=this._m_order?this._m_order[b]:b,c=999999999;if(0==this.getRowsNum())return"&nbsp;";for(var f=0;f<this.rowsBuffer.length;f++)c=Math.min(c,parseFloat(this._get_cell_value(this.rowsBuffer[f],a)));return this._maskArr[b]?this._aplNF(c,b):c},b,c)};
dhtmlXGridObject.prototype._in_header_stat_average=function(a,b,c){this._stat_in_header(a,function(){this._build_m_order();var a=this._m_order?this._m_order[b]:b,c=0,f=0;if(0==this.getRowsNum())return"&nbsp;";for(var g=0;g<this.rowsBuffer.length;g++){var k=parseFloat(this._get_cell_value(this.rowsBuffer[g],a)),c=c+(isNaN(k)?0:k);f++}return this._maskArr[b]?this._aplNF(c/f,b):Math.round(c/f*100)/100},b,c)};
dhtmlXGridObject.prototype._in_header_stat_count=function(a,b,c){this._stat_in_header(a,function(){return this.getRowsNum()},b,c)};
dhtmlXGridObject.prototype._stat_in_header=function(a,b,c,d){var e=function(){this.dma(!0);a.innerHTML=(d[0]?d[0]:"")+b.call(this)+(d[1]?d[1]:"");this.dma(!1);this.callEvent("onStatReady",[])};this._stat_events||(this._stat_events=[],this.attachEvent("onClearAll",function(){if(!this.hdr.rows[1]){for(var a=0;a<this._stat_events.length;a++)for(var b=0;4>b;b++)this.detachEvent(this._stat_events[a][b]);this._stat_events=[]}}));this._stat_events.push([this.attachEvent("onGridReconstructed",e),this.attachEvent("onXLE",
e),this.attachEvent("onFilterEnd",e),this.attachEvent("onEditCell",function(a,b,d){2==a&&(d==c||c&&c[d])&&e.call(this);return!0})]);a.innerHTML=""};dhtmlXGridObject.prototype.enableDragAndDrop=function(a){"temporary_disabled"==a?(this.dADTempOff=!1,a=!0):this.dADTempOff=!0;this.dragAndDropOff=convertStringToBoolean(a);this._drag_validate=!0;a&&(this.objBox.ondragstart=function(a){(a||event).cancelBubble=!0;return!1})};
dhtmlXGridObject.prototype.setDragBehavior=function(a){this.dadmodec=this.dadmodefix=0;switch(a){case "child":this.dadmode=0;this._sbmod=!1;break;case "sibling":this.dadmode=1;this._sbmod=!1;break;case "sibling-next":this.dadmode=1;this._sbmod=!0;break;case "complex":this.dadmode=2;this._sbmod=!1;break;case "complex-next":this.dadmode=2,this._sbmod=!0}};dhtmlXGridObject.prototype.enableDragOrder=function(a){this._dndorder=convertStringToBoolean(a)};
dhtmlXGridObject.prototype._checkParent=function(a,b){var c=this._h2.get[a.idd].parent;if(c.parent){for(var d=0;d<b.length;d++)if(b[d]==c.id)return!0;return this._checkParent(this.rowsAr[c.id],b)}};
dhtmlXGridObject.prototype._createDragNode=function(a,b){this.editStop();if(window.dhtmlDragAndDrop.dragNode||!this.dADTempOff)return null;a.parentObject={};a.parentObject.treeNod=this;var c=this.callEvent("onBeforeDrag",[a.parentNode.idd,a._cellIndex,b]);if(!c)return null;var d=[];d[this.selMultiRows?d.length:0]=a.parentNode.idd;if(this.isTreeGrid())for(var e=d.length-1;0<=e;e--)this._checkParent(this.rowsAr[d[e]],d)&&d.splice(e,1);var f=this;d.length&&this._dndorder&&d.sort(function(a,b){return f.rowsAr[a].rowIndex>
f.rowsAr[b].rowIndex?1:-1});if(e=this.getFirstParentOfType(_isIE?b.srcElement:b.target,"TD"))this._dndExtra=e._cellIndex;this._dragged=[];for(e=0;e<d.length;e++)this.rowsAr[d[e]]&&(this._dragged[this._dragged.length]=this.rowsAr[d[e]],this.rowsAr[d[e]].treeNod=this);a.parentObject.parentNode=a.parentNode;d=document.createElement("div");d.innerHTML=!0!==c?c:this.rowToDragElement(a.parentNode.idd);d.style.position="absolute";d.className="dragSpanDiv";return d};
dhtmlXGridObject.prototype._createSdrgc=function(){this._sdrgc=document.createElement("DIV");this._sdrgc.innerHTML="&nbsp;";this._sdrgc.className="gridDragLine";this.objBox.appendChild(this._sdrgc)};function dragContext(a,b,c,d,e,f,g,k,h,l){this.source=a||"grid";this.target=b||"grid";this.mode=c||"move";this.dropmode=d||"child";this.sid=e||0;this.tid=f;this.sobj=g||null;this.tobj=k||null;this.sExtra=h||null;this.tExtra=l||null;return this}
dragContext.prototype.valid=function(){if(this.sobj!=this.tobj)return!0;if(this.sid==this.tid)return!1;if("treeGrid"==this.target)for(var a=this.tid;a=this.tobj.getParentId(a);)if(this.sid==a)return!1;return!0};dragContext.prototype.close=function(){this.tobj=this.sobj=null};dragContext.prototype.copy=function(){return new dragContext(this.source,this.target,this.mode,this.dropmode,this.sid,this.tid,this.sobj,this.tobj,this.sExtra,this.tExtra)};dragContext.prototype.set=function(a,b){this[a]=b;return this};
dragContext.prototype.uid=function(){for(this.nid=this.sid;this.tobj.rowsAr[this.nid];)this.nid+=(new Date).valueOf();return this};dragContext.prototype.data=function(){return this.sobj==this.tobj?this.sobj._getRowArray(this.sobj.rowsAr[this.sid]):"tree"==this.source?this.tobj.treeToGridElement(this.sobj,this.sid,this.tid):this.tobj.gridToGrid(this.sid,this.sobj,this.tobj)};dragContext.prototype.attrs=function(){return"tree"==this.source?{}:this.sobj.rowsAr[this.sid]._attrs};
dragContext.prototype.childs=function(){return"treeGrid"==this.source?this.sobj._h2.get[this.sid]._xml_await?this.sobj._h2.get[this.sid].has_kids:null:null};
dragContext.prototype.pid=function(){if(!this.tid||!this.tobj._h2)return 0;if("treeGrid"==this.target){if("child"==this.dropmode)return this.tid;var a=this.tobj.rowsAr[this.tid],b=this.tobj._h2.get[a.idd].parent.id;if(this.alfa&&this.tobj._sbmod&&a.nextSibling){a=this.tobj._h2.get[a.nextSibling.idd].parent.id;if(a==this.tid)return this.tid;if(a!=b)return a}return b}};
dragContext.prototype.ind=function(){if(this.tid==window.unknown)return this.tobj.rowsBuffer.length;"treeGrid"==this.target&&("child"==this.dropmode?this.tobj.openItem(this.tid):this.tobj.openItem(this.tobj.getParentId(this.tid)));var a=this.tobj.rowsBuffer._dhx_find(this.tobj.rowsAr[this.tid]);if(this.alfa&&this.tobj._sbmod&&"sibling"==this.dropmode){var b=this.tobj.rowsAr[this.tid];if(b.nextSibling&&this._h2.get[b.nextSibling.idd].parent.id==this.tid)return a+1}return a+1+("treeGrid"==this.target&&
0<=a&&"minus"==this.tobj._h2.get[this.tobj.rowsBuffer[a].idd].state?this.tobj._getOpenLenght(this.tobj.rowsBuffer[a].idd,0):0)};dragContext.prototype.img=function(){return"grid"!=this.target&&this.sobj._h2?this.sobj.getItemImage(this.sid):null};dragContext.prototype.slist=function(){for(var a=[],b=0;b<this.sid.length;b++)a[a.length]=this.sid[b]["tree"==this.source?"id":"idd"];return a.join(",")};
dhtmlXGridObject.prototype._drag=function(a,b,c,d){if(this._realfake)return this._fake._drag();this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer);b=c.parentNode;c=a.parentObject;b.idd||(b.grid=this,this.dadmodefix=0);a=new dragContext(0,0,0,1==b.grid.dadmode||b.grid.dadmodec?"sibling":"child");if(c&&c.childNodes)a.set("source","tree").set("sobj",c.treeNod).set("sid",a.sobj._dragged);else{if(!c)return!0;c.treeNod.isTreeGrid&&c.treeNod.isTreeGrid()&&a.set("source","treeGrid");a.set("sobj",
c.treeNod).set("sid",a.sobj._dragged)}b.grid.isTreeGrid()?a.set("target","treeGrid"):a.set("dropmode","sibling");a.set("tobj",b.grid).set("tid",b.idd);(d=this.getFirstParentOfType(d,"TD"))&&a.set("tExtra",d._cellIndex);d&&a.set("sExtra",a.sobj._dndExtra);a.sobj.dpcpy&&a.set("mode","copy");a.tobj._realfake&&(a.tobj=a.tobj._fake);a.sobj._realfake&&(a.sobj=a.sobj._fake);a.tobj._clearMove();if(c&&c.treeNod&&c.treeNod._nonTrivialRow)c.treeNod._nonTrivialRow(this,a.tid,a.dropmode,c);else{a.tobj.dragContext=
a;if(!a.tobj.callEvent("onDrag",[a.slist(),a.tid,a.sobj,a.tobj,a.sExtra,a.tExtra]))return a.tobj.dragContext=null;d=[];if("object"==typeof a.sid){b=a.copy();for(c=0;c<a.sid.length;c++)b.set("alfa",!c).set("sid",a.sid[c]["tree"==a.source?"id":"idd"]).valid()&&(b.tobj._dragRoutine(b),"treeGrid"==b.target&&"child"==b.dropmode&&b.tobj.openItem(b.tid),d[d.length]=b.nid,b.set("dropmode","sibling").set("tid",b.nid));b.close()}else a.tobj._dragRoutine(a);a.tobj.laterLink&&a.tobj.laterLink();a.tobj.callEvent("onDrop",
[a.slist(),a.tid,d.join(","),a.sobj,a.tobj,a.sExtra,a.tExtra])}a.tobj.dragContext=null;a.close()};
dhtmlXGridObject.prototype._dragRoutine=function(a){if(a.sobj!=a.tobj||"grid"!=a.source||"move"!=a.mode||this._fake){var b;this._h2&&"undefined"!=typeof a.tid&&"sibling"==a.dropmode&&(this._sbmod||a.tid)?a.alfa&&this._sbmod&&this._h2.get[a.tid].childs.length?(this.openItem(a.tid),b=a.uid().tobj.addRowBefore(a.nid,a.data(),this._h2.get[a.tid].childs[0].id,a.img(),a.childs())):b=a.uid().tobj.addRowAfter(a.nid,a.data(),a.tid,a.img(),a.childs()):b=a.uid().tobj.addRow(a.nid,a.data(),a.ind(),a.pid(),a.img(),
a.childs());b._attrs=a.attrs();if("tree"==a.source){this.callEvent("onRowAdded",[a.nid]);var c=a.sobj._globalIdStorageFind(a.sid);if(c.childsCount){b=a.copy().set("tid",a.nid).set("dropmode","grid"==a.target?"sibling":"child");for(var d=0;d<c.childsCount;d++)a.tobj._dragRoutine(b.set("sid",c.childNodes[d].id)),"move"==a.mode&&d--;b.close()}}else if(a.tobj._copyUserData(a),this.callEvent("onRowAdded",[a.nid]),"treeGrid"==a.source)if(a.sobj==a.tobj&&(b._xml=a.sobj.rowsAr[a.sid]._xml),(c=a.sobj._h2.get[a.sid])&&
c.childs.length){b=a.copy().set("tid",a.nid);"grid"==a.target?b.set("dropmode","sibling"):(b.tobj.openItem(a.tid),b.set("dropmode","child"));for(var e=c.childs.length,d=0;d<e;d++)if(a.sobj.render_row_tree(null,c.childs[d].id),a.tobj._dragRoutine(b.set("sid",c.childs[d].id)),e!=c.childs.length)d--,e=c.childs.length;b.close()}"move"!=a.mode||(a.sobj["tree"==a.source?"deleteItem":"deleteRow"](a.sid),a.sobj!=a.tobj||a.tobj.rowsAr[a.sid])||(a.tobj.changeRowId(a.nid,a.sid),a.nid=a.sid)}else a.sobj._dndProblematic||
(b=a.sobj.rowsAr[a.sid],d=a.sobj.rowsCol._dhx_find(b),a.sobj.rowsCol._dhx_removeAt(a.sobj.rowsCol._dhx_find(b)),a.sobj.rowsBuffer._dhx_removeAt(a.sobj.rowsBuffer._dhx_find(b)),a.sobj.rowsBuffer._dhx_insertAt(a.ind(),b),a.tobj._fake&&(a.tobj._fake.rowsCol._dhx_removeAt(d),d=a.tobj._fake.rowsAr[a.sid],d.parentNode.removeChild(d)),a.sobj._insertRowAt(b,a.ind()),a.nid=a.sid,a.sobj.callEvent("onGridReconstructed",[]))};
dhtmlXGridObject.prototype.gridToGrid=function(a,b){for(var c=[],d=0;d<b.hdr.rows[0].cells.length;d++)c[d]=b.cells(a,d).getValue();return c};dhtmlXGridObject.prototype.checkParentLine=function(a,b){return this._h2&&b&&a?a.id==b?!0:this.checkParentLine(a.parent,b):!1};
dhtmlXGridObject.prototype._dragIn=function(a,b,c,d){if(!this.dADTempOff)return 0;var e=this.isTreeGrid(),f=b.parentNode.idd?b.parentNode:b.parentObject;if(this._drag_validate&&(a.parentNode==b.parentNode||e&&this==f.grid&&this.checkParentLine(this._h2.get[a.parentNode.idd],b.parentNode.idd)))return 0;if(!this.callEvent("onDragIn",[f.idd||f.id,a.parentNode.idd,f.grid||f.treeNod,a.grid||a.parentNode.grid]))return this._setMove(a,c,d,!0);this._setMove(a,c,d);e&&""!=a.parentNode.expand?(this._autoOpenTimer=
window.setTimeout(new callerFunction(this._autoOpenItem,this),1E3),this._autoOpenId=a.parentNode.idd):this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer);return a};dhtmlXGridObject.prototype._autoOpenItem=function(a,b){b.openItem(b._autoOpenId)};dhtmlXGridObject.prototype._dragOut=function(a){this._clearMove();this.callEvent("onDragOut",[a.parentNode.parentObject?a.parentObject.id:a.parentNode.idd]);this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer)};
dhtmlXGridObject.prototype._setMove=function(a,b,c,d){if(a.parentNode.idd){b=getAbsoluteTop(a);var e=getAbsoluteTop(this.objBox);b-e>parseInt(this.objBox.offsetHeight)-50&&(this.objBox.scrollTop=parseInt(this.objBox.scrollTop)+20);b-e+parseInt(this.objBox.scrollTop)<parseInt(this.objBox.scrollTop)+30&&(this.objBox.scrollTop=parseInt(this.objBox.scrollTop)-20);if(d)return 0;2==this.dadmode?(c=c-b+(document.body.scrollTop||document.documentElement.scrollTop)-2-a.offsetHeight/2,0<Math.abs(c)-a.offsetHeight/
6?(this.dadmodec=1,this.dadmodefix=0>c?-1:1):this.dadmodec=0):this.dadmodec=this.dadmode;if(this.dadmodec)this._sdrgc||this._createSdrgc(),this._sdrgc.style.display="block",this._sdrgc.style.top=b-e+parseInt(this.objBox.scrollTop)+(0<=this.dadmodefix?a.offsetHeight:0)+"px";else if(this._llSelD=a,"TR"==a.parentNode.tagName)for(d=0;d<a.parentNode.childNodes.length;d++)c=a.parentNode.childNodes[d],c._bgCol=c.style.backgroundColor,c.style.backgroundColor="#FFCCCC"}};
dhtmlXGridObject.prototype._clearMove=function(){this._sdrgc&&(this._sdrgc.style.display="none");if(this._llSelD&&"TR"==this._llSelD.parentNode.tagName)for(var a=this._llSelD.parentNode.childNodes,b=0;b<a.length;b++)a[b].style.backgroundColor=a[b]._bgCol;this._llSelD=null};dhtmlXGridObject.prototype.rowToDragElement=function(a){return this.cells(a,0).getValue()};
dhtmlXGridObject.prototype._copyUserData=function(a){if(!a.tobj.UserData[a.nid]||a.tobj!=a.sobj){a.tobj.UserData[a.nid]=new Hashtable;var b=a.sobj.UserData[a.sid];a=a.tobj.UserData[a.nid];b&&(a.keys=a.keys.concat(b.keys),a.values=a.values.concat(b.values))}};dhtmlXGridObject.prototype.moveRow=function(a,b,c,d){switch(b){case "row_sibling":this.moveRowTo(a,c,"move","sibling",this,d);break;case "up":this.moveRowUp(a);break;case "down":this.moveRowDown(a)}};
dhtmlXGridObject.prototype.loadCSVFile=function(a,b){this.load(a,b,"csv")};dhtmlXGridObject.prototype.enableCSVAutoID=function(a){this._csvAID=convertStringToBoolean(a)};dhtmlXGridObject.prototype.enableCSVHeader=function(a){this._csvHdr=convertStringToBoolean(a)};dhtmlXGridObject.prototype.setCSVDelimiter=function(a){this.csv.cell=a};dhtmlXGridObject.prototype._csvAID=!0;dhtmlXGridObject.prototype.loadCSVString=function(a){this.parse(a,"csv")};
dhtmlXGridObject.prototype.serializeToCSV=function(a){this.editStop();this._agetm=this._mathSerialization?"getMathValue":this._strictText||a?"getTitle":"getValue";a=[];if(this._csvHdr)for(var b=1;b<this.hdr.rows.length;b++){for(var c=[],d=0;d<this._cCount;d++)this._srClmn&&!this._srClmn[d]||c.push(this.getColumnLabel(d,b-1));a.push(this.csvParser.str(c,this.csv.cell,this.csv.row))}d=0;for(b=this.rowsBuffer.length;d<b;d++)c=this._serializeRowToCVS(null,d),""!=c&&a.push(c);return this.csvParser.block(a,
this.csv.row)};
dhtmlXGridObject.prototype._serializeRowToCVS=function(a,b,c,d){var e=[];a||(a=this.render_row(b),this._fake&&!this._fake.rowsAr[a.idd]&&this._fake.render_row(b));this._csvAID||(e[e.length]=a.idd);c=c||0;d=d||this._cCount;b=!1;for(var f=c;a.childNodes[c]._cellIndex>f&&c;)c--;for(;f<d&&a.childNodes[c];c++){var g=a.childNodes[c]._cellIndex;if(this._srClmn&&!this._srClmn[g]||this._serialize_visible&&this._hrrar[g])f++;else{for(var k=a.childNodes[c],h=this.cells(a.idd,g);f!=g&&!(f++,e.push(""),f>=d););
if(f>=d)break;f++;zxVal=h.cell?h[this._agetm]():"";this._chAttr&&h.wasChanged()&&(b=!0);e[e.length]=null===zxVal?"":zxVal;if(this._ecspn&&k.colSpan&&1<k.colSpan)for(k=k.colSpan-1,g=0;g<k;g++)e[e.length]="",f++}}return this._onlChAttr&&!b?"":this.csvParser.str(e,this.csv.cell,this.csv.row)};dhtmlXGridObject.prototype.toClipBoard=function(a){window.clipboardData?window.clipboardData.setData("Text",a):(new Clipboard).copy(a)};
dhtmlXGridObject.prototype.fromClipBoard=function(){return window.clipboardData?window.clipboardData.getData("Text"):(new Clipboard).paste()};dhtmlXGridObject.prototype.cellToClipboard=function(a,b){if(!a||!b){if(!this.selectedRows[0])return;a=this.selectedRows[0].idd;b=this.cell._cellIndex}var c=this.cells(a,b);this.toClipBoard(((c.getLabel?c.getLabel():c.getValue())||"").toString())};
dhtmlXGridObject.prototype.updateCellFromClipboard=function(a,b){if(!a||!b){if(!this.selectedRows[0])return;a=this.selectedRows[0].idd;b=this.cell._cellIndex}var c=this.cells(a,b);c[c.setImage?"setLabel":"setValue"](this.fromClipBoard())};
dhtmlXGridObject.prototype.rowToClipboard=function(a){var b="";this._agetm=this._mathSerialization?"getMathValue":this._strictText?"getTitle":"getValue";if(a)b=this._serializeRowToCVS(this.getRowById(a));else{a=[];for(var c=0;c<this.selectedRows.length;c++)a[a.length]=this._serializeRowToCVS(this.selectedRows[c]),b=this.csvParser.block(a,this.csv.row)}this.toClipBoard(b)};
dhtmlXGridObject.prototype.updateRowFromClipboard=function(a){var b=this.fromClipBoard();if(b&&(a=a?this.getRowById(a):this.selectedRows[0])){b=this.csvParser.unblock(b,this.csv.cell,this.csv.row)[0];this._csvAID||b.splice(0,1);for(var c=0;c<b.length;c++){var d=this.cells3(a,c);d[d.setImage?"setLabel":"setValue"](b[c])}}};
dhtmlXGridObject.prototype.csvParser={block:function(a,b){return a.join(b)},unblock:function(a,b,c){a=(a||"").split(c);for(c=0;c<a.length;c++)a[c]=(a[c]||"").split(b);b=a.length-1;1==a[b].length&&""==a[b][0]&&a.splice(b,1);return a},str:function(a,b){return a.join(b)}};
dhtmlXGridObject.prototype.csvExtParser={_quote:RegExp('"',"g"),_quote_esc:RegExp('\\\\"',"g"),block:function(a,b){return a.join(b)},unblock:function(a,b,c){var d=[[]],e=0;if(!a)return d;var f=/^[ ]*"/,g=/"[ ]*$/,k=RegExp(".*"+c+".*$");a=a.split(b);for(b=0;b<a.length;b++)if(a[b].match(f)){for(var h=a[b].replace(f,"");!a[b].match(g);)b++,h+=a[b];d[e].push(h.replace(g,"").replace(this._quote_esc,'"'))}else a[b].match(k)?(h=a[b].indexOf(c),d[e].push(a[b].substr(0,h)),e++,d[e]=[],a[b]=a[b].substr(h+1),
b--):(a[b]||b!=a.length-1)&&d[e].push(a[b]);c=d.length-1;0<c&&!d[c].length&&d.splice(c,1);return d},str:function(a,b){for(var c=0;c<a.length;c++)a[c]='"'+a[c].replace(this._quote,'\\"')+'"';return a.join(b)}};
dhtmlXGridObject.prototype.addRowFromClipboard=function(){var a=this.fromClipBoard();if(a)for(var b=this.csvParser.unblock(a,this.csv.cell,this.csv.row),c=0;c<b.length;c++)b[c]&&(a=b[c],a.length&&(this._csvAID?this.addRow(this.getRowsNum()+2,a):(this.rowsAr[a[0]]&&(a[0]=this.uid()),this.addRow(a[0],a.slice(1)))))};dhtmlXGridObject.prototype.gridToClipboard=function(){this.toClipBoard(this.serializeToCSV())};dhtmlXGridObject.prototype.gridFromClipboard=function(){var a=this.fromClipBoard();a&&this.loadCSVString(a)};
dhtmlXGridObject.prototype.getXLS=function(a){this.xslform||(this.xslform=document.createElement("FORM"),this.xslform.action=(a||"")+"xls.php",this.xslform.method="post",this.xslform.target=_isIE?"_blank":"",document.body.appendChild(this.xslform),a=document.createElement("INPUT"),a.type="hidden",a.name="csv",this.xslform.appendChild(a),a=document.createElement("INPUT"),a.type="hidden",a.name="csv_header",this.xslform.appendChild(a));a=this.serializeToCSV();this.xslform.childNodes[0].value=a;a=[];
for(var b=this._cCount,c=0;c<b;c++)a.push(this.getHeaderCol(c));a=a.join(",");this.xslform.childNodes[1].value=a;this.xslform.submit()};
dhtmlXGridObject.prototype.printView=function(a,b){var c="<style>TD { font-family:Arial; text-align:center; padding-left:2px;padding-right:2px; } \n td.filter input, td.filter select { display:none; }\t\n  </style>",d=null;if(this._fake)for(var d=[].concat(this._hrrar),e=0;e<this._fake._cCount;e++)this._hrrar[e]=null;c+="<base  href='"+document.location.href+"'></base>";this.parentGrid||(c+=a||"");for(var c=c+'<table width="100%" border="2px" cellpadding="0" cellspacing="0">',f=Math.max(this.rowsBuffer.length,
this.rowsCol.length),g=this._cCount,k=this._printWidth(),c=c+'<tr class="header_row_1">',e=0;e<g;e++)if(!this._hrrar||!this._hrrar[e]){for(var h=this.hdr.rows[1].cells[this.hdr.rows[1]._childIndexes?this.hdr.rows[1]._childIndexes[parseInt(e)]:e],l=h.colSpan||1,m=h.rowSpan||1,h=1;h<l;h++)k[e]+=k[h];c+='<td rowspan="'+m+'" width="'+k[e]+'%" style="background-color:lightgrey;" colspan="'+l+'">'+this.getHeaderCol(e)+"</td>";e+=l-1}c+="</tr>";for(e=2;e<this.hdr.rows.length;e++)if(_isIE){c+="<tr style='background-color:lightgrey' class='header_row_"+
e+"'>";k=this.hdr.rows[e].childNodes;for(h=0;h<k.length;h++)this._hrrar&&this._hrrar[k[h]._cellIndex]||(c+=k[h].outerHTML);c+="</tr>"}else c+="<tr class='header_row_"+e+"' style='background-color:lightgrey'>"+(this._fake?this._fake.hdr.rows[e].innerHTML:"")+this.hdr.rows[e].innerHTML+"</tr>";for(e=0;e<f;e++)if(c+="<tr>",this.rowsCol[e]&&this.rowsCol[e]._cntr)c+=this.rowsCol[e].innerHTML.replace(/<img[^>]*>/gi,"")+"</tr>";else if(!this.rowsCol[e]||"none"!=this.rowsCol[e].style.display){if(this.rowsCol[e])k=
this.rowsCol[e].idd;else if(this.rowsBuffer[e])k=this.rowsBuffer[e].idd;else continue;for(h=0;h<g;h++)if(!this._hrrar||!this._hrrar[h]){if(this.rowsAr[k]&&"TR"==this.rowsAr[k].tagName)var n=this.cells(k,h),l=n._setState?"":n.getContent?n.getContent():n.getImage||n.combo?n.cell.innerHTML:n.getValue();else l=this._get_cell_value(this.rowsBuffer[e],h);var m=this.columnColor[h]?"background-color:"+this.columnColor[h]+";":"",s=this.cellAlign[h]?"text-align:"+this.cellAlign[h]+";":"",u=n.getAttribute("colspan"),
c=c+('<td style="'+m+s+'" '+(u?'colSpan="'+u+'"':"")+">"+(""===l?"&nbsp;":l)+"</td>");u&&(h+=u-1)}c+="</tr>";this.rowsCol[e]&&this.rowsCol[e]._expanded&&(h=this.cells4(this.rowsCol[e]._expanded.ctrl),c+=h.getSubGrid?'<tr><td colspan="'+g+'">'+h.getSubGrid().printView()+"</td></tr>":'<tr><td colspan="'+g+'">'+this.rowsCol[e]._expanded.innerHTML+"</td></tr>")}if(this.ftr)for(e=1;e<this.ftr.childNodes[0].rows.length;e++)c+="<tr style='background-color:lightgrey'>"+(this._fake?this._fake.ftr.childNodes[0].rows[e].innerHTML:
"")+this.ftr.childNodes[0].rows[e].innerHTML+"</tr>";c+="</table>";if(this.parentGrid)return c;c+=b||"";e=window.open("","_blank");e.document.write(c);e.document.write("<script>window.onerror=function(){return true;}\x3c/script>");e.document.close();this._fake&&(this._hrrar=d)};
dhtmlXGridObject.prototype._printWidth=function(){for(var a=[],b=0,c=0;c<this._cCount;c++){var d=this.getColWidth(c);a.push(d);b+=d}for(var d=[],e=0,c=0;c<a.length;c++){var f=Math.floor(a[c]/b*100),e=e+f;d.push(f)}d[d.length-1]+=100-e;return d};dhtmlXGridObject.prototype.loadObject=function(){};dhtmlXGridObject.prototype.loadJSONFile=function(){};dhtmlXGridObject.prototype.serializeToObject=function(){};dhtmlXGridObject.prototype.serializeToJSON=function(){};
window.clipboardData||(window.clipboardData={_make:function(){var a=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!a)return null;var b=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!b)return null;b.addDataFlavor("text/unicode");var c=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);this._p=[a,b,c];return!0},setData:function(a,
b){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(c){return dhtmlxError.throwError("Clipboard","Access to clipboard denied",[a,b]),""}if(!this._make())return!1;this._p[2].data=b;this._p[1].setTransferData("text/unicode",this._p[2],2*b.length);this._p[0].setData(this._p[1],null,Components.interfaces.nsIClipboard.kGlobalClipboard)},getData:function(a){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(b){return dhtmlxError.throwError("Clipboard",
"Access to clipboard denied",[a]),""}if(!this._make())return!1;this._p[0].getData(this._p[1],this._p[0].kGlobalClipboard);a={};var c={};try{this._p[1].getTransferData("text/unicode",c,a)}catch(d){return""}c&&(c=c.value.QueryInterface(Components.interfaces.nsISupportsString));return c?c.data.substring(0,a.value/2):""}});
dhtmlXGridObject.prototype.enableBlockSelection=function(a){if("undefined"==typeof this._bs_mode){var b=this;this.obj.onmousedown=function(a){b._bs_mode&&b._OnSelectionStart(a||event,this);return!0};this._CSVRowDelimiter=this.csv.row;this.attachEvent("onResize",function(){b._HideSelection();return!0});this.attachEvent("onGridReconstructed",function(){b._HideSelection();return!0});this.attachEvent("onFilterEnd",this._HideSelection)}if(!1===a)return this._bs_mode=!1,this._HideSelection();this._bs_mode=
!0};dhtmlXGridObject.prototype.forceLabelSelection=function(a){this._strictText=convertStringToBoolean(a)};dhtmlXGridObject.prototype.disableBlockSelection=function(){this.obj.onmousedown=null};
dhtmlXGridObject.prototype._OnSelectionStart=function(a){var b=this;if(2!=a.button){var c=a.srcElement||a.target;if(this.editor){if(c.tagName&&("INPUT"==c.tagName||"TEXTAREA"==c.tagName))return;this.editStop()}b.setActive(!0);var d=this.getPosition(this.obj),e=a.clientX-d[0]+(document.body.scrollLeft||(document.documentElement?document.documentElement.scrollLeft:0)),d=a.clientY-d[1]+(document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0));this._CreateSelection(e-
4,d-4);if(c==this._selectionObj)this._HideSelection(),this._startSelectionCell=null;else{for(;"td"!=c.tagName.toLowerCase();)c=c.parentNode;this._startSelectionCell=c}if(this._startSelectionCell&&!this.callEvent("onBeforeBlockSelected",[this._startSelectionCell.parentNode.idd,this._startSelectionCell._cellIndex]))return this._startSelectionCell=null;this.obj.onmousedown=null;this.obj[_isIE?"onmouseleave":"onmouseout"]=function(){b._blsTimer&&window.clearTimeout(b._blsTimer)};this.obj.onmmold=this.obj.onmousemove;
this._init_pos=[e,d];this._selectionObj.onmousemove=this.obj.onmousemove=function(c){c=c||a;c.returnValue=!1;b._OnSelectionMove(c)};this._oldDMP=document.body.onmouseup;document.body.onmouseup=function(c){c=c||a;b._OnSelectionStop(c,this);return!0};this.callEvent("onBeforeBlockSelection",[]);document.body.onselectstart=function(){return!1}}};
dhtmlXGridObject.prototype._getCellByPos=function(a,b){this._fake&&(a+=this._fake.objBox.scrollHeight);for(var c=0,d=0;d<this.obj.rows.length;d++)if(b-=this.obj.rows[d].offsetHeight,0>=b){c=this.obj.rows[d];break}if(!c||!c.idd)return null;for(d=0;d<this._cCount;d++)if(a-=this.getColWidth(d),0>=a)for(;;)if(c._childIndexes&&c._childIndexes[d+1]==c._childIndexes[d])c=c.previousSibling;else return this.cells(c.idd,d).cell;return null};
dhtmlXGridObject.prototype._OnSelectionMove=function(a){var b=this;this._ShowSelection();var c=this.getPosition(this.obj),d=a.clientX-c[0]+(document.body.scrollLeft||(document.documentElement?document.documentElement.scrollLeft:0)),c=a.clientY-c[1]+(document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0));if(5>Math.abs(this._init_pos[0]-d)&&5>Math.abs(this._init_pos[1]-c))return this._HideSelection();var e=this._endSelectionCell;if(null==this._startSelectionCell)this._endSelectionCell=
this._startSelectionCell=this.getFirstParentOfType(a.srcElement||a.target,"TD");else if(a.srcElement||a.target)if("dhtmlxGrid_selection"==(a.srcElement||a.target).className)this._endSelectionCell=this._getCellByPos(d,c)||this._endSelectionCell;else{var f=this.getFirstParentOfType(a.srcElement||a.target,"TD");f.parentNode.idd&&(this._endSelectionCell=f)}this._endSelectionCell&&!this.callEvent("onBeforeBlockSelected",[this._endSelectionCell.parentNode.idd,this._endSelectionCell._cellIndex])&&(this._endSelectionCell=
e);var e=this.objBox.scrollLeft+this.objBox.clientWidth,f=this.objBox.scrollTop+this.objBox.clientHeight,g=this.objBox.scrollLeft,k=this.objBox.scrollTop,h=!1;this._blsTimer&&window.clearTimeout(this._blsTimer);d+20>=e?(this.objBox.scrollLeft+=20,h=!0):d-20<g&&(this.objBox.scrollLeft-=20,h=!0);c+20>=f&&!this._realfake?(this.objBox.scrollTop+=20,h=!0):c-20<k&&!this._realfake&&(this.objBox.scrollTop-=20,h=!0);this._selectionArea=this._RedrawSelectionPos(this._startSelectionCell,this._endSelectionCell);
if(h){var l=a.clientX,m=a.clientY;this._blsTimer=window.setTimeout(function(){b._OnSelectionMove({clientX:l,clientY:m})},100)}};
dhtmlXGridObject.prototype._OnSelectionStop=function(a){var b=this;this._blsTimer&&window.clearTimeout(this._blsTimer);this.obj.onmousedown=function(c){b._bs_mode&&b._OnSelectionStart(c||a,this);return!0};this.obj.onmousemove=this.obj.onmmold||null;this._selectionObj.onmousemove=null;document.body.onmouseup=this._oldDMP||null;if(2>parseInt(this._selectionObj.style.width)&&2>parseInt(this._selectionObj.style.height))this._HideSelection();else{var c=this.getFirstParentOfType(a.srcElement||a.target,
"TD");c&&c.parentNode.idd||(c=this._endSelectionCell);if(!c)return this._HideSelection();for(;"td"!=c.tagName.toLowerCase();)c=c.parentNode;this._stopSelectionCell=c;this._selectionArea=this._RedrawSelectionPos(this._startSelectionCell,this._stopSelectionCell);this.callEvent("onBlockSelected",[])}document.body.onselectstart=function(){}};
dhtmlXGridObject.prototype._RedrawSelectionPos=function(a,b){var c={};c.LeftTopCol=a._cellIndex;c.LeftTopRow=this.getRowIndex(a.parentNode.idd);c.RightBottomCol=b._cellIndex;c.RightBottomRow=this.getRowIndex(b.parentNode.idd);var d=a.offsetWidth,e=a.offsetHeight;a=this.getPosition(a,this.obj);var f=b.offsetWidth,g=b.offsetHeight;b=this.getPosition(b,this.obj);if(a[0]<b[0])var k=a[0],d=b[0]+f;else f=c.RightBottomCol,c.RightBottomCol=c.LeftTopCol,c.LeftTopCol=f,k=b[0],d=a[0]+d;a[1]<b[1]?(f=a[1],e=b[1]+
g):(f=c.RightBottomRow,c.RightBottomRow=c.LeftTopRow,c.LeftTopRow=f,f=b[1],e=a[1]+e);this._selectionObj.style.left=k+"px";this._selectionObj.style.top=f+"px";this._selectionObj.style.width=d-k+"px";this._selectionObj.style.height=e-f+"px";return c};
dhtmlXGridObject.prototype._CreateSelection=function(a,b){if(null==this._selectionObj){var c=document.createElement("div");c.style.position="absolute";c.style.display="none";c.className="dhtmlxGrid_selection";this._selectionObj=c;this._selectionObj.onmousedown=function(a){a=a||event;if(2==a.button||_isMacOS&&a.ctrlKey)return this.parentNode.grid.callEvent("onBlockRightClick",["BLOCK",a])};this._selectionObj.oncontextmenu=function(a){(a||event).cancelBubble=!0;return!1};this.objBox.appendChild(this._selectionObj)}this._selectionObj.style.width=
"0px";this._selectionObj.style.height="0px";this._selectionObj.style.left=a+"px";this._selectionObj.style.top=b+"px";this._selectionObj.startX=a;this._selectionObj.startY=b};dhtmlXGridObject.prototype._ShowSelection=function(){this._selectionObj&&(this._selectionObj.style.display="")};dhtmlXGridObject.prototype._HideSelection=function(){this._selectionObj&&(this._selectionObj.style.display="none");this._selectionArea=null};
dhtmlXGridObject.prototype.copyBlockToClipboard=function(){if(null!=this._selectionArea){var a=[];this._agetm=this._mathSerialization?"getMathValue":this._strictText?"getTitle":"getValue";this._serialize_visible=!0;for(var b=this._selectionArea.LeftTopRow;b<=this._selectionArea.RightBottomRow;b++){var c=this._serializeRowToCVS(this.rowsBuffer[b],null,this._selectionArea.LeftTopCol,this._selectionArea.RightBottomCol+1);a[a.length]=this._csvAID?c:c.substr(c.indexOf(this.csv.cell)+1)}a=a.join(this._CSVRowDelimiter);
this.toClipBoard(a);this._serialize_visible=!1}};
dhtmlXGridObject.prototype.pasteBlockFromClipboard=function(){var a=this.fromClipBoard();if(null!=this._selectionArea)var b=this._selectionArea.LeftTopRow,c=this._selectionArea.LeftTopCol;else{if(null==this.cell||this.editor)return!1;b=this.getRowIndex(this.cell.parentNode.idd);c=this.cell._cellIndex}var a=this.csvParser.unblock(a,this.csv.cell,this.csv.row),d=b+a.length,e=c+a[0].length;e>this._cCount&&(e=this._cCount);for(var f=0;b<d;b++){var g=this.render_row(b);if(-1!=g){for(var k=0,h=c;h<e;h++)if(this._hrrar[h])e=
Math.max(e+1,this._cCount);else{var l=this.cells3(g,h);if(l.isDisabled())k++;else{this._onEditUndoRedo&&this._onEditUndoRedo(2,g.idd,h,a[f][k],l.getValue());if(l.combo){for(var m=l.combo.values,n=0;n<m.length;n++)if(a[f][k]==m[n]){l.setValue(l.combo.keys[n]);m=null;break}null!=m&&l.editable?l.setValue(a[f][k++]):k++}else l[l.setImage?"setLabel":"setValue"](a[f][k++]);l.cell.wasChanged=!0}}this.callEvent("onRowPaste",[g.idd]);f++}}};
dhtmlXGridObject.prototype.getSelectedBlock=function(){return this._selectionArea?this._selectionArea:null!==this.getSelectedRowId()?{LeftTopRow:this.getSelectedRowId(),LeftTopCol:this.getSelectedCellIndex(),RightBottomRow:this.getSelectedRowId(),RightBottomCol:this.getSelectedCellIndex()}:null};
dhtmlXGridObject.prototype.enableSmartRendering=function(a,b,c){2<arguments.length&&(b&&!this.rowsBuffer[b-1]&&(this.rowsBuffer[b-1]=0),b=c);this._srnd=convertStringToBoolean(a);this._srdh=this._srdh||20;this._dpref=b||0};dhtmlXGridObject.prototype.enablePreRendering=function(a){this._srnd_pr=parseInt(a||50)};
dhtmlXGridObject.prototype.forceFullLoading=function(a,b){for(var c=0;c<this.rowsBuffer.length;c++)if(!this.rowsBuffer[c]){var d=a||this.rowsBuffer.length-c;if(this.callEvent("onDynXLS",[c,d])){var e=this;this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+c+"&count="+d,function(){window.setTimeout(function(){e.forceFullLoading(a,b)},100)},this._data_type)}return}b&&b.call(this)};dhtmlXGridObject.prototype.setAwaitedRowHeight=function(a){this._srdh=parseInt(a)};
dhtmlXGridObject.prototype._get_view_size=function(){return Math.floor(parseInt(this.entBox.offsetHeight)/this._srdh)+2};
dhtmlXGridObject.prototype._add_filler=function(a,b,c,d){if(!b)return null;var e=this._prepareRow("__filler__");e.firstChild.style.width="1px";for(var f=1;f<e.childNodes.length;f++)e.childNodes[f].style.display="none";e.firstChild.style.height=b*this._srdh+"px";(c=c||this.rowsCol[a])&&c.nextSibling?c.parentNode.insertBefore(e,c.nextSibling):_isKHTML?this.obj.appendChild(e):this.obj.rows[0].parentNode.appendChild(e);this.callEvent("onAddFiller",[a,b,e,c,d]);return[a,b,e]};
dhtmlXGridObject.prototype._update_srnd_view=function(){var a=Math.floor(this.objBox.scrollTop/this._srdh),b=a+this._get_view_size();if(this.multiLine){b=this.objBox.scrollTop;for(a=0;0<b;)b-=this.rowsCol[a]?this.rowsCol[a].offsetHeight:this._srdh,a++;b=a+this._get_view_size();0<a&&a--}b+=this._srnd_pr||0;b>this.rowsBuffer.length&&(b=this.rowsBuffer.length);for(;a<b;a++)if(!this.rowsCol[a]){if(-1==this._add_from_buffer(a)){this.xmlFileUrl&&(this._dpref&&this.rowsBuffer[b-1]?(a=Math.max(0,b-this._dpref),
this._current_load=[a,b-a]):this._current_load=[a,this._dpref?this._dpref:b-a],this.callEvent("onDynXLS",this._current_load)&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+this._current_load[0]+"&count="+this._current_load[1],this._data_type));return}(this._tgle&&(this._updateLine(this._h2.get[this.rowsBuffer[a].idd],this.rowsBuffer[a]),this._updateParentLine(this._h2.get[this.rowsBuffer[a].idd],this.rowsBuffer[a])),a&&a==(this._realfake?this._fake:this)._r_select)&&this.selectCell(a,
this.cell?this.cell._cellIndex:0,!0)}this._fake&&!this._realfake&&this.multiLine&&(this._fake.objBox.scrollTop=this.objBox.scrollTop)};
dhtmlXGridObject.prototype._add_from_buffer=function(a){var b=this.render_row(a);if(-1==b)return-1;if(b._attrs.selected||b._attrs.select)this.selectRow(b,!1,!0),b._attrs.selected=b._attrs.select=null;if(this._cssSP){if(this._h2){var c=this._h2.get[b.idd];b.className+=" "+(c.level%2?this._cssUnEven+" "+this._cssUnEven:this._cssEven+" "+this._cssEven)+"_"+c.level+(this.rowsAr[c.id]._css||"")}}else this._cssEven&&0==a%2?b.className=this._cssEven+(-1!=b.className.indexOf("rowselected")?" rowselected ":
" ")+(b._css||""):this._cssUnEven&&1==a%2&&(b.className=this._cssUnEven+(-1!=b.className.indexOf("rowselected")?" rowselected ":" ")+(b._css||""));for(c=0;c<this._fillers.length;c++){var d=this._fillers[c];if(d&&d[0]<=a&&d[0]+d[1]>a){var e=a-d[0];0==e?(this._insert_before(a,b,d[2]),this._update_fillers(c,-1,1)):e==d[1]-1?(this._insert_after(a,b,d[2]),this._update_fillers(c,-1,0)):(this._fillers.push(this._add_filler(a+1,d[1]-e-1,d[2],1)),this._insert_after(a,b,d[2]),this._update_fillers(c,-d[1]+e,
0));break}}};dhtmlXGridObject.prototype._update_fillers=function(a,b,c){var d=this._fillers[a];d[1]+=b;d[0]+=c;d[1]?(d[2].firstChild.style.height=parseFloat(d[2].firstChild.style.height)+b*this._srdh+"px",this.callEvent("onUpdateFiller",[d[2]])):(this.callEvent("onRemoveFiller",[d[2]]),d[2].parentNode.removeChild(d[2]),this._fillers.splice(a,1))};dhtmlXGridObject.prototype._insert_before=function(a,b,c){c.parentNode.insertBefore(b,c);this.rowsCol[a]=b;this.callEvent("onRowInserted",[b,null,c,"before"])};
dhtmlXGridObject.prototype._insert_after=function(a,b,c){c.nextSibling?c.parentNode.insertBefore(b,c.nextSibling):c.parentNode.appendChild(b);this.rowsCol[a]=b;this.callEvent("onRowInserted",[b,null,c,"after"])};
function dhtmlXGridFromTable(a,b){"object"!=typeof a&&(a=document.getElementById(a));var c=document.createElement("DIV");c.setAttribute("width",a.getAttribute("gridWidth")||(a.offsetWidth?a.offsetWidth+"px":0)||(window.getComputedStyle?window.getComputedStyle(a,null).width:a.currentStyle?a.currentStyle.width:0));c.setAttribute("height",a.getAttribute("gridHeight")||(a.offsetHeight?a.offsetHeight+"px":0)||(window.getComputedStyle?window.getComputedStyle(a,null).height:a.currentStyle?a.currentStyle.height:
0));c.className=a.className;a.className="";a.id&&(c.id=a.id);var d=a,e=a.getAttribute("dragAndDrop");d.parentNode.insertBefore(c,d);var f=d.getAttribute("name")||"name_"+(new Date).valueOf(),c=new dhtmlXGridObject(c);window[f]=c;var g=d.getAttribute("onbeforeinit"),f=d.getAttribute("oninit");g&&eval(g);c.setImagePath(c.imgURL||d.getAttribute("imgpath")||d.getAttribute("image_path")||"");(g=d.getAttribute("skin"))&&c.setSkin(g);b&&b(c);for(var g=d.rows[0],k="",h="",l="",m="",n="",s=0;s<g.cells.length;s++){var k=
k+((k?",":"")+g.cells[s].innerHTML),u=g.cells[s].getAttribute("width")||g.cells[s].offsetWidth||(window.getComputedStyle?window.getComputedStyle(g.cells[s],null).width:g.cells[s].currentStyle?g.cells[s].currentStyle.width:0),h=h+((h?",":"")+("*"==u?u:parseInt(u))),l=l+((l?",":"")+(g.cells[s].getAttribute("align")||"left")),m=m+((m?",":"")+(g.cells[s].getAttribute("type")||"ed")),n=n+((n?",":"")+(g.cells[s].getAttribute("sort")||"str"));if(u=g.cells[s].getAttribute("format"))-1!=g.cells[s].getAttribute("type").toLowerCase().indexOf("calendar")?
c._dtmask=u:c.setNumberFormat(u,s)}c.setHeader(k);c.setInitWidths(h);c.setColAlign(l);c.setColTypes(m);c.setColSorting(n);"auto"==a.getAttribute("gridHeight")&&c.enableAutoHeigth(!0);a.getAttribute("multiline")&&c.enableMultiline(!0);(g=d.getAttribute("lightnavigation"))&&c.enableLightMouseNavigation(g);g=d.getAttribute("evenrow");k=d.getAttribute("unevenrow");(g||k)&&c.enableAlterCss(g,k);e&&c.enableDragAndDrop(!0);c.init();a.getAttribute("split")&&c.splitAt(a.getAttribute("split"));c._process_inner_html(d,
1);f&&eval(f);a.parentNode&&a.parentNode.removeChild&&a.parentNode.removeChild(a);return c}dhtmlXGridObject.prototype._process_html=function(a){if(a.tagName&&"TABLE"==a.tagName)return this._process_inner_html(a,0);var b=document.createElement("DIV");b.innerHTML=a.xmlDoc.responseText;a=b.getElementsByTagName("TABLE")[0];this._process_inner_html(a,0)};
dhtmlXGridObject.prototype._process_inner_html=function(a,b){for(var c=a.rows.length,d=b;d<c;d++){var e=a.rows[d].getAttribute("id")||d;this.rowsBuffer.push({idd:e,data:a.rows[d],_parser:this._process_html_row,_locator:this._get_html_data})}this.render_dataset();this.setSizes()};
dhtmlXGridObject.prototype._process_html_row=function(a,b){var c=b.getElementsByTagName("TD"),d=[];a._attrs=this._xml_attrs(b);for(var e=0;e<c.length;e++){var f=c[e],g=f.getAttribute("type");a.childNodes[e]&&(g&&(a.childNodes[e]._cellType=g),a.childNodes[e]._attrs=this._xml_attrs(c[e]));f.firstChild?d.push(f.innerHTML):d.push("");if(1<f.colSpan)for(a.childNodes[e]._attrs.colspan=f.colSpan,g=1;g<f.colSpan;g++)d.push("")}for(;e<a.childNodes.length;e++)a.childNodes[e]._attrs={};this._fillRow(a,this._c_order?
this._swapColumns(d):d);return a};dhtmlXGridObject.prototype._get_html_data=function(a,b){for(a=a.firstChild;;){if(!a)return"";"TD"==a.tagName&&b--;if(0>b)break;a=a.nextSibling}return a.firstChild?a.firstChild.data:""};dhtmlxEvent(window,"load",function(){for(var a=document.getElementsByTagName("table"),b=0;b<a.length;b++)"dhtmlxGrid"==a[b].className&&dhtmlXGridFromTable(a[b])});dhtmlxValidation=function(){};
dhtmlxValidation.prototype={trackInput:function(a,b,c,d){dhtmlxEvent(a,"keyup",function(){dhtmlxValidation._timer&&(window.clearTimeout(dhtmlxValidation._timer),dhtmlxValidation._timer=null);dhtmlxValidation._timer=window.setTimeout(function(){if(dhtmlxValidation.checkInput(a,b))a.className=a.className.replace(/[ ]*dhtmlx_live_validation_error/g,""),d&&d(a,a.value,b);else if(!c||c(a,a.value,b))a.className+=" dhtmlx_live_validation_error"},250)})},checkInput:function(a,b){return this.checkValue(a.value,
b)},checkValue:function(a,b){"string"==typeof b&&(b=b.split(","));for(var c=!0,d=0;d<b.length;d++)this["is"+b[d]]?c=c&&this["is"+b[d]](a):alert("Incorrect validation rule: "+b[d]);return c},isEmpty:function(a){return""==a},isNotEmpty:function(a){return""==!a},isValidBoolean:function(a){return!!a.toString().match(/^(0|1|true|false)$/)},isValidEmail:function(a){return!!a.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i)},
isValidInteger:function(a){return!!a.toString().match(/(^-?\d+$)/)},isValidNumeric:function(a){return!!a.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(a){return!!a.toString().match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(a){return(a=a.toString().match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/))&&!!(9999>=a[1]&&12>=a[2]&&31>=a[3]&&59>=a[4]&&59>=a[5]&&59>=a[6])||!1},isValidDate:function(a){return(a=a.toString().match(/^(\d{4})-(\d{2})-(\d{2})$/))&&
!!(9999>=a[1]&&12>=a[2]&&31>=a[3])||!1},isValidTime:function(a){return(a=a.toString().match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/))&&!!(24>=a[1]&&59>=a[2]&&59>=a[3])||!1},isValidIPv4:function(a){return(a=a.toString().match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/))&&!!(255>=a[1]&&255>=a[2]&&255>=a[3]&&255>=a[4])||!1},isValidCurrency:function(a){return a.toString().match(/^\$?\s?\d+?[\.,\,]?\d+?\s?\$?$/)&&!0||!1},isValidSSN:function(a){return a.toString().match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},
isValidSIN:function(a){return a.toString().match(/^\d{9}$/)&&!0||!1}};dhtmlxValidation=new dhtmlxValidation;dhtmlXGridObject.prototype.enableValidation=function(a,b){this._validators=(a=convertStringToBoolean(a))?{data:[]}:!1;1<arguments.length&&(this._validators._live=b);this._validators._event||(this._validators._event=this.attachEvent("onEditCell",this.validationEvent))};
dhtmlXGridObject.prototype.setColValidators=function(a){this._validators||this.enableValidation(!0);"string"==typeof a&&(a=a.split(this.delim));this._validators.data=a};
dhtmlXGridObject.prototype.validationEvent=function(a,b,c,d){var e=this._validators;if(!e)return!0;var f=e.data[c]||this.cells(b,c).getAttribute("validate")||"";if(1==a&&f){var g=this.editor||(this._fake||{}).editor;if(!g)return!0;g.cell.className=g.cell.className.replace(/[ ]*dhtmlx_validation_error/g,"");if(e._live){var k=this;dhtmlxValidation.trackInput(g.getInput(),f,function(a,d,e){return k.callEvent("onLiveValidationError",[b,c,d,a,e])},function(a,d,e){return k.callEvent("onLiveValidationCorrect",
[b,c,d,a,e])})}}2==a&&this.validateCell(b,c,f,d);return!0};
dhtmlXGridObject.prototype.validateCell=function(a,b,c,d){c=c||this._validators.data[b]||this.cells(a,b).getAttribute("validate");d=d||this.cells(a,b).getValue();if(c){var e=this.cells(a,b).cell,f=!0;"string"==typeof c&&(c=c.split(this.delim));for(var g=0;g<c.length;g++)dhtmlxValidation.checkValue(d,c[g])||(this.callEvent("onValidationError",[a,b,d,c[g]])&&(e.className+=" dhtmlx_validation_error"),f=!1);f&&(this.callEvent("onValidationCorrect",[a,b,d,c]),e.className=e.className.replace(/[ ]*dhtmlx_validation_error/g,
""));return f}};function eXcell_dhxCalendar(a){if(a&&(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._grid_calendarA)){a=this.grid._grid_calendarA=new dhtmlxCalendarObject;this.grid.callEvent("onDhxCalendarCreated",[a]);var b=this.grid;a.attachEvent("onClick",function(){this._last_operation_calendar=!0;window.setTimeout(function(){b.editStop()},1);return!0});dhtmlxEvent(a.base,"click",function(a){(a||event).cancelBubble=!0});a=null}}eXcell_dhxCalendar.prototype=new eXcell;
eXcell_dhxCalendar.prototype.edit=function(){var a=this.grid.getPosition(this.cell);this.grid._grid_calendarA._show(!1,!1);this.grid._grid_calendarA.setPosition(a[0],a[1]+this.cell.offsetHeight);this.grid._grid_calendarA._last_operation_calendar=!1;this.grid.callEvent("onCalendarShow",[this.grid._grid_calendarA,this.cell.parentNode.idd,this.cell._cellIndex]);this.cell._cediton=!0;this.val=this.cell.val;this._val=this.cell.innerHTML;a=this.grid._grid_calendarA.draw;this.grid._grid_calendarA.draw=function(){};
this.grid._grid_calendarA.setDateFormat(this.grid._dtmask||"%d/%m/%Y");this.grid._grid_calendarA.setDate(this.val||new Date);this.grid._grid_calendarA.draw=a};eXcell_dhxCalendar.prototype.getDate=function(){return this.cell.val?this.cell.val:null};eXcell_dhxCalendar.prototype.getValue=function(){return this.cell._clearCell?"":this.grid._dtmask_inc&&this.cell.val?this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask_inc,this.cell.val).toString():this.cell.innerHTML.toString()._dhx_trim()};
eXcell_dhxCalendar.prototype.detach=function(){if(this.grid._grid_calendarA&&(this.grid._grid_calendarA.hide(),this.cell._cediton)){this.cell._cediton=!1;if(this.grid._grid_calendarA._last_operation_calendar){var a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y"),b=this.grid._grid_calendarA.getDate();this.cell.val=new Date(b);this.setCValue(a,b);this.cell._clearCell=!a;a=this.val;this.val=this._val;return this.cell.val.valueOf()!=a}return!1}};
eXcell_dhxCalendar.prototype.setValue=function(a){a&&"object"==typeof a?(this.cell.val=a,this.cell._clearCell=!1,this.setCValue(this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",a).toString(),this.cell.val)):(a&&""!=a.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell.val=new Date(this.grid._grid_calendarA.setFormatedDate(this.grid._dtmask_inc||this.grid._dtmask||"%d/%m/%Y",a.toString(),null,!0)),this.grid._dtmask_inc&&(a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||
"%d/%m/%Y",this.cell.val))):(a="&nbsp",this.cell._clearCell=!0,this.cell.val=""),"NaN"==this.cell.val||"Invalid Date"==this.cell.val?(this.cell._clearCell=!0,this.cell.val=new Date,this.setCValue("&nbsp;",0)):this.setCValue((a||"").toString(),this.cell.val))};
function eXcell_dhxCalendarA(a){if(a&&(this.cell=a,this.grid=this.cell.parentNode.grid,!this.grid._grid_calendarA)){a=this.grid._grid_calendarA=new dhtmlxCalendarObject;this.grid.callEvent("onDhxCalendarCreated",[a]);var b=this.grid;a.attachEvent("onClick",function(){this._last_operation_calendar=!0;window.setTimeout(function(){b.editStop()},1);return!0});dhtmlxEvent(a.base,"click",function(a){(a||event).cancelBubble=!0})}}eXcell_dhxCalendarA.prototype=new eXcell;
eXcell_dhxCalendarA.prototype.edit=function(){var a=this.grid.getPosition(this.cell);this.grid._grid_calendarA._show(!1,!1);this.grid._grid_calendarA.setPosition(1*a[0]+this.cell.offsetWidth,1*a[1]);this.grid.callEvent("onCalendarShow",[this.grid._grid_calendarA,this.cell.parentNode.idd,this.cell._cellIndex]);this.grid._grid_calendarA._last_operation_calendar=!1;this.cell._cediton=!0;this.val=this.cell.val;this._val=this.cell.innerHTML;a=this.grid._grid_calendarA.draw;this.grid._grid_calendarA.draw=
function(){};this.grid._grid_calendarA.setDateFormat(this.grid._dtmask||"%d/%m/%Y");this.grid._grid_calendarA.setDate(this.val);this.grid._grid_calendarA.draw=a;this.grid._grid_calendarA.draw();this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA";this.obj=document.createElement(this.cell.atag);this.obj.style.height=this.cell.offsetHeight-(_isIE?4:2)+"px";this.obj.className="dhx_combo_edit";this.obj.wrap="soft";this.obj.style.textAlign=this.cell.align;this.obj.onclick=
function(a){(a||event).cancelBubble=!0};this.obj.onmousedown=function(a){(a||event).cancelBubble=!0};this.obj.value=this.getValue();this.cell.innerHTML="";this.cell.appendChild(this.obj);_isFF&&(this.obj.style.overflow="visible",this.grid.multiLine&&18<=this.obj.offsetHeight&&40>this.obj.offsetHeight)&&(this.obj.style.height="36px",this.obj.style.overflow="scroll");this.obj.onselectstart=function(a){a||(a=event);return a.cancelBubble=!0};this.obj.focus();this.obj.focus()};
eXcell_dhxCalendarA.prototype.getDate=function(){return this.cell.val?this.cell.val:null};eXcell_dhxCalendarA.prototype.getValue=function(){return this.cell._clearCell?"":this.grid._dtmask_inc&&this.cell.val?this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask_inc,this.cell.val).toString():this.cell.innerHTML.toString()._dhx_trim()};
eXcell_dhxCalendarA.prototype.detach=function(){if(this.grid._grid_calendarA&&(this.grid._grid_calendarA.hide(),this.cell._cediton)){this.cell._cediton=!1;if(this.grid._grid_calendarA._last_operation_calendar){this.grid._grid_calendarA._last_operation_calendar=!1;var a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y"),b=this.grid._grid_calendarA.getDate();this.cell.val=new Date(b);this.setCValue(a,b);this.cell._clearCell=!a;a=this.val;this.val=this._val;return this.cell.val.valueOf()!=
(a|0).valueOf()}this.setValue(this.obj.value);a=this.val;this.val=this._val;return this.cell.val.valueOf()!=(a||"").valueOf()}};
eXcell_dhxCalendarA.prototype.setValue=function(a){a&&"object"==typeof a?(this.cell.val=a,this.cell._clearCell=!1,this.setCValue(this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",a).toString(),this.cell.val)):(a&&""!=a.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell.val=new Date(this.grid._grid_calendarA.setFormatedDate(this.grid._dtmask_inc||this.grid._dtmask||"%d/%m/%Y",a.toString(),null,!0)),this.grid._dtmask_inc&&(a=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||
"%d/%m/%Y",this.cell.val))):(a="&nbsp",this.cell._clearCell=!0,this.cell.val=""),"NaN"==this.cell.val||"Invalid Date"==this.cell.val?(this.cell.val=new Date,this.cell._clearCell=!0,this.setCValue("&nbsp;",0)):this.setCValue((a||"").toString(),this.cell.val))};
function eXcell_cntr(a){this.cell=a;this.grid=this.cell.parentNode.grid;this.grid._ex_cntr_ready||this._realfake||(this.grid._ex_cntr_ready=!0,this.grid._h2&&this.grid.attachEvent("onOpenEn",function(){this.resetCounter(a._cellIndex)}),this.grid.attachEvent("onBeforeSorting",function(){var b=this;window.setTimeout(function(){b.resetCounter&&(b._fake&&!b._realfake&&a._cellIndex<b._fake._cCount?b._fake.resetCounter(a._cellIndex):b.resetCounter(a._cellIndex))},1);return!0}));this.edit=function(){};this.getValue=
function(){return this.cell.innerHTML};this.setValue=function(){this.cell.style.paddingRight="2px";var a=this.cell;window.setTimeout(function(){if(a.parentNode){var c=a.parentNode.rowIndex;if(a.parentNode.grid.currentPage||0>c||a.parentNode.grid._srnd)c=a.parentNode.grid.rowsBuffer._dhx_find(a.parentNode)+1;0>=c||(a.innerHTML=c,a.parentNode.grid._fake&&a._cellIndex<a.parentNode.grid._fake._cCount&&a.parentNode.grid._fake.rowsAr[a.parentNode.idd]&&a.parentNode.grid._fake.cells(a.parentNode.idd,a._cellIndex).setCValue(c),
a=null)}},100)}}dhtmlXGridObject.prototype.resetCounter=function(a){this._fake&&!this._realfake&&a<this._fake._cCount&&this._fake.resetCounter(a,this.currentPage);for(var b=a||0,b=0;b<this.rowsBuffer.length;b++)this.rowsBuffer[b]&&"TR"==this.rowsBuffer[b].tagName&&this.rowsAr[this.rowsBuffer[b].idd]&&(this.rowsAr[this.rowsBuffer[b].idd].childNodes[a].innerHTML=b+1)};eXcell_cntr.prototype=new eXcell;
function eXcell_link(a){this.cell=a;this.grid=this.cell.parentNode.grid;this.isDisabled=function(){return!0};this.edit=function(){};this.getValue=function(){if(this.cell.firstChild.getAttribute){var a=this.cell.firstChild.getAttribute("target");return this.cell.firstChild.innerHTML+"^"+this.cell.firstChild.getAttribute("href")+(a?"^"+a:"")}return""};this.setValue=function(a){if("number"!=typeof a&&(!a||""==a.toString()._dhx_trim()))return this.setCValue("&nbsp;",c),this.cell._clearCell=!0;var c=a.split("^");
1==c.length?c[1]="":1<c.length&&(c[1]="href='"+c[1]+"'",c[1]+=3==c.length?" target='"+c[2]+"'":" target='_blank'");this.setCValue("<a "+c[1]+" onclick='(_isIE?event:arguments[0]).cancelBubble = true;'>"+c[0]+"</a>",c)}}eXcell_link.prototype=new eXcell;eXcell_link.prototype.getTitle=function(){var a=this.cell.firstChild;return a&&a.tagName?a.getAttribute("href"):""};eXcell_link.prototype.getContent=function(){var a=this.cell.firstChild;return a&&a.tagName?a.innerHTML:""};
function dhtmlXLayoutPanel(){}
function dhtmlXLayoutObject(a,b,c){if(window.dhtmlXContainer){var d=this;this._autodetectSkin=function(){var a=document.createElement("DIV");a.className="dhxlayout_skin_detect";0<document.body.childNodes.length?document.body.insertBefore(a,document.body.childNodes[0]):document.body.appendChild(a);var b=a.offsetWidth;document.body.removeChild(a);return 199==b?"dhx_skyblue":299==b?"dhx_blue":399==b?"dhx_black":499==b?"dhx_web":599==b?"dhx_terrace":"dhx_skyblue"};this.skin=null!=c?c:"undefined"!=typeof dhtmlx&&
"string"==typeof dhtmlx.skin?dhtmlx.skin:this._autodetectSkin();this.setSkin=function(a){if(this.skinParams[a]){this.skin=a;this._CPanelHeight=this.skinParams[this.skin].cpanel_height;this._collapsedW=this.skinParams[this.skin].cpanel_collapsed_width;this._collapsedH=this.skinParams[this.skin].cpanel_collapsed_height;this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin+(this._r?" dhxlayout_rtl":"");this.sizer.className="dhxLayout_Sizer_"+this.skin;this.dhxWins&&this.dhxWins.setSkin(this.skin);
for(var b in this.polyObj)this.polyObj[b].skin=this.skin;this.base.skin=this.skin;this._fixIcons();this.setSizes()}};this._isIPad=0<=navigator.userAgent.search(/iPad/gi);this._dblClickTM=600;this._mBottom=this._mTop=0;"string"==typeof a&&(a=document.getElementById(a));if((!0==a._isWindow||a._isCell)&&!this.base){if(a._isCell&&a.attachLayout||a.isWindow)return a.attachLayout(b,c);this.base=a}a!=document.body||this.base||(document.body.style.overflow="hidden");if(("object"==typeof a||a==document.body)&&
!this.base){c=document.createElement("DIV");c.className="dhxcont_global_layout_area";a.appendChild(c);a._isLayout=!0;this.cont=new dhtmlXContainer(a);this.cont.setContent(c);if(a==document.body){if("dhx_skyblue"==this.skin||"dhx_blue"==this.skin)this.cont.obj._offsetTop=2,this.cont.obj._offsetLeft=2,this.cont.obj._offsetHeight=-4,this.cont.obj._offsetWidth=-4;"dhx_web"==this.skin&&(this.cont.obj._offsetTop=9,this.cont.obj._offsetLeft=9,this.cont.obj._offsetHeight=-18,this.cont.obj._offsetWidth=-18);
"dhx_terrace"==this.skin&&(this.cont.obj._offsetTop=14,this.cont.obj._offsetLeft=14,this.cont.obj._offsetHeight=-28,this.cont.obj._offsetWidth=-28);document.body.className+=" dhxlayout_fullscreened"}a.adjustContent(a,this._mTop,null,null,this._mBottom);this.base=document.createElement("DIV");this.base.style.overflow="hidden";this.base.style.position="absolute";this.base.style.left="0px";this.base.style.top="0px";this.base.style.width=c.childNodes[0].style.width;this.base.style.height=c.childNodes[0].style.height;
c.childNodes[0].appendChild(this.base);a==document.body&&(this._lw=this._tmTime=null,this._doOnResizeStart=function(){window.clearTimeout(this._tmTime);this._tmTime=window.setTimeout(function(){d._doOnResizeEnd()},200)},this._doOnResizeEnd=function(){this.setSizes(!1)},_isIE?window.attachEvent("onresize",d._doOnResizeStart):window.addEventListener("resize",d._doOnResizeStart,!1));a._doOnAttachToolbar=function(){null!=d&&"function"==typeof d.setSizes&&d.setSizes()}}this.items=[];this.cells=function(a){return null!=
this.polyObj[a]?this.polyObj[a]:null};this.getIdByIndex=function(a){return 0>a?null:a>=this.items.length?null:this.items[a]._idd};this.getIndexById=function(a){return null!=this.cells(a)?this.cells(a).getIndex():null};this.imagePath=dhtmlx.image_path||"codebase/imgs/";this.setImagePath=function(a){this.imagePath=a};this.polyObj={};this.sepHor=[];this.sepVer=[];this._layoutView=null!=b?String(b).toUpperCase():"3E";this._minHeight=this._minWidth=40;this._CPanelBtnsWidth=32;this.skinParams={dhx_black:{hor_sep_height:5,
ver_sep_width:5,cpanel_height:34,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_blue:{hor_sep_height:5,ver_sep_width:5,cpanel_height:34,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_skyblue:{hor_sep_height:5,ver_sep_width:5,cpanel_height:26,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_web:{hor_sep_height:9,ver_sep_width:9,cpanel_height:27,cpanel_collapsed_width:18,cpanel_collapsed_height:18,cell_pading_max:1,cell_pading_min:0},dhx_terrace:{hor_sep_height:14,ver_sep_width:14,
cpanel_height:37,cpanel_collapsed_width:18,cpanel_collapsed_height:18,cell_pading_max:1,cell_pading_min:0}};this._CPanelHeight=this.skinParams[this.skin].cpanel_height;this._collapsedW=this.skinParams[this.skin].cpanel_collapsed_width;this._collapsedH=this.skinParams[this.skin].cpanel_collapsed_height;this.tpl=document.createElement("TABLE");this.tpl.dir="ltr";this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin;this.tpl.cellSpacing=0;this.tpl.cellPadding=0;a=document.createElement("TBODY");
this.tpl.appendChild(a);this.tpl.border=0;this.tplSizes={};this._effects={collapse:!1,resize:!1,highlight:!0};this.sizer=document.createElement("DIV");this.sizer.className="dhxLayout_Sizer_"+this.skin;this.sizer.style.display="none";document.body.appendChild(this.sizer);this._attachSizer=function(a){d.sizer.style.left=getAbsoluteLeft(a)+"px";d.sizer.style.top=getAbsoluteTop(a)+"px";d.sizer.style.width=a.offsetWidth+"px";d.sizer.style.height=a.offsetHeight+"px";null!=d._sizerML&&(d.sizer.style.marginLeft=
d._sizerML+"px");null!=d._sizerMT&&(d.sizer.style.marginTop=d._sizerMT+"px");d.sizer.style.display="";d.sizer.className="dhxLayout_Sizer_"+d.skin;null!=a._dir&&(d.sizer.className+=" "+("hor"==a._dir?"dhxCursorNResize":"dhxCursorWResize"))};this.listViews=function(){var a=[],b;for(b in this.tplData)a[a.length]=b;return a};this._init=function(){this.obj=document.createElement("DIV");this.obj.className="dhtmlxLayoutObject";this.base.appendChild(this.obj);this.obj.appendChild(this.tpl);this.w=this.obj.offsetWidth;
this.h=this.obj.offsetHeight;this._xmlLoader.loadXMLString(null!=this.tplData[this._layoutView]?this.tplData[this._layoutView]:this.tplData["3E"]);this._initWindows()};this._autoHor=[];this._autoVer=[];this._dimension=[320,200];this._colsRatio=this._rowsRatio=100;this._xmlParser=function(){for(var a=[],b=[],c={},k=this.getXMLTopNode("layout"),h=0;h<k.childNodes.length;h++){if("row"==k.childNodes[h].tagName){var l=k.childNodes[h],m=document.createElement("TR");d.tpl.childNodes[0].appendChild(m);for(var n=
0;n<l.childNodes.length;n++)if("cell"==l.childNodes[n].tagName){var s=l.childNodes[n],u=document.createElement("TD");u._dir="null";if(null!=s.getAttribute("obj")){for(var v=s.getAttribute("obj"),w=String(s.getAttribute("wh")).split(","),A=isNaN(w[0]),C=isNaN(w[0])?parseInt(d.polyObj[w[0]].style.width):0,x=0;x<a.length;x++)for(var y=0;y<a[x].length;y++)if(a[x][y]==v){if(!A){for(var A=!0,D=d.base.offsetWidth-c[v][0]*d.skinParams[d.skin].ver_sep_width,C=0;C<a[x].length;C++)isNaN(a[x][C])||(D-=a[x][C],
w[0]-=1);C=Math.ceil(D/w[0])}a[x][y]=C}u.style.width=C+"px";A=isNaN(w[1]);C=isNaN(w[1])?parseInt(d.polyObj[w[1]].style.height):0;for(x=0;x<b.length;x++)for(y=0;y<b[x].length;y++)if(b[x][y]==v){if(!A){A=!0;D=d.base.offsetHeight-c[v][1]*d.skinParams[d.skin].hor_sep_height;for(C=0;C<b.length;C++)isNaN(b[C][y])||(D-=b[C][y],w[1]-=1);C=Math.ceil(D/w[1])}b[x][y]=C}u.style.height=C+"px";u.className="dhtmlxLayoutSinglePoly";u.innerHTML="";u._minW=null!=s.getAttribute("minWidth")?Number(s.getAttribute("minWidth")):
d._minWidth;u._minH=null!=s.getAttribute("minHeight")?Number(s.getAttribute("minHeight")):d._minHeight;u._initCPanel=null!=s.getAttribute("cpanel")?"false"==s.getAttribute("cpanel")?!1:!0:!0;u._resize=s.getAttribute("resize");A=String(s.getAttribute("neighbors")).split(";");for(x=0;x<A.length;x++)y=String(A[x]).split(","),1<y.length&&(A[x]=y);u._rowData=A;d.polyObj[v]=u}if(null!=s.getAttribute("sep")){if("hor"==s.getAttribute("sep")){u.className="dhtmlxLayoutPolySplitterHor";u._dir="hor";v=s.getAttribute("top").split(";");
for(x=0;x<v.length;x++)y=String(v[x]).split(","),1<y.length&&(v[x]=y);u._top=v;v=s.getAttribute("bottom").split(";");for(x=0;x<v.length;x++)y=String(v[x]).split(","),1<y.length&&(v[x]=y);u._bottom=v;d.sepHor[d.sepHor.length]=u}else{u.className="dhtmlxLayoutPolySplitterVer";u._dir="ver";v=s.getAttribute("left").split(";");for(x=0;x<v.length;x++)y=String(v[x]).split(","),1<y.length&&(v[x]=y);u._left=v;v=s.getAttribute("right").split(";");for(x=0;x<v.length;x++)y=String(v[x]).split(","),1<y.length&&
(v[x]=y);u._right=v;d.sepVer[d.sepVer.length]=u}u._dblClick=s.getAttribute("dblclick");u._isSep=!0;u.innerHTML='<div style="height:2px;overflow:hidden;">&nbsp;</div>'}null!=s.getAttribute("colspan")&&(u.colSpan=s.getAttribute("colspan"));null!=s.getAttribute("rowspan")&&(u.rowSpan=s.getAttribute("rowspan"));m.appendChild(u)}}"autosize"==k.childNodes[h].tagName&&(d._autoHor=k.childNodes[h].getAttribute("hor").split(";"),d._autoVer=k.childNodes[h].getAttribute("ver").split(";"),d._totalCols=k.childNodes[h].getAttribute("cols"),
d._totalRows=k.childNodes[h].getAttribute("rows"),d._dimension[0]=d._totalCols*d._colsRatio,d._dimension[1]=d._totalRows*d._rowsRatio);if("table"==k.childNodes[h].tagName){l=k.childNodes[h].getAttribute("data");C=String(l).split(";");for(x=0;x<C.length;x++)for(a[x]=[],b[x]=[],l=String(C[x]).split(","),y=0;y<l.length;y++)a[x][y]=l[y],b[x][y]=l[y],null==c[l[y]]&&(c[l[y]]=[0,0]);for(var E in c)for(A=!1,x=0;x<a.length;x++)for(y=0;y<a[x].length;y++)if(a[x][y]==E&&!A){A=!0;for(l=0;l<a[x].length;l++)a[x][l]!=
E&&c[E][0]++;for(l=0;l<a.length;l++)a[l][y]!=E&&c[E][1]++}}}d._buildSurface();this.destructor()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this.listAutoSizes=function(){var a=this._availAutoSize[this._layoutView+"_hor"],b=this._availAutoSize[this._layoutView+"_ver"],c=this._autoHor.join(";"),d=this._autoVer.join(";");return[c,d,a,b]};this.setAutoSize=function(a,b){if(null!=a){for(var c=!1,d=this._availAutoSize[this._layoutView+"_hor"],h=0;h<d.length;h++)c=c||d[h]==a;!0==c&&(this._autoHor=
a.split(";"))}if(null!=b){c=!1;d=this._availAutoSize[this._layoutView+"_ver"];for(h=0;h<d.length;h++)c=c||d[h]==b;!0==c&&(this._autoVer=b.split(";"))}};this._buildSurface=function(){for(var a=0;a<this.tpl.childNodes[0].childNodes.length;a++)for(var b=this.tpl.childNodes[0].childNodes[a],c=0;c<b.childNodes.length;c++){var d=b.childNodes[c],h=this;d._isSep||(d._isCell=!0,d.skin=this.skin,d.getId=function(){return this._idd},d.getIndex=function(){return this._ind},d.showHeader=function(){h.showPanel(this._idd)},
d.hideHeader=function(){h.hidePanel(this._idd)},d.isHeaderVisible=function(){return h.isPanelVisible(this._idd)},d.setText=function(a){h.setText(this._idd,a)},d.getText=function(){return h.getText(this._idd)},d.expand=function(){h._isCollapsed(this._idd)&&h._expand(this._idd,"hide")},d.collapse=function(){h._isCollapsed(this._idd)||h._collapse(this._idd,"hide")},d.isCollapsed=function(){return h._isCollapsed(this._idd)},d.dock=function(){h._isCollapsed(this._idd)&&(h._expand(this._idd,"dock"),h.dockWindow(this._idd))},
d.undock=function(){h._isCollapsed(this._idd)||(h.unDockWindow(this._idd),h._collapse(this._idd,"dock"))},d.setWidth=function(a){if(Number(a)){var b=this._isBlockedWidth||!1;this._isBlockedWidth=!1;h._setWidth(this._idd,a);this._isBlockedWidth=b}},d.getWidth=function(){return parseInt(this.style.width)},d.setHeight=function(a){if(Number(a)){var b=this._isBlockedHeight||!1;this._isBlockedHeight=!1;h._setHeight(this._idd,a);this._isBlockedHeight=b}},d.getHeight=function(){return parseInt(this.style.height)},
d.fixSize=function(a,b){h._fixSize(this._idd,a,b)},d.progressOn=function(){h._progressControl(this._idd,!0)},d.progressOff=function(){h._progressControl(this._idd,!1)},d._doOnAttachMenu=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:h.skinParams[h.skin].cpanel_height);this.updateNestedObjects()},d._doOnAttachToolbar=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:h.skinParams[h.skin].cpanel_height);this.updateNestedObjects()},d._doOnAttachStatusBar=function(){this.adjustContent(this.childNodes[0],
this._noHeader?0:h.skinParams[h.skin].cpanel_height);this.updateNestedObjects()},d._doOnFrameContentLoaded=function(){h.callEvent("onContentLoaded",[this._idd])},d._doOnResize=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:h.skinParams[h.skin].cpanel_height);this.updateNestedObjects()},d._redraw=function(){},d.showArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display=""},d.hideArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display=
"none"},d.isArrowVisible=function(){return"none"!=this.childNodes[0].childNodes[0].childNodes[4].style.display});"ver"==d._dir&&(d.onselectstart=function(a){a=a||event;a.returnValue=!1},_isIE&&(d.ondblclick=function(){h._doOnDoubleClick(this)}),d[this._isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;if(!_isIE)if(this._lastClick){var b=this._lastClick;this._lastClick=(new Date).getTime();if(b+h._dblClickTM>=this._lastClick&&!0===h._doOnDoubleClick(this))return}else this._lastClick=(new Date).getTime();
b=h._findDockCellsVer(this);h._resAreaData=[];if(null!=b[0]&&null!=b[1]){-1==String(document.body.className).search("dhxCursorWResize")&&(document.body.className+=" dhxCursorWResize");h._resObj=this;h._anyExpL=b[0];h._anyExpR=b[1];h._collectResAreaData(b);h._resX=h._isIPad?a.touches[0].clientX:a.clientX;if(!1==h._effects.resize){h._attachSizer(this);h.sizer._leftXStart=parseInt(h.sizer.style.left);b=h.polyObj[h._anyExpL[0]];h._resXMaxWidthLeft=parseInt(b.style.width)-h._minWidth;var c=h.polyObj[h._anyExpR[0]];
h._resXMaxWidthRight=parseInt(c.style.width)-h._minWidth;if(0<h._alterSizes.length)for(var d=0;d<h._alterSizes.length;d++){for(var e=0;e<h._anyExpL.length;e++)if(h._alterSizes[d][0]==h._anyExpL[e]){var f=h._resXMaxWidthLeft=parseInt(b.style.width)-h._alterSizes[d][1];f<h._resXMaxWidthLeft&&(h._resXMaxWidthLeft=f)}for(e=0;e<h._anyExpR.length;e++)h._alterSizes[d][0]==h._anyExpR[e]&&(f=parseInt(c.style.width)-h._alterSizes[d][1],f<h._resXMaxWidthRight)&&(h._resXMaxWidthRight=f)}h._resXStart=h._resX}h._resFunc=
h._resizeVer;h._isIPad&&a.preventDefault()}},d.onmouseup=function(){!0==h._effects.resize&&(h._resizeStop(),h._anyExpL=null,h._anyExpR=null)});"hor"==d._dir&&(d.onselectstart=function(a){a=a||event;a.returnValue=!1},d[this._isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;if(this._lastClick){var b=this._lastClick;this._lastClick=(new Date).getTime();if(b+h._dblClickTM>=this._lastClick&&!0===h._doOnDoubleClick(this))return}else this._lastClick=(new Date).getTime();b=h._findDockCellsHor(this);
h._resAreaData=[];if(null!=b[0]&&null!=b[1]){-1==String(document.body.className).search("dhxCursorNResize")&&(document.body.className+=" dhxCursorNResize");h._resObj=this;h._anyExpT=b[0];h._anyExpB=b[1];h._collectResAreaData(b);h._resY=h._isIPad?a.touches[0].clientY:a.clientY;if(!1==h._effects.resize){h._attachSizer(this);h.sizer._topYStart=parseInt(h.sizer.style.top);b=h.polyObj[h._anyExpT[0]];h._resYMaxHeightTop=parseInt(b.style.height)-h._minHeight;var c=h.polyObj[h._anyExpB[0]];h._resYMaxHeightBottom=
parseInt(c.style.height)-h._minHeight;if(0<h._alterSizes.length)for(var d=0;d<h._alterSizes.length;d++){for(var e=0;e<h._anyExpT.length;e++)if(h._alterSizes[d][0]==h._anyExpT[e]){var f=parseInt(b.style.height)-h._alterSizes[d][2]-("none"!=b.childNodes[0].style.display?h.skinParams[h.skin].cpanel_height:0);f<h._resYMaxHeightTop&&(h._resYMaxHeightTop=f)}for(e=0;e<h._anyExpB.length;e++)h._alterSizes[d][0]==h._anyExpB[e]&&(f=parseInt(c.style.height)-h._alterSizes[d][2]-("none"!=c.childNodes[0].style.display?
h.skinParams[h.skin].cpanel_height:0),f<h._resYMaxHeightBottom)&&(h._resYMaxHeightBottom=f)}h._resYStart=h._resY}h._resFunc=h._resizeHor;h._isIPad&&a.preventDefault()}},d.onmouseup=function(){!0==h._effects.resize&&(h._resizeStop(),h._anyExpT=null,h._anyExpB=null)})}for(var l in this.polyObj){this.polyObj[l]._collapsed=!1;this.polyObj[l]._idd=l;this.polyObj[l]._ind=this.items.length;this.items[this.items.length]=this.polyObj[l];a=document.createElement("DIV");a.style.position="relative";a.style.left=
"0px";a.style.top="0px";a.style.width=this.polyObj[l].style.width;a.style.height=this.polyObj[l].style.height;a.style.overflow="hidden";this.polyObj[l].appendChild(a);b=document.createElement("DIV");b._dockCell=l;b._resize=this.polyObj[l]._resize;b.className="dhtmlxPolyInfoBar";b.innerHTML="<div class='dhtmlxInfoBarLabel'>"+l+"</div><div class='dhtmlxInfoBarButtonsFake'><div class='dhtmlxInfoBarButtonsFake2'></div></div><div class='dhtmlxInfoButtonDock' title='"+this.i18n.dock+"'></div><div class='dhtmlxInfoButtonUnDock' style='display: none;' title='"+
this.i18n.undock+"'></div><div class='dhtmlxInfoButtonShowHide_"+b._resize+"' title='"+this.i18n.collapse+"'></div><div class='dhtmlxLineL'></div><div class='dhtmlxLineR'></div>";!0==this.polyObj[l]._initCPanel?(b._h=this._CPanelHeight,b.style.display=""):(b._h=0,b.style.display="none");this.polyObj[l].childNodes[0].appendChild(b);b.ondblclick=function(){h.callEvent("onDblClick",[this._dockCell])};b.childNodes[4].onclick=function(){var a=this.parentNode._dockCell;h._isCollapsed(a)?h._expand(a,"hide"):
h._collapse(a,"hide")};for(a=0;a<b.childNodes.length;a++)b.childNodes[a].onselectstart=function(a){a=a||event;a.returnValue=!1};a=document.createElement("DIV");a.className="dhxcont_global_content_area";this.polyObj[l].childNodes[0].appendChild(a);(new dhtmlXContainer(this.polyObj[l])).setContent(a);"dhx_web"==this.skin&&this.polyObj[l]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_web");"dhx_terrace"==this.skin&&(this.polyObj[l]._setPadding(this.skinParams[this.skin].cell_pading_max,
"dhxcont_layout_dhx_terrace"),this.polyObj[l].childNodes[0].style.borderRadius="3px",this.polyObj[l].childNodes[0].childNodes[1].style.borderBottomLeftRadius=this.polyObj[l].childNodes[0].childNodes[1].style.borderBottomRightRadius="3px");this.polyObj[l].adjustContent(this.polyObj[l].childNodes[0],this.skinParams[this.skin].cpanel_height)}this._fixIcons()};this._anyExpB=this._anyExpT=this._anyExpR=this._anyExpL=this._resFunc=this._resObj=this._resY=this._resX=null;this._expand=function(a,b){this._doExpand(this.polyObj[a]._resize,
a,this.polyObj[a]._rowData,b)};this._collapse=function(a,b){this._isCollapsed(a)||(this.polyObj[a]._savedW=parseInt(this.polyObj[a].style.width),this.polyObj[a]._savedH=parseInt(this.polyObj[a].style.height),this._doCollapse(this.polyObj[a]._resize,a,this.polyObj[a]._rowData,b))};this._isCollapsed=function(a){return this.polyObj[a]._collapsed};this._checkAlterMinSize=function(a){this._alterSizes=[];for(var b=0;b<a.length;b++)for(var c=0;c<a[b].length;c++)if(null!=this.polyObj[a[b][c]].vs[this.polyObj[a[b][c]].av].layout){var d=
this.polyObj[a[b][c]].vs[this.polyObj[a[b][c]].av].layout._defineWindowMinDimension(this.polyObj[a[b][c]],!0);d[0]=a[b][c];this._alterSizes[this._alterSizes.length]=d}};this._findDockCellsVer=function(a){var b=[null,null];if(null==a)return b;for(var c=null,d=a._left.length-1;0<=d;d--)if(null==c)if("object"==typeof a._left[d]){for(var h=!1,l=0;l<a._left[d].length;l++)h=h||this.polyObj[a._left[d][l]]._isBlockedWidth||!1;h||(c=a._left[d])}else!1==this.polyObj[a._left[d]]._collapsed&&(this.polyObj[a._left[d]]._isBlockedWidth||
(c=a._left[d]));for(var m=null,d=0;d<a._right.length;d++)if(null==m)if("object"==typeof a._right[d]){h=!1;for(l=0;l<a._right[d].length;l++)h=h||this.polyObj[a._right[d][l]]._isBlockedWidth||!1;h||(m=a._right[d])}else!1==this.polyObj[a._right[d]]._collapsed&&(this.polyObj[a._right[d]]._isBlockedWidth||(m=a._right[d]));if(null==c||null==m)return b;"string"==typeof c&&(c=Array(c));"string"==typeof m&&(m=Array(m));b[0]=c;b[1]=m;this._checkAlterMinSize(b);this._minWRAlter=this._minWLAlter=0;if(0<this._alterSizes.length&&
!0==this._effects.resize){a=[];h=[];for(d=0;d<c.length;d++)a[d]=this.polyObj[c[d]];for(d=0;d<m.length;d++)h[d]=this.polyObj[m[d]];for(d=0;d<a.length;d++)for(l=0;l<this._alterSizes.length;l++)this._alterSizes[l][0]==a[d]._idd&&this._minWLAlter<this._alterSizes[l][1]&&(this._minWLAlter=this._alterSizes[l][1]);for(d=0;d<h.length;d++)for(l=0;l<this._alterSizes.length;l++)this._alterSizes[l][0]==h[d]._idd&&this._maxWRAlter<this._alterSizes[l][1]&&(this._minWRAlter=this._alterSizes[l][1])}return b};this._findDockCellsHor=
function(a){var b=[null,null];if(null==a)return b;for(var c=null,d=a._top.length-1;0<=d;d--)if(null==c)if("object"==typeof a._top[d]){for(var h=!1,l=0;l<a._top[d].length;l++)h=h||this.polyObj[a._top[d][l]]._isBlockedHeight||!1;h||(c=a._top[d])}else!1==this.polyObj[a._top[d]]._collapsed&&(this.polyObj[a._top[d]]._isBlockedHeight||(c=a._top[d]));for(var m=null,d=0;d<a._bottom.length;d++)if(null==m)if("object"==typeof a._bottom[d]){h=!1;for(l=0;l<a._bottom[d].length;l++)h=h||this.polyObj[a._bottom[d][l]]._isBlockedHeight||
!1;h||(m=a._bottom[d])}else!1==this.polyObj[a._bottom[d]]._collapsed&&(this.polyObj[a._bottom[d]]._isBlockedHeight||(m=a._bottom[d]));if(null==c||null==m)return b;"string"==typeof c&&(c=Array(c));"string"==typeof m&&(m=Array(m));b[0]=c;b[1]=m;this._checkAlterMinSize(b);this._minHBAlter=this._minHTAlter=0;if(0<this._alterSizes.length&&!0==this._effects.resize){a=[];h=[];for(d=0;d<c.length;d++)a[d]=this.polyObj[c[d]];for(d=0;d<m.length;d++)h[d]=this.polyObj[m[d]];for(d=0;d<a.length;d++)for(l=0;l<this._alterSizes.length;l++)this._alterSizes[l][0]==
a[d]._idd&&this._minHTAlter<this._alterSizes[l][2]&&(this._minHTAlter=this._alterSizes[l][2]);for(d=0;d<h.length;d++)for(l=0;l<this._alterSizes.length;l++)this._alterSizes[l][0]==h[d]._idd&&this._minHBAlter<this._alterSizes[l][2]&&(this._minHBAlter=this._alterSizes[l][2])}return b};this._resizeVer=function(a){this._isIPad&&a.preventDefault();if(null!=this._resObj&&null!=this._anyExpL&&null!=this._anyExpR)if(this._showCovers(),a=this._isIPad?a.touches[0].clientX:a.clientX,!1==this._effects.resize){this._resX=
a;var b=a-this._resXStart;-b>this._resXMaxWidthLeft&&0>b&&(b=-this._resXMaxWidthLeft,this._resX=b+this._resXStart);b>this._resXMaxWidthRight&&0<b&&(b=this._resXMaxWidthRight,this._resX=b+this._resXStart);this.sizer.style.left=this.sizer._leftXStart+b+"px"}else{for(var c=this._anyExpL,k=this._anyExpR,b=a-d._resX,h=[],l=[],m=0;m<c.length;m++)h[m]=this.polyObj[c[m]];for(m=0;m<k.length;m++)l[m]=this.polyObj[k[m]];m=parseInt(h[0].style.width);c=parseInt(l[0].style.width);if(0>b){if(b=m+b,b>h[0]._minW&&
b>this._minWLAlter){for(var n=c+m-b,m=0;m<h.length;m++)this._setW(h[m],b);for(m=0;m<l.length;m++)this._setW(l[m],n);this._resX=a}}else if(0<b&&(n=c-b,n>l[0]._minW&&n>this._minWRAlter)){b=m+c-n;for(m=0;m<h.length;m++)this._setW(h[m],b);for(m=0;m<l.length;m++)this._setW(l[m],n);this._resX=a}}};this._resizeHor=function(a){if(null!=this._resObj&&null!=this._anyExpT&&null!=this._anyExpB)if(this._showCovers(),a=this._isIPad?a.touches[0].clientY:a.clientY,!1==this._effects.resize){this._resY=a;var b=a-this._resYStart;
-b>this._resYMaxHeightTop&&0>b&&(b=-this._resYMaxHeightTop,this._resY=b+this._resYStart);b>this._resYMaxHeightBottom&&0<b&&(b=this._resYMaxHeightBottom,this._resY=b+this._resYStart);this.sizer.style.top=this.sizer._topYStart+b+"px"}else{for(var c=this._anyExpT,k=this._anyExpB,b=a-d._resY,h=[],l=[],m=0;m<c.length;m++)h[m]=this.polyObj[c[m]];for(m=0;m<k.length;m++)l[m]=this.polyObj[k[m]];m=parseInt(h[0].style.height);c=parseInt(l[0].style.height);if(0>b){if(b=m+b,b>h[0]._minH+this._minHTAlter){for(var n=
c+m-b,m=0;m<h.length;m++)this._setH(h[m],b);for(m=0;m<l.length;m++)this._setH(l[m],n);this._resY=a}}else if(0<b&&(n=c-b,n>l[0]._minH+this._minHBAlter)){b=m+c-n;for(m=0;m<h.length;m++)this._setH(h[m],b);for(m=0;m<l.length;m++)this._setH(l[m],n);this._resY=a}}};this._resizeStop=function(){var a=document.body.className;if(-1!==a.search("dhxCursorWResize")||-1!==a.search("dhxCursorNResize"))document.body.className=String(document.body.className).replace(/dhxCursorWResize/g,"").replace(/dhxCursorNResize/g,
"");if(null!=this._resObj)if(!1==this._effects.resize){this.sizer.style.display="none";if("hor"==this._resObj._dir){var a="object"==typeof this._anyExpT[0]?this._anyExpT[0][0]:this._anyExpT[0],b=this._resY-this._resYStart,b=parseInt(this.polyObj[a].style.height)+b;this._setHeight(a,b)}else a="object"==typeof this._anyExpL[0]?this._anyExpL[0][0]:this._anyExpL[0],b=this._resX-this._resXStart,b=parseInt(this.polyObj[a].style.width)+b,this._setWidth(a,b);var c={},d=function(a){if(null!=a)for(var b=0;b<
a.length;b++)"object"==typeof a[b]&&d(a[b]),c[a[b]]=!0};d(this._anyExpT);d(this._anyExpB);d(this._anyExpL);d(this._anyExpR);var a=[],h;for(h in c)a[a.length]=h;"object"==typeof this._anyExpT&&null!=this._anyExpT&&(this.updateNestedObjectsArray(this._anyExpT),this._anyExpT=null);"object"==typeof this._anyExpB&&null!=this._anyExpB&&(this.updateNestedObjectsArray(this._anyExpB),this._anyExpB=null);"object"==typeof this._anyExpL&&null!=this._anyExpL&&(this.updateNestedObjectsArray(this._anyExpL),this._anyExpL=
null);"object"==typeof this._anyExpR&&null!=this._anyExpR&&(this.updateNestedObjectsArray(this._anyExpR),this._anyExpR=null);this._resFunc=this._resObj=null;this._hideCovers();this._fixToolbars();this._fixCollapsedText();this.callEvent("onPanelResizeFinish",[a])}else{h=[];if(null!=this._resObj._left)for(a=0;a<this._resObj._left.length;a++)h[h.length]=this._resObj._left[a];if(null!=this._resObj._right)for(a=0;a<this._resObj._right.length;a++)h[h.length]=this._resObj._right[a];if(null!=this._resObj._top)for(a=
0;a<this._resObj._top.length;a++)h[h.length]=this._resObj._top[a];if(null!=this._resObj._bottom)for(a=0;a<this._resObj._bottom.length;a++)h[h.length]=this._resObj._bottom[a];this._resObj=this._resFunc=null;this._hideCovers();b=[];for(a=0;a<h.length;a++)if("object"==typeof h[a])for(var l=0;l<h[a].length;l++)b[b.length]=this.polyObj[h[a][l]];else b[b.length]=this.polyObj[h[a]];for(a=0;a<b.length;a++)b[a].updateNestedObjects();this._fixCollapsedText();this.callEvent("onPanelResizeFinish",[])}};this._showCovers=
function(){if(!this._cv){for(var a in this.polyObj)this._effects.highlight&&this._isResizable(a)&&this.polyObj[a].showCoverBlocker();this._fixToolbars();this._cv=!0}};this._hideCovers=function(){if(this._cv){for(var a in this.polyObj)this.polyObj[a].hideCoverBlocker();this._fixToolbars();this._cv=!1}};this._isResizable=function(a){for(var b=!1,c=0;c<this._resAreaData.length;c++)b=b||this._resAreaData[c]==a;return b};this._collectResAreaData=function(a){for(var b=0;b<a.length;b++)"string"==typeof a[b]?
this._resAreaData[this._resAreaData.length]=a[b]:"object"==typeof a[b]&&this._collectResAreaData(a[b])};this._doOnDoubleClick=function(a){if(null!=a._dblClick&&null!=this.polyObj[a._dblClick]&&!this.polyObj[a._dblClick]._noHeader){var b=this.polyObj[a._dblClick];if("none"!=b.childNodes[0].style.display)return!0==b._collapsed?this._doExpand(b._resize,a._dblClick,b._rowData,"hide"):(b._savedW=parseInt(b.style.width),b._savedH=parseInt(b.style.height),this._doCollapse(b._resize,a._dblClick,b._rowData,
"hide")),!0}};this._doOnSelectStart=function(a){a=a||event;null!=d._resObj&&(a.returnValue=!1)};this._doOnMouseMove=function(a){a=a||event;null!=d._resObj&&null!=d._resFunc&&d._resFunc(a)};this._doOnMouseUp=function(){d._resizeStop()};this._isIPad?(document.addEventListener("touchmove",d._doOnMouseMove,!1),document.addEventListener("touchend",d._doOnMouseUp,!1)):_isIE?(document.body.attachEvent("onselectstart",d._doOnSelectStart),document.body.attachEvent("onmousemove",d._doOnMouseMove),document.body.attachEvent("onmouseup",
d._doOnMouseUp)):(document.body.addEventListener("mousemove",d._doOnMouseMove,!1),document.body.addEventListener("mouseup",d._doOnMouseUp,!1));this._doExpand=function(a,b,c,d){if(!(1>=c.length)){for(var h=-1,l=0;l<c.length;l++)c[l]==b&&(h=l);if(-1!=h){for(var m=null,l=h+1;l<c.length;l++)null==m&&("string"==typeof c[l]?!1==this.polyObj[c[l]]._collapsed&&(m=c[l]):m=c[l]);if(null==m)for(l=h-1;0<=l;l--)null==m&&("string"==typeof c[l]?!1==this.polyObj[c[l]]._collapsed&&(m=c[l]):m=c[l]);if(null!=m){"object"!=
typeof m&&(m=Array(m));if("hor"==a){c=65536;for(l=0;l<m.length;l++)h=null!=this.polyObj[m[l]].vs[this.polyObj[m[l]].av].layout?this.polyObj[m[l]].vs[this.polyObj[m[l]].av].layout._defineWindowMinDimension(this.polyObj[m[l]],!0):[0,0],h=parseInt(this.polyObj[m[l]].style.width)-this._minWidth-h[1],h<c&&(c=h);h=this.polyObj[b]._savedW;h>c&&(h=c);if(h<this._minWidth)return}else{c=65536;for(l=0;l<m.length;l++)h=null!=this.polyObj[m[l]].vs[this.polyObj[m[l]].av].layout?this.polyObj[m[l]].vs[this.polyObj[m[l]].av].layout._defineWindowMinDimension(this.polyObj[m[l]],
!0):[0,0,0],h=parseInt(this.polyObj[m[l]].style.height)-this._minHeight-h[2],h<c&&(c=h);h=this.polyObj[b]._savedH;h>c&&(h=c);if(h<this._minHeight)return}c=Math.round(h/3);this.polyObj[b].childNodes[0].childNodes[1].style.display="";this.polyObj[b].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar";this.polyObj[b].childNodes[0].childNodes[0].childNodes[1].style.display="";this.polyObj[b].childNodes[0].childNodes[0].childNodes[2].style.display="";this.polyObj[b].childNodes[0].childNodes[0].childNodes[4].style.display=
"";for(var n=[],l=0;l<m.length;l++)n[l]=this.polyObj[m[l]];"dhtmlxLayoutSinglePolyTabbarCollapsed"==this.polyObj[b].className&&(this.polyObj[b].className="dhtmlxLayoutSinglePolyTabbar");this._expandEffect(this.polyObj[b],n,h,d,!0==this._effects.collapse?c:1E6,a)}}}};this._doCollapse=function(a,b,c,d){if(!(1>=c.length)){for(var h=-1,l=0;l<c.length;l++)c[l]==b&&(h=l);if(-1!=h){for(var m=null,l=h+1;l<c.length;l++)null==m&&("string"==typeof c[l]?!1==this.polyObj[c[l]]._collapsed&&(m=c[l]):m=c[l]);if(null==
m)for(l=h-1;0<=l;l--)null==m&&("string"==typeof c[l]?!1==this.polyObj[c[l]]._collapsed&&(m=c[l]):m=c[l]);null==m&&null!=c[h+1]&&(m=c[h+1]);null==m&&0<=h-1&&null!=c[h-1]&&(m=c[h-1]);if(null!=m){"object"!=typeof m&&(!0==this.polyObj[m]._collapsed&&(this.polyObj[m].childNodes[0].childNodes[1].style.display="",this.polyObj[m]._collapsed=!1,this.polyObj[m].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar",this.polyObj[m].childNodes[0].childNodes[0].childNodes[1].style.display="",this.polyObj[m].childNodes[0].childNodes[0].childNodes[4].title=
this.i18n.collapse,this.polyObj[m].childNodes[0].childNodes[0].childNodes[2].style.display="",this.polyObj[m].childNodes[0].childNodes[0].childNodes[3].style.display="none",this.polyObj[m].childNodes[0].childNodes[0].childNodes[4].style.display="",!0===this.polyObj[m]._isUnDocked&&this.dockWindow(m),"dhtmlxLayoutSinglePolyTabbarCollapsed"==this.polyObj[m].className&&(this.polyObj[m].className="dhtmlxLayoutSinglePolyTabbar"),this._fixSplitters(),this._fixIcons(),this.polyObj[m].removeAttribute("title"),
this._fixToolbars(),this._fixCollapsedText(),this.callEvent("onExpand",[m])),m=Array(m));c=[];for(l=0;l<m.length;l++)c[l]=this.polyObj[m[l]];l="hor"==a?Math.round(Math.max(this.polyObj[b].offsetWidth,this.polyObj[m[0]].offsetWidth)/3):Math.round(Math.max(this.polyObj[b].offsetHeight,this.polyObj[m[0]].offsetHeight)/3);this.polyObj[b].childNodes[0].childNodes[1].style.display="none";this._collapseEffect(this.polyObj[b],c,d,!0==this._effects.collapse?l:1E6,a)}}}};this.setEffect=function(a,b){null!=
this._effects[a]&&"boolean"==typeof b&&(this._effects[a]=b)};this.getEffect=function(a){return null!=this._effects[a]?this._effects[a]:null};this._expandEffect=function(a,b,c,k,h,l){if("hor"==l)var m=parseInt(a.style.width),n=parseInt(b[0].style.width);else m=parseInt(a.style.height),n=parseInt(b[0].style.height);var s=m+h;s>c&&(s=c);"hor"==l?(a.style.width=s+"px",a.childNodes[0].style.width=a.style.width):(a.style.height=s+"px",a.childNodes[0].style.height=a.style.height);a.adjustContent(a.childNodes[0],
a._noHeader?0:this.skinParams[this.skin].cpanel_height);for(var u=0;u<b.length;u++)"hor"==l?(b[u].style.width=n+m-s+"px",b[u].childNodes[0].style.width=b[u].style.width):(b[u].style.height=n+m-s+"px",b[u].childNodes[0].style.height=b[u].style.height),b[u].adjustContent(b[u].childNodes[0],b[u]._noHeader?0:this.skinParams[this.skin].cpanel_height);if(s!=c)window.setTimeout(function(){d._expandEffect(a,b,c,k,h,l)},4);else{a._collapsed=!1;for(u=0;u<b.length;u++)b[u].updateNestedObjects();this.polyObj[a._idd].updateNestedObjects();
this.polyObj[a._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.collapse;this._fixSplitters();this._fixIcons();a.removeAttribute("title");this._fixToolbars();this._fixCollapsedText();this.callEvent("onExpand",[a._idd])}};this._collapseEffect=function(a,b,c,k,h){if("hor"==h)var l=parseInt(a.style.width),m=parseInt(b[0].style.width);else l=parseInt(a.style.height),m=parseInt(b[0].style.height);var n=l-k;"hor"==h?(n<this._collapsedW&&(n=this._collapsedW),a.style.width=n+"px",a.childNodes[0].style.width=
a.style.width):(n<this._collapsedH&&(n=this._collapsedH),a.style.height=n+"px",a.childNodes[0].style.height=a.style.height);for(var s=0;s<b.length;s++)"hor"==h?(b[s].style.width=m+(l-n)+"px",b[s].childNodes[0].style.width=b[s].style.width):(b[s].style.height=m+(l-n)+"px",b[s].childNodes[0].style.height=b[s].style.height),b[s].adjustContent(b[s].childNodes[0],b[s]._noHeader?0:this.skinParams[this.skin].cpanel_height);if(n>this._collapsedW&&"hor"==h||n>this._collapsedH&&"ver"==h)window.setTimeout(function(){d._collapseEffect(a,
b,c,k,h)},4);else{for(s=0;s<b.length;s++)"hor"==h?(b[s].style.width=m+(l-n)+"px",b[s].childNodes[0].style.width=b[s].style.width):(b[s].style.height=m+(l-n)+"px",b[s].childNodes[0].style.height=b[s].style.height),b[s].adjustContent(b[s].childNodes[0],b[s]._noHeader?0:this.skinParams[this.skin].cpanel_height);a._collapsed=!0;a.childNodes[0].childNodes[0].className="hor"==h?"dhtmlxPolyInfoBarCollapsedVer":"dhtmlxPolyInfoBarCollapsedHor";for(s=0;s<b.length;s++)b[s].updateNestedObjects();"hide"==c?(a.childNodes[0].childNodes[0].childNodes[1].style.display=
"",a.childNodes[0].childNodes[0].childNodes[2].style.display="none",a.childNodes[0].childNodes[0].childNodes[3].style.display="none",a.childNodes[0].childNodes[0].childNodes[4].style.display=""):(a.childNodes[0].childNodes[0].childNodes[1].style.display="",a.childNodes[0].childNodes[0].childNodes[2].style.display="",a.childNodes[0].childNodes[0].childNodes[3].style.display="none",a.childNodes[0].childNodes[0].childNodes[4].style.display="none");"dhtmlxLayoutSinglePolyTabbar"==a.className&&(a.className=
"dhtmlxLayoutSinglePolyTabbarCollapsed");this.polyObj[a._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.expand;this._fixSplitters();this._fixIcons();a.title=this.getTextTooltip(a._idd);this._fixToolbars();this._fixCollapsedText();this.callEvent("onCollapse",[a._idd])}};this._setW=function(a,b){a.style.width=b+"px";a.childNodes[0].style.width=a.style.width;a.adjustContent(a.childNodes[0],a._noHeader?0:this.skinParams[this.skin].cpanel_height)};this._setH=function(a,b){a.style.height=
b+"px";a.childNodes[0].style.height=a.style.height;a.adjustContent(a.childNodes[0],a._noHeader?0:this.skinParams[this.skin].cpanel_height)};this._setWidth=function(a,b){if(null!=this.polyObj[a]&&Number(b)){for(var c=null,d=0;d<this.sepVer.length;d++){var h=this.sepVer[d]._left;if(h[h.length-1]==a)c=[this.sepVer[d],"left"];else if("object"==typeof h[h.length-1])for(var h=h[h.length-1],l=0;l<h.length;l++)h[l]==a&&(c=[this.sepVer[d],"left"]);h=this.sepVer[d]._right;if(h[0]==a)c=[this.sepVer[d],"right"];
else if("object"==typeof h[0])for(h=h[0],l=0;l<h.length;l++)h[l]==a&&(c=[this.sepVer[d],"right"])}if(null!=c&&(d=this._findDockCellsVer(c[0]),h=d[0],l=d[1],null!=h&&null!=l)){d=parseInt(this.polyObj[h[0]].style.width)+parseInt(this.polyObj[l[0]].style.width);b<this._minWidth?b=this._minWidth:b>d-this._minWidth&&(b=d-this._minWidth);for(var m=d-b,d=0;d<h.length;d++)this._setW(this.polyObj[h[d]],"left"==c[1]?b:m),this.polyObj[h[d]].updateNestedObjects();for(d=0;d<l.length;d++)this._setW(this.polyObj[l[d]],
"right"==c[1]?b:m),this.polyObj[l[d]].updateNestedObjects()}}};this._setHeight=function(a,b){if(null!=this.polyObj[a]&&Number(b)){for(var c=null,d=0;d<this.sepHor.length;d++){var h=this.sepHor[d]._top;if(h[h.length-1]==a)c=[this.sepHor[d],"top"];else if("object"==typeof h[h.length-1])for(var h=h[h.length-1],l=0;l<h.length;l++)h[l]==a&&(c=[this.sepHor[d],"top"]);h=this.sepHor[d]._bottom;if(h[0]==a)c=[this.sepHor[d],"bottom"];else if("object"==typeof h[0])for(h=h[0],l=0;l<h.length;l++)h[l]==a&&(c=[this.sepHor[d],
"bottom"])}if(null!=c&&(d=this._findDockCellsHor(c[0]),h=d[0],l=d[1],null!=h&&null!=l)){d=parseInt(this.polyObj[h[0]].style.height)+parseInt(this.polyObj[l[0]].style.height);b<this._minHeight?b=this._minHeight:b>d-this._minHeight&&(b=d-this._minHeight);for(var m=d-b,d=0;d<h.length;d++)this._setH(this.polyObj[h[d]],"top"==c[1]?b:m),this.polyObj[h[d]].updateNestedObjects();for(d=0;d<l.length;d++)this._setH(this.polyObj[l[d]],"bottom"==c[1]?b:m),this.polyObj[l[d]].updateNestedObjects()}}};this.updateNestedObjectsArray=
function(a){for(var b=0;b<a.length;b++)"object"==typeof a[b]?this.updateNestedObjectsArray(a[b]):this.polyObj[a[b]].updateNestedObjects()};this.dockWindow=function(a){this.dhxWins&&this.dhxWins.window(this.dhxWinsIdPrefix+a)&&(this.dhxWins.window(this.dhxWinsIdPrefix+a).close(),this.dhxWins.window(this.dhxWinsIdPrefix+a).moveContentTo(this.polyObj[a]),this.polyObj[a]._isUnDocked=!1,this.callEvent("onDock",[a]))};this.unDockWindow=function(a){this._initWindows(a);this.polyObj[a].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+
a));this.polyObj[a]._isUnDocked=!0;this.callEvent("onUnDock",[a])};this._initWindows=function(a){if(window.dhtmlXWindows&&(this.dhxWins||(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.skin),this.dhxWins.setImagePath(this.imagePath),this.dhxWinsIdPrefix="",a))){var b=this.dhxWinsIdPrefix+a;if(this.dhxWins.window(b))this.dhxWins.window(b).show();else{var c=this,b=this.dhxWins.createWindow(b,20,20,320,200);b.setText(this.polyObj[a].getText());b.button("close").hide();b.attachEvent("onClose",
function(a){a.hide()});b.button("dock").show();b.button("dock").attachEvent("onClick",function(){c.polyObj[a].dock()});b.dockedCell=this.polyObj[a]}}};this.isPanelVisible=function(a){return!this.polyObj[a]._noHeader};this.showPanel=function(a){null!=this.polyObj[a]&&!0!=this.polyObj[a]._collapsed&&(this.polyObj[a].childNodes[0].childNodes[0].style.display="",this.polyObj[a]._noHeader=!1,"dhx_web"==this.skin&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_web"),
"dhx_terrace"==this.skin&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_terrace"),this.polyObj[a].adjustContent(this.polyObj[a].childNodes[0],this.skinParams[this.skin].cpanel_height),this.polyObj[a].updateNestedObjects())};this.hidePanel=function(a){null!=this.polyObj[a]&&!0!=this.polyObj[a]._collapsed&&(this.polyObj[a].childNodes[0].childNodes[0].style.display="none",this.polyObj[a]._noHeader=!0,"dhx_web"==this.skin&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_min,
""),"dhx_terrace"==this.skin&&this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.polyObj[a].adjustContent(this.polyObj[a].childNodes[0],0),this.polyObj[a].updateNestedObjects())};this.setText=function(a,b){this._changeCPanelText(a,b)};this.getText=function(a){return this.polyObj[a].childNodes[0].childNodes[0].childNodes[0].innerHTML};this.getTextTooltip=function(a){a=this.polyObj[a].childNodes[0].childNodes[0].childNodes[0];return a.innerText||a.textContent};this._changeCPanelText=
function(a,b){null!=d.polyObj[a]&&(d.polyObj[a].childNodes[0].childNodes[0].childNodes[0].innerHTML=b,null!=d.dhxWins&&null!=d.dhxWins.window(d.dhxWinsIdPrefix+a)&&d.dhxWins.window(d.dhxWinsIdPrefix+a).setText(b))};this.forEachItem=function(a){for(var b=0;b<this.items.length;b++)a(this.items[b])};this._fixPositionInWin=function(a,b){this.base.style.width=a+"px";this.base.style.height=b+"px"};this.attachMenu=function(){this.base._isWindow?this.menu=this.base._window.attachMenu():(this.cont.obj.skin=
this.skin,this.menu=this.cont.obj.attachMenu(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes());return this.menu};this.detachMenu=function(){this.menu&&(this.cont.obj.detachMenu(),this.setSizes(),this.menu=null)};this.showMenu=function(){this.menu&&(this.cont.obj.showMenu(),this.setSizes())};this.hideMenu=function(){this.menu&&(this.cont.obj.hideMenu(),this.setSizes())};this.attachToolbar=function(){this.base._isWindow?this.toolbar=this.base._window.attachToolbar():(this.cont.obj.skin=
this.skin,this.toolbar=this.cont.obj.attachToolbar(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes());return this.toolbar};this.detachToolbar=function(){this.toolbar&&(this.cont.obj.detachToolbar(),this.setSizes(),this.toolbar=null)};this.showToolbar=function(){this.toolbar&&(this.cont.obj.showToolbar(),this.setSizes())};this.hideToolbar=function(){this.toolbar&&(this.cont.obj.hideToolbar(),this.setSizes())};this.attachStatusBar=function(){this.base._isWindow?this.statusbar=this.base._window.attachStatusBar():
(this.statusbar=this.cont.obj.attachStatusBar(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes());return this.statusbar};this.detachStatusBar=function(){this.statusbar&&(this.cont.obj.detachStatusBar(),this.setSizes(),this.statusbar=null)};this.showStatusBar=function(){this.statusbar&&(this.cont.obj.showStatusBar(),this.setSizes())};this.hideStatusBar=function(){this.statusbar&&(this.cont.obj.hideStatusBar(),this.setSizes())};this.progressOn=function(){this._progressControlGlobal(!0)};
this.progressOff=function(){this._progressControlGlobal(!1)};this._progressControl=function(a,b){if(null!=this.polyObj[a]){if(null==this.polyObj[a]._progressCover){var c=document.createElement("DIV");c.className="dhtmlxLayoutPolyProgress";this.polyObj[a].childNodes[0].appendChild(c);var d=document.createElement("DIV");d.className="dhtmlxLayoutPolyProgressBGIMG";this.polyObj[a].childNodes[0].appendChild(d);this.polyObj[a]._progressCover=[c,d]}this.polyObj[a]._progressCover[0].style.display=!0==b?"":
"none";this.polyObj[a]._progressCover[1].style.display=this.polyObj[a]._progressCover[0].style.display}};this._progressControlGlobal=function(a){if(null==this._progressCover){var b=document.createElement("DIV");b.className="dhtmlxLayoutPolyProgressGlobal_"+this.skin;this.obj.appendChild(b);var c=document.createElement("DIV");c.className="dhtmlxLayoutPolyProgressBGIMGGlobal_"+this.skin;this.obj.appendChild(c);this._progressCover=[b,c]}this._progressCover[0].style.display=!0==a?"":"none";this._progressCover[1].style.display=
this._progressCover[0].style.display};this._fixSize=function(a,b,c){null!=this.polyObj[a]&&(this.polyObj[a]._isBlockedWidth=b,this.polyObj[a]._isBlockedHeight=c,this._fixSplitters())};this._fixSplitters=function(){for(var a=0;a<this.sepVer.length;a++){var b=this._findDockCellsVer(this.sepVer[a]);null==b[0]||null==b[1]?"dhtmlxLayoutPolySplitterVerInactive"!=this.sepVer[a].className&&(this.sepVer[a].className="dhtmlxLayoutPolySplitterVerInactive"):"dhtmlxLayoutPolySplitterVer"!=this.sepVer[a].className&&
(this.sepVer[a].className="dhtmlxLayoutPolySplitterVer")}for(a=0;a<this.sepHor.length;a++)(b=this._findDockCellsHor(this.sepHor[a]),null==b[0]||null==b[1])?"dhtmlxLayoutPolySplitterHorInactive"!=this.sepHor[a].className&&(this.sepHor[a].className="dhtmlxLayoutPolySplitterHorInactive"):"dhtmlxLayoutPolySplitterHor"!=this.sepHor[a].className&&(this.sepHor[a].className="dhtmlxLayoutPolySplitterHor")};this._fixIcons=function(){for(var a in this.polyObj){for(var b=this.polyObj[a]._rowData,c=this.polyObj[a]._collapsed,
d=-1,h=0;h<b.length;h++)"object"!=typeof b[h]&&b[h]==a&&(d=h);var l=null;if(-1!=d){for(h=d+1;h<b.length;h++)"object"==typeof b[h]?l="ver"==this.polyObj[a]._resize?c?"b":"t":c?"r":"l":!1==this.polyObj[b[h]]._collapsed&&(l="ver"==this.polyObj[a]._resize?c?"b":"t":c?"r":"l");if(null==l&&1<=d)for(h=d-1;0<=h;h--)"object"==typeof b[h]?l="ver"==this.polyObj[a]._resize?c?"t":"b":c?"l":"r":!1==this.polyObj[b[h]]._collapsed&&(l="ver"==this.polyObj[a]._resize?c?"t":"b":c?"l":"r")}null!=l&&(b=this.polyObj[a]._resize,
this.polyObj[a].childNodes[0].childNodes[0].childNodes[4].className="dhtmlxInfoButtonShowHide_"+b+" dhxLayoutButton_"+this.skin+"_"+b+(this.polyObj[a]._collapsed?"2":"1")+l)}};this._defineWindowMinDimension=function(a,b){if(!0==b){var c=[];c[0]=parseInt(a.style.width);c[1]=parseInt(a.style.height)}else c=a.getDimension(),"100%"==c[0]&&(c[0]=a.offsetWidth),"100%"==c[1]&&(c[1]=a.offsetHeight);var k=d._getNearestParents("hor"),h=d._getNearestParents("ver");if(!b){var l=[],m=[],n;for(n in k)l[l.length]=
n;for(n in h)m[m.length]=n;d._checkAlterMinSize([l,m]);for(var l={},m={},s=0;s<d._alterSizes.length;s++){n=d._alterSizes[s][0];var u=d._alterSizes[s][1],v=d._alterSizes[s][2];null==l[n]?l[n]=u:u>l[n]&&(l[n]=u);null==m[n]?m[n]=v:v>m[n]&&(m[n]=v)}for(n in k)null!=l[n]&&(k[n]=k[n]-l[n]+d._minWidth);for(n in h)null!=m[n]&&(h[n]=h[n]-m[n]+d._minHeight-("none"!=d.polyObj[n].childNodes[0].style.display?d.skinParams[d.skin].cpanel_height:0))}l=65536;for(n in k)k[n]<l&&(l=k[n]);l-=d._minWidth;l=c[0]-l;l<d._dimension[0]&&
!b&&(l=d._dimension[0]);k=65536;for(n in h)h[n]<k&&(k=h[n]);k-=d._minHeight;k=c[1]-k;k<d._dimension[1]&&!b&&(k=d._dimension[1]);if(!0==b)return["",l,k];a.setMinDimension(l,k)};this._getNearestParents=function(a){for(var b="hor"==a?this._autoHor:this._autoVer,c={},d=0;d<b.length;d++){var h=b[d];if(!0==this.polyObj[h]._collapsed&&this.polyObj[h]._resize==a){for(var l=this.polyObj[h]._rowData,m=-1,n=0;n<l.length;n++)"object"==typeof l[n]?m=n:l[n]==h&&(m=n);var s=m,h=null;if(0<m)for(n=m-1;0<=n;n--)"object"==
typeof l[n]?h=l[n]:!1==this.polyObj[l[n]]._collapsed&&null==h&&(h=l[n]);if(null==h)for(n=s;n<l.length;n++)"object"==typeof l[n]?h=l[n]:!1==this.polyObj[l[n]]._collapsed&&null==h&&(h=l[n])}if(null!=h)for("string"==typeof h&&(h=Array(h)),n=0;n<h.length;n++)c[h[n]]=parseInt("hor"==a?this.polyObj[h[n]].style.width:this.polyObj[h[n]].style.height)}return c};this.setSizes=function(a){var b=this._defineWindowMinDimension(this.base,!0);this.cont.obj.setMinContentSize(b[1],b[2]);this.cont.obj.adjustContent(this.cont.obj,
0);if(this.base.offsetParent){this.cont&&!1!==a&&this.cont.obj.adjustContent(this.cont.obj,this._mTop,null,null,this._mBottom);a=this.base.offsetParent.offsetWidth-this.base.offsetWidth+(null!=this._baseWFix?this._baseWFix:0);b=this.base.offsetParent.offsetHeight-this.base.offsetHeight+(null!=this._baseHFix?this._baseHFix:0);this.base.style.width=parseInt(this.base.style.width)+a+"px";this.base.style.height=parseInt(this.base.style.height)+b+"px";var c={},d;for(d in this._getNearestParents("hor"))this.polyObj[d].style.width=
Math.max(0,parseInt(this.polyObj[d].style.width)+a)+"px",this.polyObj[d].childNodes[0].style.width=this.polyObj[d].style.width,c[d]=1;for(d in this._getNearestParents("ver"))this.polyObj[d].style.height=Math.max(0,parseInt(this.polyObj[d].style.height)+b)+"px",this.polyObj[d].childNodes[0].style.height=this.polyObj[d].style.height,c[d]=1;for(d in c)this.polyObj[d].adjustContent(this.polyObj[d].childNodes[0],this.polyObj[d]._noHeader?0:this.skinParams[this.skin].cpanel_height),this.polyObj[d].updateNestedObjects();
this._fixCollapsedText();this.callEvent("onResizeFinish",[])}};dhtmlxEventable(this);this._init()}else alert(this.i18n.dhxcontalert)}
dhtmlXLayoutObject.prototype.unload=function(){this._isIPad?(document.removeEventListener("touchmove",this._doOnMouseMove,!1),document.removeEventListener("touchend",this._doOnMouseUp,!1)):_isIE?(document.body.detachEvent("onselectstart",this._doOnSelectStart),document.body.detachEvent("onmousemove",this._doOnMouseMove),document.body.detachEvent("onmouseup",this._doOnMouseUp)):(document.body.removeEventListener("mousemove",this._doOnMouseMove,!1),document.body.removeEventListener("mouseup",this._doOnMouseUp,
!1));this._doOnMouseUp=this._doOnMouseMove=this._doOnSelectStart=null;for(var a in this.polyObj){var b=this.polyObj[a];b._isCell=null;b.skin=null;b.getId=null;b.getIndex=null;b.showHeader=null;b.hideHeader=null;b.isHeaderVisible=null;b.setText=null;b.getText=null;b.expand=null;b.collapse=null;b.isCollapsed=null;b.dock=null;b.undock=null;b.setWidth=null;b.getWidth=null;b.setHeight=null;b.getHeight=null;b.fixSize=null;b.progressOn=null;b.progressOff=null;b._doOnAttachMenu=null;b._doOnAttachToolbar=
null;b._doOnAttachStatusBar=null;b._collapsed=null;b._idd=null;b._ind=null;b._rowData=null;b._dir=null;b._initCPanel=null;b._minW=null;b._minH=null;b._resize=null;b._savedH=null;b._savedW=null;b.ondblclick=null;var c=b.childNodes[0].childNodes[0];c.className="";c._dockCell=null;c._resize=null;c._h=null;c.ondblclick=null;c.childNodes[4].onclick=null;for(var d=0;d<c.childNodes.length;d++)c.childNodes[d].onselectstart=null;for(;0<c.childNodes.length;)c.removeChild(c.childNodes[0]);c.parentNode.removeChild(c);
b._dhxContDestruct();b._dhxContDestruct=null;b.removeChild(b.childNodes[0]);b.parentNode.removeChild(b)}for(a in this.polyObj)this.polyObj[a]=null;for(d=0;d<this.items.length;d++)this.items[d]=null;this.items=this.polyObj=null;for(b=this.tpl.childNodes[0];0<b.childNodes.length;){for(;0<b.childNodes[0].childNodes.length;){d=b.childNodes[0].childNodes[0];d._top=null;d._bottom=null;d._left=null;d._right=null;d._dblClick=null;d._isSep=null;d._dir=null;d._lastClick=null;d.ondblclick=null;d.onmousedown=
null;d.onmouseup=null;for(d.onselectstart=null;0<d.childNodes.length;)d.removeChild(d.childNodes[0]);d.parentNode.removeChild(d)}b.removeChild(b.childNodes[0])}b.parentNode.removeChild(b);this.tpl.parentNode.removeChild(this.tpl);this.tpl=null;for(a in this.sepHor)this.sepHor[a]=null;for(a in this.sepVer)this.sepVer[a]=null;this.sepVer=this.sepHor=null;if(this._ha){this.detachEvent(this._haEv);for(this._haEv=null;0<this._ha.childNodes.length;)this._ha.removeChild(this._ha.childNodes[0]);this._ha.parentNode.removeChild(this._ha);
this._ha=null}if(this._fa){this.detachEvent(this._faEv);for(this._faEv=null;0<this._fa.childNodes.length;)this._fa.removeChild(this._fa.childNodes[0]);this._fa.parentNode.removeChild(this._fa);this._fa=null}this.attachFooter=this.attachHeader=null;this.detachAllEvents();this._CPanelHeight=this._CPanelBtnsWidth=this.tplSizes=this.tplData=this.skinParams=this.skin=this.imagePath=this.h=this.w=this._xmlLoader=this._totalRows=this._totalCols=this._rowsRatio=this._colsRatio=this._resY=this._resX=this._resObj=
this._resFunc=this._minHeight=this._minWidth=this._mTop=this._mBottom=this._layoutView=this._effects=this._dimension=this._availAutoSize=this._autoVer=this._autoHor=null;this.sizer.parentNode&&this.sizer.parentNode.removeChild(this.sizer);this._resYMaxHeightBottom=this._resYMaxHeightTop=this._resXMaxWidthRight=this._resXMaxWidthLeft=this._resYStart=this._resXStart=this._minHTAlter=this._minHBAlter=this._minWRAlter=this._minWLAlter=this._collapsedW=this._collapsedH=this._dblClickTM=this._doOnDoubleClick=
this._autodetectSkin=this.dhx_SeverCatcherPath=this.i18n=this._isIPad=this._effect=this._autosize=this._cells=this.hideStatusBar=this.hideToolbar=this.hideMenu=this.showStatusBar=this.showToolbar=this.showMenu=this.detachStatusBar=this.detachToolbar=this.detachMenu=this.attachStatusBar=this.attachToolbar=this.attachMenu=this.setCollapsedText=this.updateNestedObjectsArray=this.unload=this.unDockWindow=this.showPanel=this.setText=this.setSkin=this.setSizes=this.setImagePath=this.setEffect=this.setAutoSize=
this.progressOn=this.progressOff=this.listViews=this.listAutoSizes=this.isPanelVisible=this.hidePanel=this.getTextTooltip=this.getText=this.getIndexById=this.getIdByIndex=this.getEffect=this.forEachItem=this.eventCatcher=this.dockWindow=this.detachEvent=this.detachAllEvents=this.checkEvent=this.cells=this.callEvent=this.attachToolbar=this.attachStatusBar=this.attachMenu=this.attachEvent=this._xmlParser=this._showCovers=this._setWidth=this._setW=this._setHeight=this._setH=this._resAreaData=this._resizeVer=
this._resizeStop=this._resizeHor=this._progressControlGlobal=this._progressControl=this._isResizable=this._isCollapsed=this._initWindows=this._init=this._hideCovers=this._getNearestParents=this._fixSplitters=this._fixSize=this._fixPositionInWin=this._fixIcons=this._findDockCellsVer=this._findDockCellsHor=this._expandEffect=this._expand=this._doExpand=this._doCollapse=this._defineWindowMinDimension=this._collectResAreaData=this._collapseEffect=this._collapse=this._checkAlterMinSize=this._changeCPanelText=
this._buildSurface=this._attachSizer=this._alterSizes=this.sizer=null;this.obj&&(this.obj.parentNode.removeChild(this.obj),this.obj=null);this.base&&this.base!=document.body&&(this.base.parentNode.removeChild(this.base),this.base=null);this.cont&&(this.cont.obj._dhxContDestruct(),this.cont=null);this.dhxWins&&(this.dhxWins.unload(),this.dhxWinsIdPrefix=this.dhxWins=null);this._doOnResizeStart&&(_isIE?window.detachEvent("onresize",this._doOnResizeStart):window.removeEventListener("resize",this._doOnResizeStart,
!1),this._tmTime=this._doOnResizeEnd=this._doOnResizeStart=null);that=null};
dhtmlXLayoutObject.prototype.tplData={"1C":'<layout><autosize hor="a" ver="a" rows="1" cols="1"/><table data="a"/><row><cell obj="a" wh="1,1" resize="ver" neighbors="a"/></row></layout>',"2E":'<layout><autosize hor="a;b" ver="b" rows="2" cols="1"/><table data="a;b"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b"/></row><row sep="true"><cell sep="hor" top="a" bottom="b" dblclick="a"/></row><row><cell obj="b" wh="1,2" resize="ver" neighbors="a;b"/></row></layout>',"2U":'<layout><autosize hor="b" ver="a;b" rows="1" cols="2"/><table data="a,b"/><row><cell obj="a" wh="2,1" resize="hor" neighbors="a;b"/><cell sep="ver" left="a" right="b" dblclick="a"/><cell obj="b" wh="2,1" resize="hor" neighbors="a;b"/></row></layout>',
"3E":'<layout><autosize hor="a;b;c" ver="c" rows="3" cols="1"/><table data="a;b;c"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b;c"/></row><row sep="yes"><cell sep="hor" top="a" bottom="b;c" dblclick="a"/></row><row><cell obj="b" wh="1,3" resize="ver" neighbors="a;b;c"/></row><row sep="yes"><cell sep="hor" top="a;b" bottom="c" dblclick="b"/></row><row><cell obj="c" wh="1,3" resize="ver" neighbors="a;b;c"/></row></layout>',"3W":'<layout><autosize hor="c" ver="a;b;c" rows="1" cols="3"/><table data="a,b,c"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a" right="b;c" dblclick="a"/><cell obj="b" wh="3,1" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a;b" right="c" dblclick="b"/><cell obj="c" wh="3,1" resize="hor" neighbors="a;b;c"/></row></layout>',
"3J":'<layout><autosize hor="b" ver="b;c" rows="2" cols="2"/><table data="a,b;c,b"/><row><cell obj="a" wh="2,2" resize="ver" neighbors="a;c"/><cell sep="ver" left="a,c" right="b" dblclick="b" rowspan="3"/><cell obj="b" wh="2,1" resize="hor" neighbors="a,c;b" rowspan="3"/></row><row sep="yes"><cell sep="hor" top="a" bottom="c" dblclick="a"/></row><row><cell obj="c" wh="2,2" resize="ver" neighbors="a;c"/></row></layout>',"3T":'<layout><autosize hor="a;c" ver="b;c" rows="2" cols="2"/><table data="a,a;b,c"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b,c" colspan="3"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c" dblclick="a" colspan="3"/></row><row><cell obj="b" wh="2,2" resize="hor" neighbors="b;c"/><cell sep="ver" left="b" right="c" dblclick="b"/><cell obj="c" wh="2,2" resize="hor" neighbors="b;c"/></row></layout>',
"3L":'<layout><autosize hor="b;c" ver="a;c" rows="2" cols="2"/><table data="a,b;a,c"/><row><cell obj="a" wh="2,1" resize="hor" neighbors="a;b,c" rowspan="3"/><cell sep="ver" left="a" right="b,c" dblclick="a" rowspan="3"/><cell obj="b" wh="2,2" resize="ver" neighbors="b;c"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c"/></row><row><cell obj="c" wh="b,2" resize="ver" neighbors="b;c"/></row></layout>',"3U":'<layout><autosize hor="b;c" ver="c" rows="2" cols="2"/><table data="a,b;c,c"/><row><cell obj="a" wh="2,2" resize="hor" neighbors="a;b"/><cell sep="ver" left="a" right="b" dblclick="a"/><cell obj="b" wh="2,2" resize="hor" neighbors="a;b"/></row><row sep="true"><cell sep="hor" top="a,b" bottom="c" dblclick="c" colspan="3"/></row><row><cell obj="c" wh="1,2" resize="ver" neighbors="a,b;c" colspan="3"/></row></layout>',
"4H":'<layout><autosize hor="d" ver="a;c;d" rows="2" cols="3"/><table data="a,b,d;a,c,d"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b,c;d" rowspan="3"/><cell sep="ver" left="a" right="b,c;d" dblclick="a" rowspan="3"/><cell obj="b" wh="3,2" resize="ver" neighbors="b;c"/><cell sep="ver" left="a;b,c" right="d" dblclick="d" rowspan="3"/><cell obj="d" wh="3,1" resize="hor" neighbors="a;b,c;d" rowspan="3"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c"/></row><row><cell obj="c" wh="3,2" resize="ver" neighbors="b;c"/></row></layout>',
"4I":'<layout><autosize hor="a;c;d" ver="d" rows="3" cols="2"/><table data="a,a;b,c;d,d"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c;d" colspan="3"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c;d" dblclick="a" colspan="3"/></row><row><cell obj="b" wh="2,3" resize="hor" neighbors="b;c"/><cell sep="ver" left="b" dblclick="b" right="c"/><cell obj="c" wh="2,3" resize="hor" neighbors="b;c"/></row><row sep="true"><cell sep="hor" top="a;b,c" bottom="d" dblclick="d" colspan="3"/></row><row><cell obj="d" wh="1,3" resize="ver" neighbors="a;b,c;d" colspan="3"/></row></layout>',
"4T":'<layout><autosize hor="a;d" ver="b;c;d" rows="2" cols="3"/><table data="a,a,a;b,c,d"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b,c,d" colspan="5"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c,d" dblclick="a" colspan="5"/></row><row><cell obj="b" wh="3,2" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b" right="c;d" dblclick="b"/><cell obj="c" wh="3,2" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b;c" right="d" dblclick="c"/><cell obj="d" wh="3,2" resize="hor" neighbors="b;c;d"/></row></layout>',
"4U":'<layout><autosize hor="c;d" ver="d" rows="2" cols="3"/><table data="a,b,c;d,d,d"/><row><cell obj="a" wh="3,2" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a" right="b;c" dblclick="a"/><cell obj="b" wh="3,2" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a;b" right="c" dblclick="b"/><cell obj="c" wh="3,2" resize="hor" neighbors="a;b;c"/></row><row sep="true"><cell sep="hor" top="a,b,c" bottom="d" dblclick="d" colspan="5"/></row><row><cell obj="d" wh="1,2" resize="ver" neighbors="a,b,c;d" colspan="5"/></row></layout>',
"5H":'<layout><autosize hor="b;c;d" ver="a;c;e" rows="3" cols="3"/><table data="a,b,e;a,c,e;a,d,e"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b,c,d" rowspan="5"/><cell sep="ver" left="a" right="b,c,d;e" dblclick="a" rowspan="5"/><cell obj="b" wh="3,3" resize="ver" neighbors="b;c;d"/><cell sep="ver" left="a;b,c,d" right="e" dblclick="e" rowspan="5"/><cell obj="e" wh="3,1" resize="hor" neighbors="b,c,d;e" rowspan="5"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c;d"/></row><row><cell obj="c" wh="3,3" resize="ver" neighbors="b;c;d"/></row><row sep="true"><cell sep="hor" top="b;c" dblclick="c" bottom="d"/></row><row><cell obj="d" wh="3,3" resize="ver" neighbors="b;c;d"/></row></layout>',
"5I":'<layout><autosize hor="a;d;e" ver="e" rows="3" cols="3"/><table data="a,a,a;b,c,d;e,e,e"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c,d;e" colspan="5"/></row><row sep="match"><cell sep="hor" top="a" bottom="b,c,d;e" dblclick="a" colspan="5"/></row><row><cell obj="b" wh="3,3" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b" right="c;d" dblclick="b"/><cell obj="c" wh="3,3" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b;c" right="d" dblclick="c"/><cell obj="d" wh="3,3" resize="hor" neighbors="b;c;d"/></row><row sep="match"><cell sep="hor" top="a;b,c,d" bottom="e" dblclick="e" colspan="5"/></row><row><cell obj="e" wh="1,3" resize="ver" neighbors="a;b,c,d;e" colspan="5"/></row></layout>',
"6I":'<layout><autosize hor="a;e;f" ver="f" rows="3" cols="4"/><table data="a,a,a,a;b,c,d,e;f,f,f,f"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c,d,e;f" colspan="7"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c,d,e;f" dblclick="a" colspan="7"/></row><row><cell obj="b" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b" right="c;d;e" dblclick="b"/><cell obj="c" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b;c" right="d;e" dblclick="c"/><cell obj="d" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b;c;d" right="e" dblclick="d"/><cell obj="e" wh="4,3" resize="hor" neighbors="b;c;d;e"/></row><row sep="true"><cell sep="hor" top="a;b,c,d,e" bottom="f" dblclick="f" colspan="7"/></row><row><cell obj="f" wh="1,3" resize="ver" neighbors="a;b,c,d,e;f" colspan="7"/></row></layout>'};
dhtmlXLayoutObject.prototype._availAutoSize={"1C_hor":["a"],"1C_ver":["a"],"2E_hor":["a;b"],"2E_ver":["a","b"],"2U_hor":["a","b"],"2U_ver":["a;b"],"3E_hor":["a;b;c"],"3E_ver":["a","b","c"],"3W_hor":["a","b","c"],"3W_ver":["a;b;c"],"3J_hor":["a;c","b"],"3J_ver":["a;b","c;b"],"3T_hor":["a;b","a;c"],"3T_ver":["a","b;c"],"3L_hor":["a","b;c"],"3L_ver":["a;b","a;c"],"3U_hor":["a;c","b;c"],"3U_ver":["a;b","c"],"4H_hor":["a","b;c","d"],"4H_ver":["a;b;d","a;c;d"],"4I_hor":["a;b;d","a;c;d"],"4I_ver":["a","b;c",
"d"],"4T_hor":["a;b","a;c","a;d"],"4T_ver":["a","b;c;d"],"4U_hor":["a;d","b;d","c;d"],"4U_ver":["a;b;c","d"],"5H_hor":["a","b;c;d","e"],"5H_ver":["a;b;e","a;c;e","a;d;e"],"5I_hor":["a;b;e","a;c;e","a;d;e"],"5I_ver":["a","b;c;d","e"],"6I_hor":["a;b;f","a;c;f","a;d;f","a;e;f"],"6I_ver":["a","b;c;d;e","f"]};
dhtmlXLayoutObject.prototype.setCollapsedText=function(a,b){if(this.polyObj[a]){var c=this.polyObj[a].childNodes[0].childNodes[0];if(!0===c.childNodes[c.childNodes.length-1]._ct)var d=c.childNodes[c.childNodes.length-1];else d=document.createElement("DIV"),d._ct=!0,d.className="dhtmlxInfoBarLabel_collapsed_"+this.polyObj[a]._resize,c.appendChild(d);d.innerHTML=b;this._fixCollapsedText()}};
dhtmlXLayoutObject.prototype._fixCollapsedText=function(){for(var a in this.polyObj)if("hor"==this.polyObj[a]._resize){var b=this.polyObj[a].childNodes[0].childNodes[0];!0===b.childNodes[b.childNodes.length-1]._ct&&(b.childNodes[b.childNodes.length-1].style.width=Math.max(0,b.offsetHeight-b.childNodes[4].offsetTop-b.childNodes[4].offsetHeight-12)+"px",_isFF||_isOpera||_isChrome||0<=navigator.userAgent.indexOf("MSIE 10.0"))&&(b.childNodes[b.childNodes.length-1].style.bottom="-12px")}};
dhtmlXLayoutObject.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page",collapse:"Collapse",expand:"Expand",dock:"Dock",undock:"UnDock"};
(function(){dhtmlx.extend_api("dhtmlXLayoutObject",{_init:function(a){return[a.parent,a.pattern,a.skin]},image_path:"setImagePath",effect:"_effect",cells:"_cells",autosize:"_autosize"},{_cells:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=this.cells(c.id);d&&(c.height&&d.setHeight(c.height),c.width&&d.setWidth(c.width),c.text&&d.setText(c.text),c.collapse&&d.collapse(),c.fix_size&&d.fixSize(c.fix_size[0],c.fix_size[1]),!1===c.header&&d.hideHeader())}},_autosize:function(a){this.setAutoSize(a[0],
a[1])},_effect:function(a){a.collapse&&this.setEffect("collapse",a.collapse);a.resize&&this.setEffect("resize",a.resize);a.highlight&&this.setEffect("highlight",a.highlight)}})})();
dhtmlXLayoutObject.prototype.attachHeader=function(a){if(!this._ha&&this.cont.obj==document.body){"object"!=typeof a&&(a=document.getElementById(a));var b=2,c=-4,d=2;"dhx_web"==this.skin?(b=d=9,c=-18):"dhx_terrace"==this.skin&&(b=d=14,c=-28);null!=this._fa&&(c=this.cont.obj._offsetHeight);this.cont.obj._offsetTop=a.offsetHeight+2*b;this.cont.obj._offsetHeight=-a.offsetHeight+c-b;this.setSizes();this._ha=document.createElement("DIV");this._ha.style.position="absolute";this._ha.style.top=d+"px";this._ha.style.left=
this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left;this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width;this._ha.style.height=a.offsetHeight+"px";document.body.appendChild(this._ha);this._ha.appendChild(a);this._haEv=this.attachEvent("onResizeFinish",function(){this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})}};
dhtmlXLayoutObject.prototype.detachHeader=function(){if(this._ha&&this.cont.obj==document.body){document.body.appendChild(this._ha.firstChild);this.detachEvent(this._haEv);this._ha.parentNode.removeChild(this._ha);this._ha=this._haEv=null;var a=2,b=-4;"dhx_web"==this.skin?(a=9,b=-18):"dhx_terrace"==this.skin&&(a=14,b=-28);null!=this._fa&&(b=this.cont.obj._offsetHeight+this.cont.obj._offsetTop-a);this.cont.obj._offsetTop=a;this.cont.obj._offsetHeight=b;this.setSizes()}};
dhtmlXLayoutObject.prototype.attachFooter=function(a){if(!this._fa&&this.cont.obj==document.body){"object"!=typeof a&&(a=document.getElementById(a));var b=2,c=-4,d=2;"dhx_web"==this.skin?(b=d=9,c=-18):"dhx_terrace"==this.skin&&(b=d=14,c=-28);null!=this._ha&&(b=this.cont.obj._offsetTop);this.cont.obj._offsetHeight=-a.offsetHeight+c-b;this.setSizes();this._fa=document.createElement("DIV");this._fa.style.position="absolute";this._fa.style.bottom=d+"px";this._fa.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left;
this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width;this._fa.style.height=a.offsetHeight+"px";document.body.appendChild(this._fa);this._fa.appendChild(a);this._faEv=this.attachEvent("onResizeFinish",function(){this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})}};
dhtmlXLayoutObject.prototype.detachFooter=function(){if(this._fa&&this.cont.obj==document.body){document.body.appendChild(this._fa.firstChild);this.detachEvent(this._faEv);this._fa.parentNode.removeChild(this._fa);this._fa=this._faEv=null;var a=2,b=-4;"dhx_web"==this.skin?(a=9,b=-18):"dhx_terrace"==this.skin&&(a=14,b=-28);null!=this._ha&&(b=-this.cont.obj._offsetTop-a,a=this.cont.obj._offsetTop);this.cont.obj._offsetTop=a;this.cont.obj._offsetHeight=b;this.setSizes()}};
dhtmlXLayoutObject.prototype._fixToolbars=function(){if(_isIE)for(var a in this.polyObj)null!=this.polyObj[a].vs[this.polyObj[a].av].toolbar&&this.polyObj[a].vs[this.polyObj[a].av].toolbar._fixSpacer()};
dhtmlXLayoutObject.prototype._hideBorders=function(){if("dhx_terrace"==this.skin){this._cpm_old=this.skinParams[this.skin].cell_pading_max;this.skinParams[this.skin].cell_pading_max=[1,0,0,0];for(var a in this.polyObj)this.polyObj[a]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_"+this.skin),this.polyObj[a].adjustContent(this.polyObj[a].childNodes[0],this.skinParams[this.skin].cpanel_height)}};
function dhtmlXMenuObject(a,b){var c=this;this.addBaseIdAsContextZone=null;this.isDhtmlxMenuObject=!0;this.skin=null!=b?b:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue";this.imagePath="";this._isIE6=!1;_isIE&&(this._isIE6=null==window.XMLHttpRequest?!0:!1);if(null==a)this.base=document.body;else{var d="string"==typeof a?document.getElementById(a):a;if(null!=d){this.base=d;this.base.id||(this.base.id=(new Date).valueOf());for(;0<this.base.childNodes.length;)this.base.removeChild(this.base.childNodes[0]);
this.base.className+=" dhtmlxMenu_"+this.skin+"_Middle dir_left";this.base._autoSkinUpdate=!0;this.base.oncontextmenu&&(this.base._oldContextMenuHandler=this.base.oncontextmenu);this.addBaseIdAsContextZone=this.base.id;this.base.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.base.oncontextmenu=function(a){a=a||event;return a.returnValue=!1}}else this.base=document.body}this.topId="dhxWebMenuTopId";if(!this.extendedModule){for(var d=function(){alert(this.i18n.dhxmenuextalert)},
e="setItemEnabled setItemDisabled isItemEnabled _changeItemState getItemText setItemText loadFromHTML hideItem showItem isItemHidden _changeItemVisible setUserData getUserData setOpenMode setWebModeTimeout enableDynamicLoading _updateLoaderIcon getItemImage setItemImage clearItemImage setAutoShowMode setAutoHideMode setContextMenuHideAllMode getContextMenuHideAllMode setVisibleArea setTooltip getTooltip setHotKey getHotKey setItemSelected setTopText setRTL setAlign setHref clearHref getCircuit _clearAllSelectedSubItemsInPolygon _checkArrowsState _addUpArrow _addDownArrow _removeUpArrow _removeDownArrow _isArrowExists _doScrollUp _doScrollDown _countPolygonItems setOverflowHeight _getRadioImgObj _setRadioState _radioOnClickHandler getRadioChecked setRadioChecked addRadioButton _getCheckboxState _setCheckboxState _readLevel _updateCheckboxImage _checkboxOnClickHandler setCheckboxState getCheckboxState addCheckbox serialize".split(" "),
f=0;f<e.length;f++)this[e[f]]||(this[e[f]]=d);e=null}this.fixedPosition=!1;this.menuLastClicked=this.menuSelected=-1;this.idPrefix="";this.itemTagName="item";this.itemTextTagName="itemtext";this.userDataTagName="userdata";this.itemTipTagName="tooltip";this.itemHotKeyTagName="hotkey";this.itemHrefTagName="href";this.dirTopLevel="bottom";this.dirSubLevel="right";this.menuY2=this.menuY1=this.menuX2=this.menuX1=null;this.menuMode="web";this.menuTimeoutMsec=400;this.menuTimeoutHandler=null;this.autoOverflow=
!1;this.idPull={};this.itemPull={};this.userData={};this.radio={};this._rtl=!1;this._align="left";this.menuTouched=!1;this.zInd=this.zIndInit=1200;this.zIndStep=50;this.menuModeTopLevelTimeout=!0;this.menuModeTopLevelTimeoutTime=200;this._topLevelBottomMargin=1;this._topLevelRightMargin=0;this._topLevelOffsetLeft=1;this._arrowFFFix=_isIE?"BackCompat"==document.compatMode?0:-4:-4;this.setSkin=function(a){var b=this.skin;this.skin=a;switch(this.skin){case "dhx_black":case "dhx_blue":case "dhx_skyblue":case "dhx_web":this._topLevelBottomMargin=
2;this._topLevelOffsetLeft=this._topLevelRightMargin=1;this._arrowFFFix=_isIE?"BackCompat"==document.compatMode?0:-4:-4;break;case "dhx_web":this._arrowFFFix=0;break;case "dhx_terrace":this._topLevelOffsetLeft=this._topLevelRightMargin=this._topLevelBottomMargin=0,this._arrowFFFix=_isIE?"BackCompat"==document.compatMode?0:-4:-4}this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+b+"_Middle","")+" dhtmlxMenu_"+this.skin+"_Middle");for(var c in this.idPull)this.idPull[c].className=
String(this.idPull[c].className).replace(b,this.skin)};this.setSkin(this.skin);this.dLoad=!1;this.dLoadUrl="";this.dLoadSign="?";this.loaderIcon=!1;this.limit=0;this._scrollUpTM=null;this._scrollUpTMTime=20;this._scrollUpTMStep=3;this._scrollDownTM=null;this._scrollDownTMTime=20;this._scrollDownTMStep=3;this.context=!1;this.contextZones={};this.contextMenuZoneId=!1;this.contextHideAllMode=this.contextAutoHide=this.contextAutoShow=!0;this._selectedSubItems=[];this._openedPolygons=[];this._addSubItemToSelected=
function(a,b){for(var c=!0,d=0;d<this._selectedSubItems.length;d++)this._selectedSubItems[d][0]==a&&this._selectedSubItems[d][1]==b&&(c=!1);!0==c&&this._selectedSubItems.push([a,b]);return c};this._removeSubItemFromSelected=function(a,b){for(var c=[],d=!1,e=0;e<this._selectedSubItems.length;e++)this._selectedSubItems[e][0]==a&&this._selectedSubItems[e][1]==b?d=!0:c[c.length]=this._selectedSubItems[e];!0==d&&(this._selectedSubItems=c);return d};this._getSubItemToDeselectByPolygon=function(a){for(var b=
[],c=0;c<this._selectedSubItems.length;c++)if(this._selectedSubItems[c][1]==a){b[b.length]=this._selectedSubItems[c][0];for(var b=b.concat(this._getSubItemToDeselectByPolygon(this._selectedSubItems[c][0])),d=!0,e=0;e<this._openedPolygons.length;e++)this._openedPolygons[e]==this._selectedSubItems[c][0]&&(d=!1);!0==d&&(this._openedPolygons[this._openedPolygons.length]=this._selectedSubItems[c][0]);this._selectedSubItems[c][0]=-1;this._selectedSubItems[c][1]=-1}return b};this._hidePolygon=function(a){if(null!=
this.idPull["polygon_"+a]){if("undefined"!=typeof this._menuEffect&&!1!==this._menuEffect)this._hidePolygonEffect("polygon_"+a);else{if("none"==this.idPull["polygon_"+a].style.display)return;this.idPull["polygon_"+a].style.display="none";null!=this.idPull["arrowup_"+a]&&(this.idPull["arrowup_"+a].style.display="none");null!=this.idPull["arrowdown_"+a]&&(this.idPull["arrowdown_"+a].style.display="none");this._updateItemComplexState(a,!0,!1);this._isIE6&&null!=this.idPull["polygon_"+a+"_ie6cover"]&&
(this.idPull["polygon_"+a+"_ie6cover"].style.display="none")}a=String(a).replace(this.idPrefix,"");a==this.topId&&(a=null);this.callEvent("onHide",[a]);null!=a&&"dhx_terrace"==this.skin&&this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+a,!0)}};this._showPolygon=function(a,b){var c=this._countVisiblePolygonItems(a);if(0!=c){var d="polygon_"+a;if(null!=this.idPull[d]&&null!=this.idPull[a]&&(!this.menuModeTopLevelTimeout||"web"!=this.menuMode||
this.context||this.idPull[a]._mouseOver||b!=this.dirTopLevel)){this.fixedPosition||this._autoDetectVisibleArea();var e=0,f=0,s=null,u=null;this.idPull[d].style.visibility="hidden";this.idPull[d].style.left="0px";this.idPull[d].style.top="0px";this.idPull[d].style.display="";this.idPull[d].style.zIndex=this.zInd;this.autoOverflow&&(this.idPull[d].firstChild.offsetHeight>this.menuY1+this.menuY2?this.limit=Math.floor((this.menuY2-this.menuY1-35)/24):(this.limit=0,null!=this.idPull["arrowup_"+a]&&this._removeUpArrow(String(a).replace(this.idPrefix,
"")),null!=this.idPull["arrowdown_"+a]&&this._removeDownArrow(String(a).replace(this.idPrefix,""))));0<this.limit&&this.limit<c&&(null==this.idPull["arrowup_"+a]&&this._addUpArrow(String(a).replace(this.idPrefix,"")),null==this.idPull["arrowdown_"+a]&&this._addDownArrow(String(a).replace(this.idPrefix,"")),s=this.idPull["arrowup_"+a],s.style.visibility="hidden",s.style.display="",s.style.zIndex=this.zInd,e=s.offsetHeight,u=this.idPull["arrowdown_"+a],u.style.visibility="hidden",u.style.display="",
u.style.zIndex=this.zInd,f=u.offsetHeight);0<this.limit&&(this.limit<c?(this.idPull[d].style.height=24*this.limit+"px",this.idPull[d].scrollTop=0):this.idPull[d].style.height="");this.zInd+=this.zIndStep;var v=null!=this.idPull[a].tagName?getAbsoluteLeft(this.idPull[a]):this.idPull[a][0],w=null!=this.idPull[a].tagName?getAbsoluteTop(this.idPull[a]):this.idPull[a][1],A=null!=this.idPull[a].tagName?this.idPull[a].offsetWidth:0,C=null!=this.idPull[a].tagName?this.idPull[a].offsetHeight:0,x=0,y=0,D=this.idPull[d].offsetWidth,
E=this.idPull[d].offsetHeight+e+f;"bottom"==b&&(x=this._rtl?v+(null!=A?A:0)-D:"right"==this._align?v+A-D:v-1+(b==this.dirTopLevel?this._topLevelRightMargin:0),y=w-1+C+this._topLevelBottomMargin);"right"==b&&(x=v+A-1,y=w+2);"left"==b&&(x=v-this.idPull[d].offsetWidth+2,y=w+2);"top"==b&&(x=v-1,y=w-E+2);if(this.fixedPosition)var I=65536,H=65536;else if(I=null!=this.menuX2?this.menuX2:0,H=null!=this.menuY2?this.menuY2:0,0==I)window.innerWidth?(I=window.innerWidth,H=window.innerHeight):(I=document.body.offsetWidth,
H=document.body.scrollHeight);x+D>I&&!this._rtl&&(x=v-D+2);x<this.menuX1&&this._rtl&&(x=v+A-2);0>x&&(x=0);y+E>H&&null!=this.menuY2&&(y=Math.max(w+C-E+2,this._isVisibleArea?this.menuY1+2:2),this.context&&this.idPrefix+this.topId==a&&null!=u&&(y-=2),null!=this.itemPull[a]&&!this.context&&this.itemPull[a].parent==this.idPrefix+this.topId&&(y-=this.base.offsetHeight));this.idPull[d].style.left=x+"px";this.idPull[d].style.top=y+e+"px";"undefined"!=typeof this._menuEffect&&!1!==this._menuEffect?this._showPolygonEffect(d):
(this.idPull[d].style.visibility="",0<this.limit&&this.limit<c&&(s.style.left=x+"px",s.style.top=y+"px",s.style.width=D+this._arrowFFFix+"px",s.style.visibility="",u.style.left=x+"px",u.style.top=y+E-f+"px",u.style.width=D+this._arrowFFFix+"px",u.style.visibility="",this._checkArrowsState(a)),this._isIE6&&(c=d+"_ie6cover",null==this.idPull[c]&&(e=document.createElement("IFRAME"),e.className="dhtmlxMenu_IE6CoverFix_"+this.skin,e.frameBorder=0,e.setAttribute("src","javascript:false;"),document.body.insertBefore(e,
document.body.firstChild),this.idPull[c]=e),this.idPull[c].style.left=x+"px",this.idPull[c].style.top=y+"px",this.idPull[c].style.width=D+"px",this.idPull[c].style.height=E+"px",this.idPull[c].style.zIndex=this.idPull[d].style.zIndex-1,this.idPull[c].style.display=""));a=String(a).replace(this.idPrefix,"");a==this.topId&&(a=null);this.callEvent("onShow",[a]);null!=a&&"dhx_terrace"==this.skin&&this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+
a,!1)}}};this._redistribSubLevelSelection=function(a,b){for(;0<this._openedPolygons.length;)this._openedPolygons.pop();var c=this._getSubItemToDeselectByPolygon(b);this._removeSubItemFromSelected(-1,-1);for(var d=0;d<c.length;d++)null!=this.idPull[c[d]]&&c[d]!=a&&"enabled"==this.itemPull[c[d]].state&&(this.idPull[c[d]].className="sub_item");for(d=0;d<this._openedPolygons.length;d++)this._openedPolygons[d]!=b&&this._hidePolygon(this._openedPolygons[d]);"enabled"==this.itemPull[a].state&&(this.idPull[a].className=
"sub_item_selected",this.itemPull[a].complex&&this.dLoad&&"no"==this.itemPull[a].loaded&&(!0==this.loaderIcon&&this._updateLoaderIcon(a,!0),c=new dtmlXMLLoaderObject(this._xmlParser,window),this.itemPull[a].loaded="get",this.callEvent("onXLS",[]),c.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&parentId="+a.replace(this.idPrefix,"")+"&etc="+(new Date).getTime())),(this.itemPull[a].complex||this.dLoad&&"yes"==this.itemPull[a].loaded)&&this.itemPull[a].complex&&null!=this.idPull["polygon_"+a]&&
(this._updateItemComplexState(a,!0,!0),this._showPolygon(a,this.dirSubLevel)),this._addSubItemToSelected(a,b),this.menuSelected=a)};this._doOnClick=function(a,b,c){this.menuLastClicked=a;if(null!=this.itemPull[this.idPrefix+a].href_link&&"enabled"==this.itemPull[this.idPrefix+a].state){b=document.createElement("FORM");c=String(this.itemPull[this.idPrefix+a].href_link).split("?");b.action=c[0];if(null!=c[1]){c=String(c[1]).split("&");for(var d=0;d<c.length;d++){var e=String(c[d]).split("="),f=document.createElement("INPUT");
f.type="hidden";f.name=e[0]||"";f.value=e[1]||"";b.appendChild(f)}}null!=this.itemPull[this.idPrefix+a].href_target&&(b.target=this.itemPull[this.idPrefix+a].href_target);b.style.display="none";document.body.appendChild(b);b.submit();null!=b&&document.body.removeChild(b)}else if("c"!=b.charAt(0)&&"d"!=b.charAt(1)&&"s"!=b.charAt(2)){if(this.checkEvent("onClick"))this.callEvent("onClick",[a,this.contextMenuZoneId,c]);else if("d"==b.charAt(1)||"win"==this.menuMode&&"t"==b.charAt(2))return;this.context&&
this._isContextMenuVisible()&&this.contextAutoHide?this._hideContextMenu():this._clearAndHide&&this._clearAndHide()}};this._doOnTouchMenu=function(a){!1==this.menuTouched&&(this.menuTouched=!0,this.checkEvent("onTouch")&&this.callEvent("onTouch",[a]))};this._searchMenuNode=function(a,b){for(var c=[],d=0;d<b.length;d++)if("object"==typeof b[d]){5==b[d].length&&"object"!=typeof b[d][0]&&b[d][0].replace(this.idPrefix,"")==a&&0==d&&(c=b);var e=this._searchMenuNode(a,b[d]);0<e.length&&(c=e)}return c};
this._getMenuNodes=function(a){var b=[],c;for(c in this.itemPull)this.itemPull[c].parent==a&&(b[b.length]=c);return b};this._genStr=function(a){for(var b="",c=0;c<a;c++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(61*Math.random()));return b};this.getItemType=function(a){a=this.idPrefix+a;return null==this.itemPull[a]?null:this.itemPull[a].type};this.forEachItem=function(a){for(var b in this.itemPull)a(String(b).replace(this.idPrefix,""))};this._clearAndHide=
function(){c.menuSelected=-1;for(c.menuLastClicked=-1;0<c._openedPolygons.length;)c._openedPolygons.pop();for(var a=0;a<c._selectedSubItems.length;a++){var b=c._selectedSubItems[a][0];null!=c.idPull[b]&&"enabled"==c.itemPull[b].state&&("sub_item_selected"==c.idPull[b].className&&(c.idPull[b].className="sub_item"),c.idPull[b].className=="dhtmlxMenu_"+c.skin+"_TopLevel_Item_Selected"&&(c.idPull[b].className=null!=c.itemPull[b].cssNormal?c.itemPull[b].cssNormal:"dhtmlxMenu_"+c.skin+"_TopLevel_Item_Normal"));
c._hidePolygon(b)}c.menuTouched=!1;c.context&&(c.contextHideAllMode?(c._hidePolygon(c.idPrefix+c.topId),c.zInd=c.zIndInit):c.zInd=c.zIndInit+c.zIndStep)};this._doOnLoad=function(){};this.loadXML=function(a,b){b&&(this._doOnLoad=function(){b()});this.callEvent("onXLS",[]);this._xmlLoader.loadXML(a)};this.loadXMLString=function(a,b){b&&(this._doOnLoad=function(){b()});this._xmlLoader.loadXMLString(a)};this._buildMenu=function(a,b){for(var c=0,d=0;d<a.childNodes.length;d++)if(a.childNodes[d].tagName==
this.itemTagName){var e=a.childNodes[d],f={};f.id=this.idPrefix+(e.getAttribute("id")||this._genStr(24));f.title=e.getAttribute("text")||"";f.imgen=e.getAttribute("img")||"";f.imgdis=e.getAttribute("imgdis")||"";f.tip="";f.hotkey="";null!=e.getAttribute("cssNormal")&&(f.cssNormal=e.getAttribute("cssNormal"));f.type=e.getAttribute("type")||"item";"checkbox"==f.type&&(f.checked=null!=e.getAttribute("checked"),f.imgen="chbx_"+(f.checked?"1":"0"),f.imgdis=f.imgen);"radio"==f.type&&(f.checked=null!=e.getAttribute("checked"),
f.imgen="rdbt_"+(f.checked?"1":"0"),f.imgdis=f.imgen,f.group=e.getAttribute("group")||this._genStr(24),null==this.radio[f.group]&&(this.radio[f.group]=[]),this.radio[f.group][this.radio[f.group].length]=f.id);f.state=null!=e.getAttribute("enabled")||null!=e.getAttribute("disabled")?"false"==e.getAttribute("enabled")||"true"==e.getAttribute("disabled")?"disabled":"enabled":"enabled";f.parent=null!=b?b:this.idPrefix+this.topId;f.complex=this.dLoad?null!=e.getAttribute("complex")?!0:!1:0<this._buildMenu(e,
f.id);this.dLoad&&f.complex&&(f.loaded="no");this.itemPull[f.id]=f;for(var s=0;s<e.childNodes.length;s++){var u=e.childNodes[s].tagName;null!=u&&(u=u.toLowerCase());if(u==this.userDataTagName){var v=e.childNodes[s];null!=v.getAttribute("name")&&(this.userData[f.id+"_"+v.getAttribute("name")]=null!=v.firstChild&&null!=v.firstChild.nodeValue?v.firstChild.nodeValue:"")}u==this.itemTextTagName&&(f.title=e.childNodes[s].firstChild.nodeValue);u==this.itemTipTagName&&(f.tip=e.childNodes[s].firstChild.nodeValue);
u==this.itemHotKeyTagName&&(f.hotkey=e.childNodes[s].firstChild.nodeValue);u==this.itemHrefTagName&&"item"==f.type&&(f.href_link=e.childNodes[s].firstChild.nodeValue,null!=e.childNodes[s].getAttribute("target")&&(f.href_target=e.childNodes[s].getAttribute("target")))}c++}return c};this._xmlParser=function(){if(c.dLoad){var a=this.getXMLTopNode("menu");parentId=null!=a.getAttribute("parentId")?a.getAttribute("parentId"):null;if(null==parentId)c._buildMenu(a,null),c._initTopLevelMenu();else{c._buildMenu(a,
c.idPrefix+parentId);c._addSubMenuPolygon(c.idPrefix+parentId,c.idPrefix+parentId);if(c.menuSelected==c.idPrefix+parentId){var b=c.idPrefix+parentId,d=c.itemPull[c.idPrefix+parentId].parent==c.idPrefix+c.topId,e=d&&!c.context?c.dirTopLevel:c.dirSubLevel,a=!1;if(d&&c.menuModeTopLevelTimeout&&"web"==c.menuMode&&!c.context&&(d=c.idPull[c.idPrefix+parentId],!0==d._mouseOver)){var f=c.menuModeTopLevelTimeoutTime-((new Date).getTime()-d._dynLoadTM);1<f&&(d._menuOpenTM=window.setTimeout(function(){c._showPolygon(b,
e)},f),a=!0)}a||c._showPolygon(b,e)}c.itemPull[c.idPrefix+parentId].loaded="yes";!0==c.loaderIcon&&c._updateLoaderIcon(c.idPrefix+parentId,!1)}this.destructor();c.callEvent("onXLE",[])}else a=this.getXMLTopNode("menu"),c._buildMenu(a,null),c.init(),c.callEvent("onXLE",[]),c._doOnLoad()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._showSubLevelItem=function(a,b){null!=document.getElementById("arrow_"+this.idPrefix+a)&&(document.getElementById("arrow_"+this.idPrefix+a).style.display=
b?"none":"");null!=document.getElementById("image_"+this.idPrefix+a)&&(document.getElementById("image_"+this.idPrefix+a).style.display=b?"none":"");null!=document.getElementById(this.idPrefix+a)&&(document.getElementById(this.idPrefix+a).style.display=b?"":"none")};this._hideSubLevelItem=function(a){this._showSubLevelItem(a,!0)};this.idPrefix=this._genStr(12);this._bodyClick=function(a){a=a||event;2==a.button||_isOpera&&!0==a.ctrlKey||(c.context?c.contextAutoHide&&(!_isOpera||c._isContextMenuVisible()&&
_isOpera)&&c._hideContextMenu():c._clearAndHide&&c._clearAndHide())};this._bodyContext=function(a){a=a||event;var b=String((a.srcElement||a.target).className);if(-1==b.search("dhtmlxMenu")||-1==b.search("SubLevelArea")){b=!0;for(a=a.target||a.srcElement;null!=a;)null!=a.id&&c.isContextZone(a.id)&&(b=!1),a==document.body&&(b=!1),a=a.parentNode;b&&c.hideContextMenu()}};_isIE?(document.body.attachEvent("onclick",this._bodyClick),document.body.attachEvent("oncontextmenu",this._bodyContext)):(window.addEventListener("click",
this._bodyClick,!1),window.addEventListener("contextmenu",this._bodyContext,!1));this._UID=this._genStr(32);dhtmlxMenuObjectLiveInstances[this._UID]=this;dhtmlxEventable(this);return this}dhtmlXMenuObject.prototype.init=function(){!0!=this._isInited&&(this.dLoad?(this.callEvent("onXLS",[]),this._xmlLoader.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&etc="+(new Date).getTime())):(this._initTopLevelMenu(),this._isInited=!0))};
dhtmlXMenuObject.prototype._countVisiblePolygonItems=function(a){var b=0,c;for(c in this.itemPull){var d=this.itemPull[c].parent,e=this.itemPull[c].type;null==this.idPull[c]||d!=a||"item"!=e&&"radio"!=e&&"checkbox"!=e||"none"==this.idPull[c].style.display||b++}return b};
dhtmlXMenuObject.prototype._redefineComplexState=function(a){if(this.idPrefix+this.topId!=a&&null!=this.idPull["polygon_"+a]&&null!=this.idPull[a]){var b=this._countVisiblePolygonItems(a);0<b&&!this.itemPull[a].complex&&this._updateItemComplexState(a,!0,!1);0==b&&this.itemPull[a].complex&&this._updateItemComplexState(a,!1,!1)}};
dhtmlXMenuObject.prototype._updateItemComplexState=function(a,b){if(!this.context&&"TopLevel"==this._getItemLevelType(a.replace(this.idPrefix,"")))this.itemPull[a].complex=b;else if(null!=this.idPull[a]&&null!=this.itemPull[a]&&(this.itemPull[a].complex=b,a!=this.idPrefix+this.topId)){var c=null,d=this.idPull[a].childNodes[this._rtl?0:2];d.childNodes[0]&&0===String(d.childNodes[0].className).search("complex_arrow")&&(c=d.childNodes[0]);if(this.itemPull[a].complex){if(null==c){c=document.createElement("DIV");
c.className="complex_arrow";for(c.id="arrow_"+a;0<d.childNodes.length;)d.removeChild(d.childNodes[0]);d.appendChild(c)}this.dLoad&&"get"==this.itemPull[a].loaded&&this.loaderIcon?"complex_arrow_loading"!=c.className&&(c.className="complex_arrow_loading"):c.className="complex_arrow"}else!this.itemPull[a].complex&&null!=c&&(d.removeChild(c),null!=this.itemPull[a].hotkey_backup&&this.setHotKey&&this.setHotKey(a.replace(this.idPrefix,""),this.itemPull[a].hotkey_backup))}};
dhtmlXMenuObject.prototype._getItemLevelType=function(a){return this.itemPull[this.idPrefix+a].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea"};
dhtmlXMenuObject.prototype._redistribTopLevelSelection=function(a){var b=this._getSubItemToDeselectByPolygon("parent");this._removeSubItemFromSelected(-1,-1);for(var c=0;c<b.length;c++)if(b[c]!=a&&this._hidePolygon(b[c]),null!=this.idPull[b[c]]&&b[c]!=a)this.idPull[b[c]].className=this.idPull[b[c]].className.replace(/Selected/g,"Normal");"enabled"==this.itemPull[this.idPrefix+a].state&&(this.idPull[this.idPrefix+a].className="dhtmlxMenu_"+this.skin+"_TopLevel_Item_Selected",this._addSubItemToSelected(this.idPrefix+
a,"parent"),this.menuSelected="win"==this.menuMode?-1!=this.menuSelected?a:this.menuSelected:a,this.itemPull[this.idPrefix+a].complex&&-1!=this.menuSelected&&this._showPolygon(this.idPrefix+a,this.dirTopLevel))};
dhtmlXMenuObject.prototype._initTopLevelMenu=function(){this.dirTopLevel="bottom";this.dirSubLevel=this._rtl?"left":"right";if(this.context)this.idPull[this.idPrefix+this.topId]=[0,0],this._addSubMenuPolygon(this.idPrefix+this.topId,this.idPrefix+this.topId);else for(var a=this._getMenuNodes(this.idPrefix+this.topId),b=0;b<a.length;b++)"item"==this.itemPull[a[b]].type&&this._renderToplevelItem(a[b],null),"separator"==this.itemPull[a[b]].type&&this._renderSeparator(a[b],null)};
dhtmlXMenuObject.prototype._renderToplevelItem=function(a,b){var c=this,d=document.createElement("DIV");d.id=a;d.className="enabled"==this.itemPull[a].state&&null!=this.itemPull[a].cssNormal?this.itemPull[a].cssNormal:"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[a].state?"Normal":"Disabled");if(""!=this.itemPull[a].title){var e=document.createElement("DIV");e.className="top_level_text";e.innerHTML=this.itemPull[a].title;d.appendChild(e)}0<this.itemPull[a].tip.length&&(d.title=
this.itemPull[a].tip);if(""!=this.itemPull[a].imgen||""!=this.itemPull[a].imgdis)if(e=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"]){var f=document.createElement("IMG");f.border="0";f.id="image_"+a;f.src=this.imagePath+e;f.className="dhtmlxMenu_TopLevel_Item_Icon";0<d.childNodes.length&&!this._rtl?d.insertBefore(f,d.childNodes[0]):d.appendChild(f)}d.onselectstart=function(a){a=a||event;return a.returnValue=!1};d.oncontextmenu=function(a){a=a||event;return a.returnValue=!1};
this.cont||(this.cont=document.createElement("DIV"),this.cont.dir="ltr",this.cont.className="right"==this._align?"align_right":"align_left",this.base.appendChild(this.cont));null!=b&&(b++,0>b&&(b=0),b>this.cont.childNodes.length-1&&(b=null));null!=b?this.cont.insertBefore(d,this.cont.childNodes[b]):this.cont.appendChild(d);this.idPull[d.id]=d;this.itemPull[a].complex&&!this.dLoad&&this._addSubMenuPolygon(this.itemPull[a].id,this.itemPull[a].id);d.onmouseover=function(){"web"==c.menuMode&&window.clearTimeout(c.menuTimeoutHandler);
var a=c._getSubItemToDeselectByPolygon("parent");c._removeSubItemFromSelected(-1,-1);for(var b=0;b<a.length;b++)if(a[b]!=this.id&&c._hidePolygon(a[b]),null!=c.idPull[a[b]]&&a[b]!=this.id)null!=c.itemPull[a[b]].cssNormal?c.idPull[a[b]].className=c.itemPull[a[b]].cssNormal:("sub_item_selected"==c.idPull[a[b]].className&&(c.idPull[a[b]].className="sub_item"),c.idPull[a[b]].className=c.idPull[a[b]].className.replace(/Selected/g,"Normal"));if("enabled"==c.itemPull[this.id].state&&(this.className="dhtmlxMenu_"+
c.skin+"_TopLevel_Item_Selected",c._addSubItemToSelected(this.id,"parent"),c.menuSelected="win"==c.menuMode?-1!=c.menuSelected?this.id:c.menuSelected:this.id,c.dLoad&&"no"==c.itemPull[this.id].loaded&&(c.menuModeTopLevelTimeout&&"web"==c.menuMode&&!c.context&&(this._mouseOver=!0,this._dynLoadTM=(new Date).getTime()),a=new dtmlXMLLoaderObject(c._xmlParser,window),c.itemPull[this.id].loaded="get",c.callEvent("onXLS",[]),a.loadXML(c.dLoadUrl+c.dLoadSign+"action=loadMenu&parentId="+this.id.replace(c.idPrefix,
"")+"&etc="+(new Date).getTime())),(!c.dLoad||c.dLoad&&(!c.itemPull[this.id].loaded||"yes"==c.itemPull[this.id].loaded))&&c.itemPull[this.id].complex&&-1!=c.menuSelected))if(c.menuModeTopLevelTimeout&&"web"==c.menuMode&&!c.context){this._mouseOver=!0;var d=this.id;this._menuOpenTM=window.setTimeout(function(){c._showPolygon(d,c.dirTopLevel)},c.menuModeTopLevelTimeoutTime)}else c._showPolygon(this.id,c.dirTopLevel);c._doOnTouchMenu(this.id.replace(c.idPrefix,""))};d.onmouseout=function(){c.itemPull[this.id].complex&&
-1!=c.menuSelected||"enabled"!=c.itemPull[this.id].state||(d.className=null!=c.itemPull[this.id].cssNormal?c.itemPull[this.id].cssNormal:"dhtmlxMenu_"+c.skin+"_TopLevel_Item_Normal");"web"==c.menuMode&&(window.clearTimeout(c.menuTimeoutHandler),c.menuTimeoutHandler=window.setTimeout(function(){c._clearAndHide()},c.menuTimeoutMsec,"JavaScript"));c.menuModeTopLevelTimeout&&"web"==c.menuMode&&!c.context&&(this._mouseOver=!1,window.clearTimeout(this._menuOpenTM))};d.onclick=function(a){"web"==c.menuMode&&
window.clearTimeout(c.menuTimeoutHandler);if("web"==c.menuMode||"disabled"!=c.itemPull[this.id].state){a=a||event;a.cancelBubble=!0;a.returnValue=!1;if("win"==c.menuMode&&c.itemPull[this.id].complex){if(c.menuSelected==this.id){c.menuSelected=-1;var b=!1}else c.menuSelected=this.id,b=!0;b?c._showPolygon(this.id,c.dirTopLevel):c._hidePolygon(this.id)}var b=c.itemPull[this.id].complex?"c":"-",d="enabled"!=c.itemPull[this.id].state?"d":"-";a={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};c._doOnClick(this.id.replace(c.idPrefix,
""),b+d+"t",a);return!1}};"dhx_terrace"==this.skin&&this._improveTerraceSkin()};dhtmlXMenuObject.prototype.setImagePath=function(){};dhtmlXMenuObject.prototype.setIconsPath=function(a){this.imagePath=a};dhtmlXMenuObject.prototype.setIconPath=dhtmlXMenuObject.prototype.setIconsPath;
dhtmlXMenuObject.prototype._updateItemImage=function(a){a=this.idPrefix+a;var b=this.itemPull[a].parent==this.idPrefix+this.topId&&!this.context,c=null;if(b)for(var d=0;d<this.idPull[a].childNodes.length;d++)try{"dhtmlxMenu_TopLevel_Item_Icon"==this.idPull[a].childNodes[d].className&&(c=this.idPull[a].childNodes[d])}catch(e){}else try{c=this.idPull[a].childNodes[this._rtl?2:0].childNodes[0]}catch(f){}d=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"];if(0<d.length)if(null!=c)c.src=
this.imagePath+d;else if(b)c=document.createElement("IMG"),c.className="dhtmlxMenu_TopLevel_Item_Icon",c.src=this.imagePath+d,c.border="0",c.id="image_"+a,!this._rtl&&0<this.idPull[a].childNodes.length?this.idPull[a].insertBefore(c,this.idPull[a].childNodes[0]):this.idPull[a].appendChild(c);else{c=document.createElement("IMG");c.className="sub_icon";c.src=this.imagePath+d;c.border="0";c.id="image_"+a;for(a=this.idPull[a].childNodes[this._rtl?2:0];0<a.childNodes.length;)a.removeChild(a.childNodes[0]);
a.appendChild(c)}else null!=c&&c.parentNode.removeChild(c)};
dhtmlXMenuObject.prototype.removeItem=function(a,b,c){b||(a=this.idPrefix+a);var d=null;if(a!=this.idPrefix+this.topId){if(null==this.itemPull[a])return;this.idPull["polygon_"+a]&&this.idPull["polygon_"+a]._tmShow&&window.clearTimeout(this.idPull["polygon_"+a]._tmShow);if("separator"==this.itemPull[a].type){var e=this.idPull["separator_"+a];this.itemPull[a].parent==this.idPrefix+this.topId?(e.onclick=null,e.onselectstart=null,e.id=null):(e.childNodes[0].childNodes[0].onclick=null,e.childNodes[0].childNodes[0].onselectstart=
null,e.childNodes[0].childNodes[0].id=null,e.childNodes[0].removeChild(e.childNodes[0].childNodes[0]),e.removeChild(e.childNodes[0]));e.parentNode.removeChild(e);this.idPull["separator_"+a]=null;this.itemPull[a]=null;delete this.idPull["separator_"+a]}else{d=this.itemPull[a].parent;e=this.idPull[a];e.onclick=null;e.oncontextmenu=null;e.onmouseover=null;e.onmouseout=null;e.onselectstart=null;for(e.id=null;0<e.childNodes.length;)e.removeChild(e.childNodes[0]);e.parentNode.removeChild(e);this.idPull[a]=
null;this.itemPull[a]=null;delete this.idPull[a]}delete this.itemPull[a]}for(var f in this.itemPull)this.itemPull[f].parent==a&&this.removeItem(f,!0,!0);e=Array(a);null!=d&&!c&&null!=this.idPull["polygon_"+d]&&0==this.idPull["polygon_"+d].tbd.childNodes.length&&(e.push(d),this._updateItemComplexState(d,!1,!1));for(d=0;d<e.length;d++)this.idPull["polygon_"+e[d]]&&(f=this.idPull["polygon_"+e[d]],f.onclick=null,f.oncontextmenu=null,f.tbl.removeChild(f.tbd),f.tbd=null,f.removeChild(f.tbl),f.tbl=null,
f.id=null,f.parentNode.removeChild(f),this._isIE6&&(f="polygon_"+e[d]+"_ie6cover",null!=this.idPull[f]&&(document.body.removeChild(this.idPull[f]),delete this.idPull[f])),null!=this.idPull["arrowup_"+a]&&this._removeArrow&&this._removeArrow("arrowup_"+a),null!=this.idPull["arrowdown_"+a]&&this._removeArrow&&this._removeArrow("arrowdown_"+a),this.idPull["polygon_"+e[d]]=null,delete this.idPull["polygon_"+e[d]]);"dhx_terrace"==this.skin&&1==arguments.length&&this._improveTerraceSkin()};
dhtmlXMenuObject.prototype._getAllParents=function(a){var b=[],c;for(c in this.itemPull)if(this.itemPull[c].parent==a&&(b[b.length]=this.itemPull[c].id,this.itemPull[c].complex))for(var d=this._getAllParents(this.itemPull[c].id),e=0;e<d.length;e++)b[b.length]=d[e];return b};
dhtmlXMenuObject.prototype.renderAsContextMenu=function(){this.context=!0;!0==this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+this.skin+"_Middle",""),this.base._autoSkinUpdate=!1);null!=this.addBaseIdAsContextZone&&this.addContextZone(this.addBaseIdAsContextZone)};
dhtmlXMenuObject.prototype.addContextZone=function(a){if(a==document.body){a="document.body."+this.idPrefix;var b=document.body}else b=document.getElementById(a);var c=!1,d;for(d in this.contextZones)c=c||d==a||this.contextZones[d]==b;if(!0==c)return!1;this.contextZones[a]=b;var e=this;_isOpera?(this.operaContext=function(a){e._doOnContextMenuOpera(a,e)},b.addEventListener("mouseup",this.operaContext,!1)):(null==b.oncontextmenu||b._oldContextMenuHandler||(b._oldContextMenuHandler=b.oncontextmenu),
b.oncontextmenu=function(a){for(var b in dhtmlxMenuObjectLiveInstances)b!=e._UID&&dhtmlxMenuObjectLiveInstances[b].context&&dhtmlxMenuObjectLiveInstances[b]._hideContextMenu();a=a||event;a.cancelBubble=!0;a.returnValue=!1;e._doOnContextBeforeCall(a,this);return!1})};
dhtmlXMenuObject.prototype._doOnContextMenuOpera=function(a,b){for(var c in dhtmlxMenuObjectLiveInstances)c!=b._UID&&dhtmlxMenuObjectLiveInstances[c].context&&dhtmlxMenuObjectLiveInstances[c]._hideContextMenu();a.cancelBubble=!0;a.returnValue=!1;0==a.button&&!0==a.ctrlKey&&b._doOnContextBeforeCall(a,this);return!1};
dhtmlXMenuObject.prototype.removeContextZone=function(a){if(!this.isContextZone(a))return!1;a==document.body&&(a="document.body."+this.idPrefix);var b=this.contextZones[a];_isOpera?b.removeEventListener("mouseup",this.operaContext,!1):(b.oncontextmenu=null!=b._oldContextMenuHandler?b._oldContextMenuHandler:null,b._oldContextMenuHandler=null);try{this.contextZones[a]=null,delete this.contextZones[a]}catch(c){}return!0};
dhtmlXMenuObject.prototype.isContextZone=function(a){if(a==document.body&&null!=this.contextZones["document.body."+this.idPrefix])return!0;var b=!1;null!=this.contextZones[a]&&this.contextZones[a]==document.getElementById(a)&&(b=!0);return b};dhtmlXMenuObject.prototype._isContextMenuVisible=function(){return null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:""==this.idPull["polygon_"+this.idPrefix+this.topId].style.display};
dhtmlXMenuObject.prototype._showContextMenu=function(a,b,c){this._clearAndHide();if(null==this.idPull["polygon_"+this.idPrefix+this.topId])return!1;window.clearTimeout(this.menuTimeoutHandler);this.idPull[this.idPrefix+this.topId]=[a,b];this._showPolygon(this.idPrefix+this.topId,"bottom");this.callEvent("onContextMenu",[c])};
dhtmlXMenuObject.prototype._hideContextMenu=function(){if(null==this.idPull["polygon_"+this.idPrefix+this.topId])return!1;this._clearAndHide();this._hidePolygon(this.idPrefix+this.topId);this.zInd=this.zIndInit};
dhtmlXMenuObject.prototype._doOnContextBeforeCall=function(a,b){this.contextMenuZoneId=b.id;this._clearAndHide();this._hideContextMenu();var c=a.srcElement||a.target,d=_isIE||_isOpera||_KHTMLrv?a.offsetX:a.layerX,e=_isIE||_isOpera||_KHTMLrv?a.offsetY:a.layerY,d=getAbsoluteLeft(c)+d,c=getAbsoluteTop(c)+e;this.checkEvent("onBeforeContextMenu")?this.callEvent("onBeforeContextMenu",[b.id,a])&&this.contextAutoShow&&(this._showContextMenu(d,c,b.id),this.callEvent("onAfterContextMenu",[b.id,a])):this.contextAutoShow&&
(this._showContextMenu(d,c,b.id),this.callEvent("onAfterContextMenu",[b.id]))};dhtmlXMenuObject.prototype.showContextMenu=function(a,b){this._showContextMenu(a,b,!1)};dhtmlXMenuObject.prototype.hideContextMenu=function(){this._hideContextMenu()};
dhtmlXMenuObject.prototype._autoDetectVisibleArea=function(){this._isVisibleArea||(this.menuX1=document.body.scrollLeft,this.menuX2=this.menuX1+(window.innerWidth||document.body.clientWidth),this.menuY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),this.menuY2=this.menuY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight))};
dhtmlXMenuObject.prototype.getItemPosition=function(a){a=this.idPrefix+a;var b=-1;if(null==this.itemPull[a])return b;for(var c=this.itemPull[a].parent,c=null!=this.idPull["polygon_"+c]?this.idPull["polygon_"+c].tbd:this.cont,d=0;d<c.childNodes.length;d++)if(c.childNodes[d]==this.idPull["separator_"+a]||c.childNodes[d]==this.idPull[a])b=d;return b};
dhtmlXMenuObject.prototype.setItemPosition=function(a,b){a=this.idPrefix+a;if(null!=this.idPull[a]){var c=this.itemPull[a].parent==this.idPrefix+this.topId,d=this.idPull[a],e=this.getItemPosition(a.replace(this.idPrefix,"")),f=this.itemPull[a].parent,f=null!=this.idPull["polygon_"+f]?this.idPull["polygon_"+f].tbd:this.cont;f.removeChild(f.childNodes[e]);0>b&&(b=0);c&&1>b&&(b=1);b<f.childNodes.length?f.insertBefore(d,f.childNodes[b]):f.appendChild(d)}};
dhtmlXMenuObject.prototype.getParentId=function(a){a=this.idPrefix+a;return null==this.itemPull[a]?null:(null!=this.itemPull[a].parent?this.itemPull[a].parent:this.topId).replace(this.idPrefix,"")};
dhtmlXMenuObject.prototype.addNewSibling=function(a,b,c,d,e,f){b=this.idPrefix+(null!=b?b:this._genStr(24));var g=this.idPrefix+(null!=a?this.getParentId(a):this.topId);this._addItemIntoGlobalStrorage(b,g,c,"item",d,e,f);g!=this.idPrefix+this.topId||this.context?this._renderSublevelItem(b,this.getItemPosition(a)):this._renderToplevelItem(b,this.getItemPosition(a))};
dhtmlXMenuObject.prototype.addNewChild=function(a,b,c,d,e,f,g){if(null==a)if(this.context)a=this.topId;else{this.addNewSibling(a,c,d,e,f,g);null!=b&&this.setItemPosition(c,b);return}c=this.idPrefix+(null!=c?c:this._genStr(24));this.setHotKey&&this.setHotKey(a,"");a=this.idPrefix+a;this._addItemIntoGlobalStrorage(c,a,d,"item",e,f,g);null==this.idPull["polygon_"+a]&&this._renderSublevelPolygon(a,a);this._renderSublevelItem(c,b-1);this._redefineComplexState(a)};
dhtmlXMenuObject.prototype._addItemIntoGlobalStrorage=function(a,b,c,d,e,f,g){a={id:a,title:c,imgen:null!=f?f:"",imgdis:null!=g?g:"",type:d,state:!0==e?"disabled":"enabled",parent:b,complex:!1,hotkey:"",tip:""};this.itemPull[a.id]=a};
dhtmlXMenuObject.prototype._addSubMenuPolygon=function(a,b){this._renderSublevelPolygon(a,b);for(var c=this._getMenuNodes(b),d=0;d<c.length;d++)"separator"==this.itemPull[c[d]].type?this._renderSeparator(c[d],null):this._renderSublevelItem(c[d],null);for(d=0;d<c.length;d++)this.itemPull[c[d]].complex&&this._addSubMenuPolygon(a,this.itemPull[c[d]].id)};
dhtmlXMenuObject.prototype._renderSublevelPolygon=function(a,b){var c=document.createElement("DIV");c.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Polygon "+(this._rtl?"dir_right":"");c.dir="ltr";c.oncontextmenu=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};c.id="polygon_"+b;c.onclick=function(a){a=a||event;a.cancelBubble=!0};c.style.display="none";document.body.insertBefore(c,document.body.firstChild);var d=document.createElement("TABLE");d.className="dhtmlxMebu_SubLevelArea_Tbl";
d.cellSpacing=0;d.cellPadding=0;d.border=0;var e=document.createElement("TBODY");d.appendChild(e);c.appendChild(d);c.tbl=d;c.tbd=e;this.idPull[c.id]=c;null!=this.sxDacProc&&(this.idPull["sxDac_"+b]=new this.sxDacProc(c,c.className),_isIE?(this.idPull["sxDac_"+b]._setSpeed(this.dacSpeedIE),this.idPull["sxDac_"+b]._setCustomCycle(this.dacCyclesIE)):(this.idPull["sxDac_"+b]._setSpeed(this.dacSpeed),this.idPull["sxDac_"+b]._setCustomCycle(this.dacCycles)));return c};
dhtmlXMenuObject.prototype._renderSublevelItem=function(a,b){var c=this,d=document.createElement("TR");d.className="enabled"==this.itemPull[a].state?"sub_item":"sub_item_dis";var e=document.createElement("TD");e.className="sub_item_icon";var f=this.itemPull[a]["enabled"==this.itemPull[a].state?"imgen":"imgdis"];if(""!=f){var g=this.itemPull[a].type;if("checkbox"==g||"radio"==g){var k=document.createElement("DIV");k.id="image_"+this.itemPull[a].id;k.className="sub_icon "+f;e.appendChild(k)}"checkbox"!=
g&&"radio"!=g&&(k=document.createElement("IMG"),k.id="image_"+this.itemPull[a].id,k.className="sub_icon",k.src=this.imagePath+f,e.appendChild(k))}f=document.createElement("TD");f.className="sub_item_text";""!=this.itemPull[a].title?(g=document.createElement("DIV"),g.className="sub_item_text",g.innerHTML=this.itemPull[a].title,f.appendChild(g)):f.innerHTML="&nbsp;";g=document.createElement("TD");g.className="sub_item_hk";this.itemPull[a].complex?(k=document.createElement("DIV"),k.className="complex_arrow",
k.id="arrow_"+this.itemPull[a].id,g.appendChild(k)):0<this.itemPull[a].hotkey.length&&!this.itemPull[a].complex?(k=document.createElement("DIV"),k.className="sub_item_hk",k.innerHTML=this.itemPull[a].hotkey,g.appendChild(k)):g.innerHTML="&nbsp;";d.appendChild(this._rtl?g:e);d.appendChild(f);d.appendChild(this._rtl?e:g);d.id=this.itemPull[a].id;d.parent=this.itemPull[a].parent;0<this.itemPull[a].tip.length&&(d.title=this.itemPull[a].tip);this._hideTMData||(this._hideTMData={});d.onselectstart=function(a){a=
a||event;return a.returnValue=!1};d.onmouseover=function(){c._hideTMData[this.id]&&window.clearTimeout(c._hideTMData[this.id]);"web"==c.menuMode&&window.clearTimeout(c.menuTimeoutHandler);this._visible||c._redistribSubLevelSelection(this.id,this.parent);this._visible=!0};d.onmouseout=function(){"web"==c.menuMode&&(c.menuTimeoutHandler&&window.clearTimeout(c.menuTimeoutHandler),c.menuTimeoutHandler=window.setTimeout(function(){c&&c._clearAndHide&&c._clearAndHide()},c.menuTimeoutMsec,"JavaScript"));
var a=this;c._hideTMData[this.id]&&window.clearTimeout(c._hideTMData[this.id]);c._hideTMData[this.id]=window.setTimeout(function(){a._visible=!1},50)};d.onclick=function(a){if(c.checkEvent("onClick")||!c.itemPull[this.id].complex){a=a||event;a.cancelBubble=!0;a.returnValue=!1;tc=c.itemPull[this.id].complex?"c":"-";td="enabled"==c.itemPull[this.id].state?"-":"d";a={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};switch(c.itemPull[this.id].type){case "checkbox":c._checkboxOnClickHandler(this.id.replace(c.idPrefix,
""),tc+td+"n",a);break;case "radio":c._radioOnClickHandler(this.id.replace(c.idPrefix,""),tc+td+"n",a);break;case "item":c._doOnClick(this.id.replace(c.idPrefix,""),tc+td+"n",a)}return!1}};e=this.idPull["polygon_"+this.itemPull[a].parent];null!=b&&(b++,0>b&&(b=0),b>e.tbd.childNodes.length-1&&(b=null));null!=b&&null!=e.tbd.childNodes[b]?e.tbd.insertBefore(d,e.tbd.childNodes[b]):e.tbd.appendChild(d);this.idPull[d.id]=d};
dhtmlXMenuObject.prototype._renderSeparator=function(a,b){var c=this.context?"SubLevelArea":this.itemPull[a].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea";if("TopLevel"!=c||!this.context){var d=this;if("TopLevel"!=c){var e=document.createElement("TR");e.className="sub_sep";var f=document.createElement("TD");f.colSpan="3";e.appendChild(f)}var g=document.createElement("DIV");g.id="separator_"+a;g.className="TopLevel"==c?"top_sep":"sub_sep";g.onselectstart=function(a){a=a||event;a.returnValue=
!1};g.onclick=function(a){a=a||event;a.cancelBubble=!0;a={ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey};d._doOnClick(this.id.replace("separator_"+d.idPrefix,""),"--s",a)};"TopLevel"==c?(null!=b?(b++,0>b&&(b=0),null!=this.cont.childNodes[b]?this.cont.insertBefore(g,this.cont.childNodes[b]):this.cont.appendChild(g)):(e=this.cont.childNodes[this.cont.childNodes.length-1],-1==String(e).search("TopLevel_Text")?this.cont.appendChild(g):this.cont.insertBefore(g,e)),this.idPull[g.id]=g):(c=this.idPull["polygon_"+
this.itemPull[a].parent],null!=b&&(b++,0>b&&(b=0),b>c.tbd.childNodes.length-1&&(b=null)),null!=b&&null!=c.tbd.childNodes[b]?c.tbd.insertBefore(e,c.tbd.childNodes[b]):c.tbd.appendChild(e),f.appendChild(g),this.idPull[g.id]=e)}};dhtmlXMenuObject.prototype.addNewSeparator=function(a,b){b=this.idPrefix+(null!=b?b:this._genStr(24));var c=this.idPrefix+this.getParentId(a);this._addItemIntoGlobalStrorage(b,c,"","separator",!1,"","");this._renderSeparator(b,this.getItemPosition(a))};
dhtmlXMenuObject.prototype.hide=function(){this._clearAndHide()};dhtmlXMenuObject.prototype.clearAll=function(){this.removeItem(this.idPrefix+this.topId,!0);this._isInited=!1;this.idPrefix=this._genStr(12);this.itemPull={}};
dhtmlXMenuObject.prototype.unload=function(){_isIE?(document.body.detachEvent("onclick",this._bodyClick),document.body.detachEvent("oncontextmenu",this._bodyContext)):(window.removeEventListener("click",this._bodyClick,!1),window.removeEventListener("contextmenu",this._bodyContext,!1));this._bodyContext=this._bodyClick=null;this.removeItem(this.idPrefix+this.topId,!0);this.idPull=this.itemPull=null;if(this.context)for(var a in this.contextZones)this.removeContextZone(a);null!=this.cont&&(this.cont.className=
"",this.cont.parentNode.removeChild(this.cont),this.cont=null);null!=this.base&&(this.base.className="",this.context||(this.base.oncontextmenu=this.base._oldContextMenuHandler||null),this.base=this.base.onselectstart=null);this.setSkin=null;this.detachAllEvents();this._xmlLoader&&(this._xmlLoader.destructor(),this._xmlLoader=null);this.extendedModule=this.serialize=this.addCheckbox=this.getCheckboxState=this.setCheckboxState=this.addRadioButton=this.setRadioChecked=this.getRadioChecked=this.userData=
this.setOverflowHeight=this.contextZones=this.getCircuit=this.clearHref=this.setHref=this.setAlign=this.setRTL=this.setTopText=this.setItemSelected=this.getHotKey=this.setHotKey=this.getTooltip=this.setTooltip=this.setVisibleArea=this.getContextMenuHideAllMode=this.setContextMenuHideAllMode=this.setAutoHideMode=this.setAutoShowMode=this.clearItemImage=this.setItemImage=this.getItemImage=this.enableDynamicLoading=this.setWebModeTimeout=this.setOpenMode=this.getUserData=this.setUserData=this.isItemHidden=
this.showItem=this.hideItem=this.loadFromHTML=this.setItemText=this.getItemText=this.isItemEnabled=this.setItemDisabled=this.setItemEnabled=this._removeArrow=this._checkboxOnClickHandler=this._updateCheckboxImage=this._readLevel=this._setCheckboxState=this._getCheckboxState=this._radioOnClickHandler=this._setRadioState=this._getRadioImgObj=this._countPolygonItems=this._doScrollDown=this._doScrollUp=this._isArrowExists=this._removeDownArrow=this._removeUpArrow=this._addDownArrow=this._addUpArrow=this._checkArrowsState=
this._clearAllSelectedSubItemsInPolygon=this._updateLoaderIcon=this._changeItemVisible=this._changeItemState=this.hideContextMenu=this.showContextMenu=this.hide=this.detachAllEvents=this.radio=this.items=this.unload=this.dhx_Event=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=this.addNewSeparator=this.addNewChild=this.addNewSibling=this.getParentId=this.setItemPosition=this.getItemPosition=this.clearAll=this._hideContextMenu=this._renderSeparator=this._renderSublevelItem=
this._renderSublevelPolygon=this._addSubMenuPolygon=this._addItemIntoGlobalStrorage=this._autoDetectVisibleArea=this._doOnContextBeforeCall=this._showContextMenu=this._isContextMenuVisible=this.isContextZone=this.removeContextZone=this.addContextZone=this.renderAsContextMenu=this._getAllParents=this.removeItem=this._updateItemImage=this.setIconPath=this.setIconsPath=this.setImagePath=this._renderToplevelItem=this._initTopLevelMenu=this._redistribTopLevelSelection=this._getItemLevelType=this._updateItemComplexState=
this._redefineComplexState=this._countVisiblePolygonItems=this._hideSubLevelItem=this._showSubLevelItem=this._xmlParser=this._buildMenu=this.loadXMLString=this.loadXML=this.init=this.forEachItem=this.getItemType=this._doOnLoad=this._clearAndHide=this._genStr=this._getMenuNodes=this._searchMenuNode=this._doOnTouchMenu=this._doOnClick=this._redistribSubLevelSelection=this._showPolygon=this._hidePolygon=this._getSubItemToDeselectByPolygon=this._removeSubItemFromSelected=this._addSubItemToSelected=this._openedPolygons=
this._selectedSubItems=this._enableDacSupport=this.zIndStep=this.zIndInit=this.zInd=this.dacSpeedIE=this.dacSpeed=this.dacCyclesIE=this.dacCycles=this.topId=this.skin=this.userDataTagName=this.itemTipTagName=this.itemTextTagName=this.itemTagName=this.itemHrefTagName=this.itemHotKeyTagName=this.isDhtmlxMenuObject=this.menuTouched=this.menuTimeoutMsec=this.menuTimeoutHandler=this.menuModeTopLevelTimeoutTime=this.menuModeTopLevelTimeout=this.menuMode=this.imagePath=this.idPrefix=this.menuLastClicked=
this.menuSelected=this.limit=this.dirTopLevel=this.dirSubLevel=this.fixedPosition=this.loaderIcon=this.dLoadUrl=this.dLoadSign=this.dLoad=this.contextMenuZoneId=this.contextHideAllMode=this.contextAutoShow=this.contextAutoHide=this.context=this.addBaseIdAsContextZone=this._topLevelRightMargin=this._topLevelBottomMargin=this._topLevelOffsetLeft=this._topLevelBottomMargin=this._scrollUpTMTime=this._scrollUpTMStep=this._scrollDownTMTime=this._scrollDownTMStep=this._rtl=this._isInited=this._isIE6=this._arrowFFFix=
this._align=null;dhtmlxMenuObjectLiveInstances[this._UID]=null;try{delete dhtmlxMenuObjectLiveInstances[this._UID]}catch(b){}this._UID=null};var dhtmlxMenuObjectLiveInstances={};dhtmlXMenuObject.prototype.i18n={dhxmenuextalert:"dhtmlxmenu_ext.js required"};
(function(){dhtmlx.extend_api("dhtmlXMenuObject",{_init:function(a){return[a.parent,a.skin]},align:"setAlign",top_text:"setTopText",context:"renderAsContextMenu",icon_path:"setIconsPath",open_mode:"setOpenMode",rtl:"setRTL",skin:"setSkin",dynamic:"enableDynamicLoading",xml:"loadXML",items:"items",overflow:"setOverflowHeight"},{items:function(a,b){for(var c=null,d=0;d<a.length;d++){var e=a[d];"separator"==e.type?(this.addNewSeparator(c,1E5,e.id),c=e.id):(this.addNewChild(b,1E5,e.id,e.text,e.disabled,
e.img,e.img_disabled),c=e.id,e.items&&this.items(e.items,e.id))}}})})();
dhtmlXMenuObject.prototype._improveTerraceSkin=function(){for(var a in this.itemPull)if(this.itemPull[a].parent==this.idPrefix+this.topId&&null!=this.idPull[a]){var b=!1,c=!1;this.idPull[a].parentNode.firstChild==this.idPull[a]&&(b=!0);this.idPull[a].parentNode.lastChild==this.idPull[a]&&(c=!0);for(var d in this.itemPull)"separator"==this.itemPull[d].type&&this.itemPull[d].parent==this.idPrefix+this.topId&&(this.idPull[a].nextSibling==this.idPull["separator_"+d]&&(c=!0),this.idPull[a].previousSibling==
this.idPull["separator_"+d]&&(b=!0));this.idPull[a].style.borderLeft=b?"1px solid #cecece":"0px solid white";this.idPull[a].style.borderTopLeftRadius=this.idPull[a].style.borderBottomLeftRadius=b?"5px":"0px";this.idPull[a].style.borderTopRightRadius=this.idPull[a].style.borderBottomRightRadius=c?"5px":"0px";this.idPull[a]._bl=b;this.idPull[a]._br=c}};
dhtmlXMenuObject.prototype._improveTerraceButton=function(a,b){b?(this.idPull[a].style.borderBottomLeftRadius=this.idPull[a]._bl?"5px":"0px",this.idPull[a].style.borderBottomRightRadius=this.idPull[a]._br?"5px":"0px"):(this.idPull[a].style.borderBottomLeftRadius="0px",this.idPull[a].style.borderBottomRightRadius="0px")};dhtmlXMenuObject.prototype.extendedModule="DHXMENUEXT";dhtmlXMenuObject.prototype.setItemEnabled=function(a){this._changeItemState(a,"enabled",this._getItemLevelType(a))};
dhtmlXMenuObject.prototype.setItemDisabled=function(a){this._changeItemState(a,"disabled",this._getItemLevelType(a))};dhtmlXMenuObject.prototype.isItemEnabled=function(a){return null!=this.itemPull[this.idPrefix+a]?"enabled"==this.itemPull[this.idPrefix+a].state:!1};
dhtmlXMenuObject.prototype._changeItemState=function(a,b,c){var d=this.idPrefix+a;null!=this.itemPull[d]&&null!=this.idPull[d]&&this.itemPull[d].state!=b&&(this.itemPull[d].state=b,this.idPull[d].className=this.itemPull[d].parent!=this.idPrefix+this.topId||this.context?"sub_item"+("enabled"==this.itemPull[d].state?"":"_dis"):"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[d].state?"Normal":"Disabled"),this._updateItemComplexState(this.idPrefix+a,this.itemPull[this.idPrefix+a].complex,
!1),this._updateItemImage(a,c),this.idPrefix+this.menuLastClicked==d&&"TopLevel"!=c&&this._redistribSubLevelSelection(d,this.itemPull[d].parent));return!1};dhtmlXMenuObject.prototype.getItemText=function(a){return null!=this.itemPull[this.idPrefix+a]?this.itemPull[this.idPrefix+a].title:""};
dhtmlXMenuObject.prototype.setItemText=function(a,b){a=this.idPrefix+a;if(null!=this.itemPull[a]&&null!=this.idPull[a])if(this._clearAndHide(),this.itemPull[a].title=b,this.itemPull[a].parent!=this.idPrefix+this.topId||this.context){c=null;for(d=0;d<this.idPull[a].childNodes[1].childNodes.length;d++)"sub_item_text"==String(this.idPull[a].childNodes[1].childNodes[d].className||"")&&(c=this.idPull[a].childNodes[1].childNodes[d]);""==String(this.itemPull[a].title).length||null==this.itemPull[a].title?
c&&(c.parentNode.removeChild(c),this.idPull[a].childNodes[1].innerHTML="&nbsp;"):(c||(c=document.createElement("DIV"),c.className="sub_item_text",this.idPull[a].childNodes[1].innerHTML="",this.idPull[a].childNodes[1].appendChild(c)),c.innerHTML=this.itemPull[a].title)}else{for(var c=null,d=0;d<this.idPull[a].childNodes.length;d++)try{"top_level_text"==this.idPull[a].childNodes[d].className&&(c=this.idPull[a].childNodes[d])}catch(e){}""==String(this.itemPull[a].title).length||null==this.itemPull[a].title?
null!=c&&c.parentNode.removeChild(c):(c||(c=document.createElement("DIV"),c.className="top_level_text",this._rtl&&0<this.idPull[a].childNodes.length?this.idPull[a].insertBefore(c,this.idPull[a].childNodes[0]):this.idPull[a].appendChild(c)),c.innerHTML=this.itemPull[a].title)}};dhtmlXMenuObject.prototype.loadFromHTML=function(a,b,c){this.itemTagName="DIV";"string"==typeof a&&(a=document.getElementById(a));this._buildMenu(a,null);this.init();b&&a.parentNode.removeChild(a);null!=c&&c()};
dhtmlXMenuObject.prototype.hideItem=function(a){this._changeItemVisible(a,!1)};dhtmlXMenuObject.prototype.showItem=function(a){this._changeItemVisible(a,!0)};dhtmlXMenuObject.prototype.isItemHidden=function(a){var b=null;null!=this.idPull[this.idPrefix+a]&&(b="none"==this.idPull[this.idPrefix+a].style.display);return b};
dhtmlXMenuObject.prototype._changeItemVisible=function(a,b){var c=this.idPrefix+a;null!=this.itemPull[c]&&("separator"==this.itemPull[c].type&&(c="separator_"+c),null!=this.idPull[c])&&(this.idPull[c].style.display=b?"":"none",this._redefineComplexState(this.itemPull[this.idPrefix+a].parent))};dhtmlXMenuObject.prototype.setUserData=function(a,b,c){this.userData[this.idPrefix+a+"_"+b]=c};
dhtmlXMenuObject.prototype.getUserData=function(a,b){return null!=this.userData[this.idPrefix+a+"_"+b]?this.userData[this.idPrefix+a+"_"+b]:null};dhtmlXMenuObject.prototype.setOpenMode=function(a){if("win"==a||"web"==a)this.menuMode=a};dhtmlXMenuObject.prototype.setWebModeTimeout=function(a){this.menuTimeoutMsec=isNaN(a)?400:a};
dhtmlXMenuObject.prototype.enableDynamicLoading=function(a,b){this.dLoad=!0;this.dLoadUrl=a;this.dLoadSign=-1==String(this.dLoadUrl).search(/\?/)?"?":"&";this.loaderIcon=b;this.init()};
dhtmlXMenuObject.prototype._updateLoaderIcon=function(a,b){if(null!=this.idPull[a]&&!(0<=String(this.idPull[a].className).search("TopLevel_Item"))){var c=this._rtl?0:2;this.idPull[a].childNodes[c]&&this.idPull[a].childNodes[c].childNodes[0]&&(c=this.idPull[a].childNodes[c].childNodes[0],0===String(c.className).search("complex_arrow")&&(c.className="complex_arrow"+(b?"_loading":"")))}};
dhtmlXMenuObject.prototype.getItemImage=function(a){var b=[null,null];a=this.idPrefix+a;"item"==this.itemPull[a].type&&(b[0]=this.itemPull[a].imgen,b[1]=this.itemPull[a].imgdis);return b};dhtmlXMenuObject.prototype.setItemImage=function(a,b,c){"item"==this.itemPull[this.idPrefix+a].type&&(this.itemPull[this.idPrefix+a].imgen=b,this.itemPull[this.idPrefix+a].imgdis=c,this._updateItemImage(a,this._getItemLevelType(a)))};dhtmlXMenuObject.prototype.clearItemImage=function(a){this.setItemImage(a,"","")};
dhtmlXMenuObject.prototype.setAutoShowMode=function(a){this.contextAutoShow=!0==a?!0:!1};dhtmlXMenuObject.prototype.setAutoHideMode=function(a){this.contextAutoHide=!0==a?!0:!1};dhtmlXMenuObject.prototype.setContextMenuHideAllMode=function(a){this.contextHideAllMode=!0==a?!0:!1};dhtmlXMenuObject.prototype.getContextMenuHideAllMode=function(){return this.contextHideAllMode};
dhtmlXMenuObject.prototype.setVisibleArea=function(a,b,c,d){this._isVisibleArea=!0;this.menuX1=a;this.menuX2=b;this.menuY1=c;this.menuY2=d};dhtmlXMenuObject.prototype.setTooltip=function(a,b){a=this.idPrefix+a;null!=this.itemPull[a]&&null!=this.idPull[a]&&(this.idPull[a].title=0<b.length?b:null,this.itemPull[a].tip=b)};dhtmlXMenuObject.prototype.getTooltip=function(a){return null==this.itemPull[this.idPrefix+a]?null:this.itemPull[this.idPrefix+a].tip};
dhtmlXMenuObject.prototype.setHotKey=function(a,b){a=this.idPrefix+a;if(null!=this.itemPull[a]&&null!=this.idPull[a]&&(this.itemPull[a].parent!=this.idPrefix+this.topId||this.context)&&!this.itemPull[a].complex){var c=this.itemPull[a].type;if("item"==c||"checkbox"==c||"radio"==c){c=null;try{"sub_item_hk"==this.idPull[a].childNodes[this._rtl?0:2].childNodes[0].className&&(c=this.idPull[a].childNodes[this._rtl?0:2].childNodes[0])}catch(d){}if(0==b.length)this.itemPull[a].hotkey_backup=this.itemPull[a].hotkey,
this.itemPull[a].hotkey="",null!=c&&c.parentNode.removeChild(c);else{this.itemPull[a].hotkey=b;this.itemPull[a].hotkey_backup=null;if(null==c){c=document.createElement("DIV");c.className="sub_item_hk";for(var e=this.idPull[a].childNodes[this._rtl?0:2];0<e.childNodes.length;)e.removeChild(e.childNodes[0]);e.appendChild(c)}c.innerHTML=b}}}};dhtmlXMenuObject.prototype.getHotKey=function(a){return null==this.itemPull[this.idPrefix+a]?null:this.itemPull[this.idPrefix+a].hotkey};
dhtmlXMenuObject.prototype.setItemSelected=function(a){if(null==this.itemPull[this.idPrefix+a])return null};dhtmlXMenuObject.prototype.setTopText=function(a){this.context||(null==this._topText&&(this._topText=document.createElement("DIV"),this._topText.className="dhtmlxMenu_TopLevel_Text_"+(this._rtl?"left":"left"==this._align?"right":"left"),this.base.appendChild(this._topText)),this._topText.innerHTML=a)};
dhtmlXMenuObject.prototype.setAlign=function(a){this._align==a||"left"!=a&&"right"!=a||(this._align=a,this.cont&&(this.cont.className="right"==this._align?"align_right":"align_left"),null!=this._topText&&(this._topText.className="dhtmlxMenu_TopLevel_Text_"+("left"==this._align?"right":"left")))};dhtmlXMenuObject.prototype.setHref=function(a,b,c){null!=this.itemPull[this.idPrefix+a]&&(this.itemPull[this.idPrefix+a].href_link=b,null!=c&&(this.itemPull[this.idPrefix+a].href_target=c))};
dhtmlXMenuObject.prototype.clearHref=function(a){null!=this.itemPull[this.idPrefix+a]&&(delete this.itemPull[this.idPrefix+a].href_link,delete this.itemPull[this.idPrefix+a].href_target)};dhtmlXMenuObject.prototype.getCircuit=function(a){for(var b=Array(a);this.getParentId(a)!=this.topId;)a=this.getParentId(a),b[b.length]=a;return b.reverse()};
dhtmlXMenuObject.prototype._clearAllSelectedSubItemsInPolygon=function(a){for(var b=this._getSubItemToDeselectByPolygon(a),c=0;c<this._openedPolygons.length;c++)this._openedPolygons[c]!=a&&this._hidePolygon(this._openedPolygons[c]);for(c=0;c<b.length;c++)null!=this.idPull[b[c]]&&"enabled"==this.itemPull[b[c]].state&&(this.idPull[b[c]].className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Item_Normal")};
dhtmlXMenuObject.prototype._checkArrowsState=function(a){var b=this.idPull["polygon_"+a],c=this.idPull["arrowup_"+a];a=this.idPull["arrowdown_"+a];c.className=0==b.scrollTop?"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp_Disabled":"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp"+(c.over?"_Over":"");a.className=b.scrollTop+b.offsetHeight<b.scrollHeight?"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown"+(a.over?"_Over":""):"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown_Disabled"};
dhtmlXMenuObject.prototype._addUpArrow=function(a){var b=this,c=document.createElement("DIV");c.pId=this.idPrefix+a;c.id="arrowup_"+this.idPrefix+a;c.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp";c.innerHTML="<div class='dhtmlxMenu_"+this.skin+"_SubLevelArea_Arrow'><div class='dhtmlxMenu_SubLevelArea_Arrow_Icon'></div></div>";c.style.display="none";c.over=!1;c.onselectstart=function(a){a=a||event;return a.returnValue=!1};c.oncontextmenu=function(a){a=a||event;return a.returnValue=!1};
c.onmouseover=function(){"web"==b.menuMode&&window.clearTimeout(b.menuTimeoutHandler);b._clearAllSelectedSubItemsInPolygon(this.pId);this.className!="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowUp_Disabled"&&(this.className="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowUp_Over",this.over=!0,b._canScrollUp=!0,b._doScrollUp(this.pId,!0))};c.onmouseout=function(){"web"==b.menuMode&&(window.clearTimeout(b.menuTimeoutHandler),b.menuTimeoutHandler=window.setTimeout(function(){b._clearAndHide()},b.menuTimeoutMsec,
"JavaScript"));this.over=!1;b._canScrollUp=!1;this.className!="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowUp_Disabled"&&(this.className="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowUp",window.clearTimeout(b._scrollUpTM))};c.onclick=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};document.body.insertBefore(c,document.body.firstChild);this.idPull[c.id]=c};
dhtmlXMenuObject.prototype._addDownArrow=function(a){var b=this,c=document.createElement("DIV");c.pId=this.idPrefix+a;c.id="arrowdown_"+this.idPrefix+a;c.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown";c.innerHTML="<div class='dhtmlxMenu_"+this.skin+"_SubLevelArea_Arrow'><div class='dhtmlxMenu_SubLevelArea_Arrow_Icon'></div></div>";c.style.display="none";c.over=!1;c.onselectstart=function(a){a=a||event;return a.returnValue=!1};c.oncontextmenu=function(a){a=a||event;return a.returnValue=
!1};c.onmouseover=function(){"web"==b.menuMode&&window.clearTimeout(b.menuTimeoutHandler);b._clearAllSelectedSubItemsInPolygon(this.pId);this.className!="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowDown_Disabled"&&(this.className="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowDown_Over",this.over=!0,b._canScrollDown=!0,b._doScrollDown(this.pId,!0))};c.onmouseout=function(){"web"==b.menuMode&&(window.clearTimeout(b.menuTimeoutHandler),b.menuTimeoutHandler=window.setTimeout(function(){b._clearAndHide()},b.menuTimeoutMsec,
"JavaScript"));this.over=!1;b._canScrollDown=!1;this.className!="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowDown_Disabled"&&(this.className="dhtmlxMenu_"+b.skin+"_SubLevelArea_ArrowDown",window.clearTimeout(b._scrollDownTM))};c.onclick=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};document.body.insertBefore(c,document.body.firstChild);this.idPull[c.id]=c};dhtmlXMenuObject.prototype._removeUpArrow=function(a){this._removeArrow("arrowup_"+this.idPrefix+a)};
dhtmlXMenuObject.prototype._removeDownArrow=function(a){this._removeArrow("arrowdown_"+this.idPrefix+a)};dhtmlXMenuObject.prototype._removeArrow=function(a){var b=this.idPull[a];b.onselectstart=null;b.oncontextmenu=null;b.onmouseover=null;b.onmouseout=null;b.onclick=null;b.parentNode&&b.parentNode.removeChild(b);this.idPull[a]=null;try{delete this.idPull[a]}catch(c){}};
dhtmlXMenuObject.prototype._isArrowExists=function(a){return null!=this.idPull["arrowup_"+a]&&null!=this.idPull["arrowdown_"+a]?!0:!1};dhtmlXMenuObject.prototype._doScrollUp=function(a,b){var c=this.idPull["polygon_"+a];if(this._canScrollUp&&0<c.scrollTop){var d=!1,e=c.scrollTop-this._scrollUpTMStep;0>e&&(d=!0,e=0);c.scrollTop=e;if(!d){var f=this;this._scrollUpTM=window.setTimeout(function(){f._doScrollUp(a,!1)},this._scrollUpTMTime)}}else this._canScrollUp=!1,this._checkArrowsState(a);b&&this._checkArrowsState(a)};
dhtmlXMenuObject.prototype._doScrollDown=function(a,b){var c=this.idPull["polygon_"+a];if(this._canScrollDown&&c.scrollTop+c.offsetHeight<=c.scrollHeight){var d=!1,e=c.scrollTop+this._scrollDownTMStep;e+c.offsetHeight>c.scollHeight&&(d=!0,e=c.scollHeight-c.offsetHeight);c.scrollTop=e;if(!d){var f=this;this._scrollDownTM=window.setTimeout(function(){f._doScrollDown(a,!1)},this._scrollDownTMTime)}}else this._checkArrowsState(a);b&&this._checkArrowsState(a)};
dhtmlXMenuObject.prototype._countPolygonItems=function(a){var b=0,c;for(c in this.itemPull){var d=this.itemPull[c].type;this.itemPull[c].parent!=this.idPrefix+a||"item"!=d&&"radio"!=d&&"checkbox"!=d||b++}return b};
dhtmlXMenuObject.prototype.setOverflowHeight=function(a){if("auto"===a)this.limit=0,this.autoOverflow=!0;else if(!(0==this.limit&&0>=a))if(this._clearAndHide(),0<=this.limit&&0<a)this.limit=a;else if(0<this.limit&&0>=a){for(var b in this.itemPull)this._isArrowExists(b)&&(a=String(b).replace(this.idPrefix,""),this._removeUpArrow(a),this._removeDownArrow(a),this.idPull["polygon_"+b].style.height="");this.limit=0}};
dhtmlXMenuObject.prototype._getRadioImgObj=function(a){try{var b=this.idPull[this.idPrefix+a].childNodes[this._rtl?2:0].childNodes[0]}catch(c){b=null}return b};dhtmlXMenuObject.prototype._setRadioState=function(a,b){var c=this._getRadioImgObj(a);if(null!=c){var d=this.itemPull[this.idPrefix+a];d.checked=b;d.imgen="rdbt_"+(d.checked?"1":"0");d.imgdis=d.imgen;c.className="sub_icon "+d.imgen}};
dhtmlXMenuObject.prototype._radioOnClickHandler=function(a,b,c){"d"!=b.charAt(1)&&null!=this.itemPull[this.idPrefix+a].group&&(b=this.itemPull[this.idPrefix+a].group,this.checkEvent("onRadioClick")?this.callEvent("onRadioClick",[b,this.getRadioChecked(b),a,this.contextMenuZoneId,c])&&this.setRadioChecked(b,a):this.setRadioChecked(b,a),this.checkEvent("onClick")&&this.callEvent("onClick",[a]))};
dhtmlXMenuObject.prototype.getRadioChecked=function(a){for(var b=null,c=0;c<this.radio[a].length;c++){var d=this.radio[a][c].replace(this.idPrefix,""),e=this._getRadioImgObj(d);null!=e&&null!=e.className.match(/rdbt_1$/gi)&&(b=d)}return b};dhtmlXMenuObject.prototype.setRadioChecked=function(a,b){if(null!=this.radio[a])for(var c=0;c<this.radio[a].length;c++){var d=this.radio[a][c].replace(this.idPrefix,"");this._setRadioState(d,d==b)}};
dhtmlXMenuObject.prototype.addRadioButton=function(a,b,c,d,e,f,g,k){if(!this.context||b!=this.topId)if(null==this.itemPull[this.idPrefix+b]||"child"==a&&"item"!=this.itemPull[this.idPrefix+b].type)return;d=this.idPrefix+(null!=d?d:this._genStr(24));var h="rdbt_"+(g?"1":"0");"sibling"==a?(a=this.idPrefix+this.getParentId(b),this._addItemIntoGlobalStrorage(d,a,e,"radio",k,h,h),this._renderSublevelItem(d,this.getItemPosition(b))):(a=this.idPrefix+b,this._addItemIntoGlobalStrorage(d,a,e,"radio",k,h,h),
null==this.idPull["polygon_"+a]&&this._renderSublevelPolygon(a,a),this._renderSublevelItem(d,c-1),this._redefineComplexState(a));b=null!=f?f:this._genStr(24);this.itemPull[d].group=b;null==this.radio[b]&&(this.radio[b]=[]);this.radio[b][this.radio[b].length]=d;!0==g&&this.setRadioChecked(b,String(d).replace(this.idPrefix,""))};dhtmlXMenuObject.prototype._getCheckboxState=function(a){return null==this.itemPull[this.idPrefix+a]?null:this.itemPull[this.idPrefix+a].checked};
dhtmlXMenuObject.prototype._setCheckboxState=function(a,b){null!=this.itemPull[this.idPrefix+a]&&(this.itemPull[this.idPrefix+a].checked=b)};
dhtmlXMenuObject.prototype._updateCheckboxImage=function(a){if(null!=this.idPull[this.idPrefix+a]){this.itemPull[this.idPrefix+a].imgen="chbx_"+(this._getCheckboxState(a)?"1":"0");this.itemPull[this.idPrefix+a].imgdis=this.itemPull[this.idPrefix+a].imgen;try{this.idPull[this.idPrefix+a].childNodes[this._rtl?2:0].childNodes[0].className="sub_icon "+this.itemPull[this.idPrefix+a].imgen}catch(b){}}};
dhtmlXMenuObject.prototype._checkboxOnClickHandler=function(a,b,c){"d"!=b.charAt(1)&&null!=this.itemPull[this.idPrefix+a]&&(b=this._getCheckboxState(a),this.checkEvent("onCheckboxClick")?this.callEvent("onCheckboxClick",[a,b,this.contextMenuZoneId,c])&&this.setCheckboxState(a,!b):this.setCheckboxState(a,!b),this.checkEvent("onClick")&&this.callEvent("onClick",[a]))};dhtmlXMenuObject.prototype.setCheckboxState=function(a,b){this._setCheckboxState(a,b);this._updateCheckboxImage(a)};
dhtmlXMenuObject.prototype.getCheckboxState=function(a){return this._getCheckboxState(a)};
dhtmlXMenuObject.prototype.addCheckbox=function(a,b,c,d,e,f,g){if(!this.context||b!=this.topId)if(null==this.itemPull[this.idPrefix+b]||"child"==a&&"item"!=this.itemPull[this.idPrefix+b].type)return;var k="chbx_"+(f?"1":"0");"sibling"==a?(a=this.idPrefix+(null!=d?d:this._genStr(24)),d=this.idPrefix+this.getParentId(b),this._addItemIntoGlobalStrorage(a,d,e,"checkbox",g,k,k),this.itemPull[a].checked=f,this._renderSublevelItem(a,this.getItemPosition(b))):(a=this.idPrefix+(null!=d?d:this._genStr(24)),
d=this.idPrefix+b,this._addItemIntoGlobalStrorage(a,d,e,"checkbox",g,k,k),this.itemPull[a].checked=f,null==this.idPull["polygon_"+d]&&this._renderSublevelPolygon(d,d),this._renderSublevelItem(a,c-1),this._redefineComplexState(d))};
dhtmlXMenuObject.prototype._readLevel=function(a){var b="",c;for(c in this.itemPull)if(this.itemPull[c].parent==a){var d="",e="",f="",g=String(this.itemPull[c].id).replace(this.idPrefix,""),k="",h=""!=this.itemPull[c].title?' text="'+this.itemPull[c].title+'"':"",l="";"item"==this.itemPull[c].type&&(""!=this.itemPull[c].imgen&&(d=' img="'+this.itemPull[c].imgen+'"'),""!=this.itemPull[c].imgdis&&(e=' imgdis="'+this.itemPull[c].imgdis+'"'),""!=this.itemPull[c].hotkey&&(f="<hotkey>"+this.itemPull[c].hotkey+
"</hotkey>"));"separator"==this.itemPull[c].type?k=' type="separator"':"disabled"==this.itemPull[c].state&&(l=' enabled="false"');"checkbox"==this.itemPull[c].type&&(k=' type="checkbox"'+(this.itemPull[c].checked?' checked="true"':""));"radio"==this.itemPull[c].type&&(k=' type="radio" group="'+this.itemPull[c].group+'" '+(this.itemPull[c].checked?' checked="true"':""));b+="<item id='"+g+"'"+h+k+d+e+l+">";b+=f;this.itemPull[c].complex&&(b+=this._readLevel(c));b+="</item>"}return b};
dhtmlXMenuObject.prototype.serialize=function(){return"<menu>"+this._readLevel(this.idPrefix+this.topId)+"</menu>"};
function dhtmlXPopup(a){var b=this;this.conf=a||{};a=null;this.mode=this.conf.mode||"bottom";this.p=document.createElement("DIV");this.p.style.display="none";this.p.innerHTML="<div class='dhx_popup_area"+(_isIE?" dhx_popup_area_ie":"")+"'><table cellspacing='0' cellpadding='0' border='0' class='dhx_popup_table'><tbody></tbody></table></div><div class='dhx_popup_arrow dhx_popup_arrow_"+this.mode+"'></div>";document.body.appendChild(this.p);this.skinParams={dhx_terrace:{t0:19,t1:9,t2:19,t3:9},dhx_skyblue:{t0:12,
t1:9,t2:12,t3:9},dhx_web:{t0:12,t1:9,t2:12,t3:9}};this.p.onclick=function(a){a=a||event;a.cancelBubble=!0;if(null!=b._nodeObj)return b.callEvent("onContentClick",[]),!0;for(var c=a.target||a.srcElement,f=null;c!=b.p;)"undefined"==typeof c._idd||c._isSeparator||(f=c._idd),c=c.parentNode;f&&(b.callEvent("onClick",[f]),null!=b&&null!=b.isVisible&&b.isVisible()&&!0===b.callEvent("onBeforeHide",["select",a,f])&&b.hide())};this.separator="DHXSEP"+(new Date).getTime();this.tpl=[];this.setTemplate=function(a){this.tpl=
a.split(",")};this.uid=function(){this.idd?this.idd++:this.idd=(new Date).getTime();return this.idd};this.show=function(a){var b=null;if(1==arguments.length){if(a){if(!this._idExists(a))return}else a=this.conf.id[0];this.conf.toolbar&&(b=this.conf.toolbar.getItemDim(a));this.conf.form&&(b=this.conf.form.getItemDim(a))}else 4==arguments.length&&(this._clearClick=!0,b={left:arguments[0],top:arguments[1],width:arguments[2],height:arguments[3]},a=null);b&&(this.p.style.visibility="hidden",this.p.style.display=
"",this._setPos(b),this.p.style.visibility="visible",this._lastId=a,this.callEvent("onShow",[a]))};this._setPos=function(a,b){var c=a.left,g=a.top,k=a.width,h=a.height;this._posData={left:c,top:g,width:k,height:h};var l=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollLeft,document.body.scrollLeft),m=l+(_isIE?Math.max(document.documentElement.clientWidth||0,document.documentElement.offsetWidth||0,document.body.clientWidth||0):window.innerWidth),n=Math.max((_isIE?
document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),s=n+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight),u=b||this.mode;"undefined"==typeof b&&(b=!1);var v={top:g-this.p.offsetHeight-n,bottom:s-(g+h+this.p.offsetHeight),left:c-this.p.offsetWidth-l,right:m-(c+k+this.p.offsetWidth)};if(!b&&0>v[u]&&(v=this._getAvailPos(u,v),!1!==v)){this._setPos(a,v);return}if("top"==
u||"bottom"==u){var w=this.skinParams[this.skin].t2,v=this.skinParams[this.skin].t3,A=Math.round(this.p.offsetWidth/2),C=Math.round(this.p.lastChild.offsetWidth/2);if(c<l)var x=Math.min(c+k,l),k=c+k-x,c=x;c+k>m&&(k=m-c);var x=Math.round(c+k/2),A=x-A,y=x+C+w-this.p.offsetWidth;A<l-v?A=Math.min(l-v,x-w-C):A+this.p.offsetWidth>m+v&&(A=Math.max(y,m+v-this.p.offsetWidth));this.p.style.left=A+"px";this.p.style.top=("top"==u?g-this.p.offsetHeight:g+h)+"px";this.p.lastChild.className="dhx_popup_arrow dhx_popup_arrow_"+
u;this.p.lastChild.style.top=("top"==u?this.p.offsetHeight-this.p.lastChild.offsetHeight:0)+"px";this.p.lastChild.style.left=x-A-C+"px"}if("left"==u||"right"==u)w=this.skinParams[this.skin].t0,v=this.skinParams[this.skin].t1,m=Math.round(this.p.offsetHeight/2),l=Math.round(this.p.lastChild.offsetHeight/2),g<n&&(x=Math.min(g+h,n),h=g+h-x,g=x),g+h>s&&(h=s-g),x=Math.round(g+h/2),g=x-m,h=x-w-l,w=x+l+w-this.p.offsetHeight,g<n-v?g=Math.min(n-v,h):g+this.p.offsetHeight>s+v&&(g=Math.max(w,s+v-this.p.offsetHeight)),
this.p.style.left=("left"==u?c-this.p.offsetWidth:c+k)+"px",this.p.style.top=g+"px",x=x-g-l,this.p.lastChild.className="dhx_popup_arrow dhx_popup_arrow_"+u,this.p.lastChild.style.left=("left"==u?this.p.offsetWidth-this.p.lastChild.offsetWidth:0)+"px",this.p.lastChild.style.top=x+"px";if(this._IEDisp&&null!=this._nodeId){var D=document.getElementById(this._nodeId);window.setTimeout(function(){D.style.visibility="visible";D=null},1)}};this._getAvailPos=function(a,b){for(var c={top:["bottom","right",
"left"],bottom:["top","right","left"],left:["right","bottom","top"],right:["left","bottom","top"]},g=null,k=0;k<c[a].length;k++)null==g&&0<b[c[a][k]]&&(g=c[a][k]);if(null==g){var g="bottom",h;for(h in b)b[h]>b[g]&&(g=h)}return g==a?!1:g};this._repaint=function(){this.isVisible()&&this._setPos(this._posData)};this.clear=function(){this._nodeObj&&(_isIE&&"undefined"!=typeof dhtmlXLayoutObject&&this._nodeObj instanceof dhtmlXLayoutObject&&(this.p.onmousedown=null),this._nodeObj.unload?this._nodeObj.unload():
this._nodeObj.destruct&&this._nodeObj.destruct(),this._nodeObj=this._nodeId=null);this._IEHoverInited&&this._IEHoverClear();for(var a=this.p.firstChild.firstChild.firstChild;0<a.childNodes.length;)a.removeChild(a.lastChild);this.itemData={}};this.hide=function(){if("none"!=this.p.style.display){this.p.style.display="none";var a=this._lastId;this._lastId=null;this.callEvent("onHide",[a])}};this.isVisible=function(){return""==this.p.style.display};this.itemData={};this.getItemData=function(a){return a?
this.itemData[a]?this.itemData[a]:{}:this.itemData};this.setSkin=function(a){this.skin=a;this.p.className="dhx_popup_"+this.skin;null!=this._nodeObj&&"function"==typeof this._nodeObj.setSkin&&this._nodeObj.setSkin(this.skin);this._repaint()};this.skinDetect=function(){var a=document.createElement("DIV");a.className="dhx_popup_skin_detect";document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a);var b=a.offsetWidth;a.parentNode.removeChild(a);return{10:"dhx_skyblue",
20:"dhx_web",30:"dhx_terrace"}[b]||null};this.attachList=function(a,b){this.setTemplate(a);this.clear();for(var c=this.p.firstChild.firstChild.firstChild,g=0;g<b.length;g++){var k=document.createElement("TR");k._idd=b[g].id||this.uid();c.appendChild(k);this.itemData[k._idd]=b[g];if(b[g]==this.separator){k.className="dhx_popup_sep";k._isSeparator=!0;var h=document.createElement("TD");h.className="dhx_popup_sep";h.colSpan=this.tpl.length;h.innerHTML="<div class='dhx_popup_sep'>&nbsp;</div>";k.appendChild(h)}else{for(var l=
0;l<this.tpl.length;l++){var m="dhx_popup_td";!this._IEFirstLast||1!=this.tpl.length&&0!=l&&l!=this.tpl.length-1||(m+=1==this.tpl.length?" dhx_popup_td_single":0==l?" dhx_popup_td_first":" dhx_popup_td_last");h=document.createElement("TD");h.className=m;h.innerHTML=b[g][this.tpl[l]]||"&nbsp;";k.appendChild(h)}this._IEHover&&(k._IEHover=!0,this._IEHoverInited||this._IEHoverInit())}}this._repaint()};this.attachObject=function(a){return this._attachNode("object",{obj:a})};this.attachHTML=function(a){return this._attachNode("html",
{html:a})};this.attachForm=function(a){return this._attachNode("form",{struct:a})};this.attachCalendar=function(){return this._attachNode("calendar",{})};this.attachGrid=function(a,b){return this._attachNode("grid",{width:a||400,height:b||200})};this.attachTree=function(a,b,c){return this._attachNode("tree",{width:a||400,height:b||200,rootId:c||0})};this.attachLayout=function(a,b,c){return this._attachNode("layout",{width:a||400,height:b||200,pattern:c||"3L"})};this.attachAccordion=function(a,b){return this._attachNode("accordion",
{width:a||400,height:b||200})};this.attachTabbar=function(a,b,c){return this._attachNode("tabbar",{width:a||400,height:b||200,mode:c||"top"})};this._attachNode=function(a,c){this.clear();this._nodeId="cn_"+(new Date).getTime();var f=this.p.firstChild.firstChild.firstChild,g=document.createElement("TR");g.className="dhxnode";f.appendChild(g);f=document.createElement("TD");f.className="dhx_popup_td";f.innerHTML="<div id='"+this._nodeId+"' style='position:relative;'></div>";c.width&&(f.firstChild.style.width=
c.width+"px");c.height&&(f.firstChild.style.height=c.height+"px");g.appendChild(f);f=g=f=null;"object"==a&&(this._nodeObj="string"==typeof c.obj?document.getElementById(c.obj):c.obj,c.obj=null,document.getElementById(this._nodeId).appendChild(this._nodeObj),this._nodeObj.style.display="",this._nodeObj.style.visibility="visible");"html"==a&&(document.getElementById(this._nodeId).innerHTML=c.html,this._nodeObj={text:c.html});"form"==a&&(this._nodeObj=new dhtmlXForm(this._nodeId,c.struct),this._nodeObj.setSkin(this.skin));
"calendar"==a&&(this._nodeObj=new dhtmlXCalendarObject(this._nodeId),this._nodeObj.setSkin(this.skin),this._nodeObj.show());"grid"==a&&(this._nodeObj=new dhtmlXGridObject(this._nodeId),this._nodeObj.setSkin(this.skin));"tree"==a&&(this._nodeObj=new dhtmlXTreeObject(this._nodeId,"100%","100%",c.rootId));"layout"==a&&(this._nodeObj=new dhtmlXLayoutObject(this._nodeId,c.pattern,this.skin),_isIE)&&(this.p.onmousedown=function(){b._clearClick=!0});"accordion"==a&&(this._nodeObj=new dhtmlXAccordion(this._nodeId,
this.skin));"tabbar"==a&&(this._nodeObj=new dhtmlXTabBar(this._nodeId,c.mode),this._nodeObj.setSkin(this.skin));this._repaint();return this._nodeObj};this.unload=function(){window.addEventListener?(window.removeEventListener("click",this._doOnClick,!1),window.removeEventListener("unload",this._doOnUnload,!1)):(document.body.detachEvent("onclick",this._doOnClick,!1),document.body.detachEvent("onunload",this._doOnUnload,!1));this.clear();this._doOnKeyUp=this._doOnUnload=this._doOnClick=null;null!=this.conf.toolbarEvent&&
null!=this.conf.toolbar&&(null!=this.conf.toolbar.detachEvent?this.conf.toolbar.detachEvent(this.conf.toolbarEvent):this.conf.toolbar.getItemDim=null);this.detachAllEvents();this._clearClick=this._lastId=this._posData=this.skinParams=this.skinParent=this.tpl=this.idd=this.uid=this.itemData=this.separator=this.skin=this.mode=this.show=this.hide=this.isVisible=this.setTemplate=this._repaint=this._setPos=this.getItemData=this.clear=this._idExists=this._doOnToolbarClick=this.setSkin=this.skinDetect=this.attachList=
this.attachAccordion=this.attachCalendar=this.attachForm=this.attachGrid=this.attachLayout=this.attachTabbar=this.attachTree=this.attachHTML=this.attachObject=this._attachNode=this.attachEvent=this.detachEvent=this.callEvent=this.checkEvent=this.detachAllEvents=this.eventCatcher=null;this.p.onclick=null;this.p.parentNode.removeChild(this.p);this.p=null;b=this.unload=this._IEDisp=this._IEHover=this._IEHoverTM=this._IEHoverInit=this._IEHoverClear=this._IEHoverRender=this._IEHoverInited=this.conf=this.conf.toolbar=
this.conf.toolbarEvent=this.conf.form=this.conf.id=null};dhtmlxEventable(this);this._doOnClick=function(a){a=a||event;if(b._clearClick)b._clearClick=!1;else{if(null!=b.conf.form){var c,f=a.target||a.srcElement;"option"==(f.tagName||"").toLowerCase()&&(f=f.parentNode);if(null!=f.className&&0<=f.className.search("dhxform"))null!=f.parentNode&&null!=f.parentNode.parentNode&&null!=f.parentNode.parentNode._idd&&(c=f.parentNode.parentNode._idd,"ra"==f.parentNode.parentNode._type&&(c=[f.parentNode.parentNode._group,
f.parentNode.parentNode._value]));else{for(var g=!0,k=!1;g&&!k;)k="dhxform_btn"==(f.className||"").toLowerCase()||0<=(f.className||"").search(/dhxeditor_inside/gi),f=f.parentNode,g=null!=f;if(k)return}if(null!=c&&b._idExists(c))return}b.isVisible()&&!0===b.callEvent("onBeforeHide",["click",a])&&b.hide()}};this._doOnKeyUp=function(a){a=a||event;27==a.keyCode&&b.isVisible()&&!0===b.callEvent("onBeforeHide",["esc",a])&&b.hide()};this._doOnUnload=function(){b.unload()};window.addEventListener?(window.addEventListener("click",
this._doOnClick,!1),window.addEventListener("keyup",this._doOnKeyUp,!1),window.addEventListener("unload",this._doOnUnload,!1)):(document.body.attachEvent("onclick",this._doOnClick,!1),document.body.attachEvent("onkeyup",this._doOnKeyUp,!1),document.body.attachEvent("onunload",this._doOnUnload,!1));this._idExists=function(a){for(var b=!1,c=0;c<this.conf.id.length;c++)b=this.conf.id[c]instanceof Array?b||this.conf.id[c][0]==a[0]&&this.conf.id[c][1]==a[1]:b||this.conf.id[c]==a;return b};this._IEDisp=
_isIE&&(0<=navigator.userAgent.search("MSIE 6.0")||"CSS1Compat"!=document.compatMode);if(this._IEHover=_isIE&&0<=navigator.userAgent.search("MSIE 6.0"))this._IEHoverInit=function(){this.p.onmouseover=function(){for(var a=event.srcElement;a!=this&&!0!=a._IEHover;)a=a.parentNode;a._IEHover&&(b._IEHoverTM&&window.clearTimeout(b._IEHoverTM),b._lastIEHover!=a&&b._IEHoverRender(a))};this.p.onmouseout=function(){b._IEHoverTM&&window.clearTimeout(b._IEHoverTM);b._IEHoverTM=window.setTimeout(function(){b._IEHoverRender(null)},
1)};this._IEHoverRender=function(a){null!=this._lastIEHover&&0<=this._lastIEHover.className.search(/tr_hover/gi)&&(this._lastIEHover.className=this._lastIEHover.className.replace(/\s{0,}tr_hover/gi,""),this._lastIEHover=null);null!=a&&0>a.className.search(/tr_hover/gi)&&(a.className+=" tr_hover",b._lastIEHover=a)};this._IEHoverInited=!0},this._IEHoverClear=function(){this.p.onmouseover=null;this.p.onmouseout=null;this._IEHoverInited=!1};this._IEFirstLast=_isIE&&0<=navigator.userAgent.search(/MSIE [6,7,8]\.0/i);
"undefined"!=typeof dhtmlXToolbarObject&&null!=this.conf.toolbar&&this.conf.toolbar instanceof dhtmlXToolbarObject&&null!=this.conf.id&&(this.conf.id instanceof Array||(this.conf.id=[this.conf.id]),this.skinParent=this.conf.toolbar.skin,this._doOnToolbarClick=function(a){for(var c=0;c<b.conf.id.length;c++)a==b.conf.id[c]&&a!=b._lastId&&(b.show(a),b._clearClick=!0)},"undefined"==typeof dhtmlXToolbarObject.prototype.getItemDim&&(dhtmlXToolbarObject.prototype.getItemDim=function(a){a=this.objPull[this.idPrefix+
a];return{left:getAbsoluteLeft(a.obj),top:getAbsoluteTop(a.obj),width:a.obj.offsetWidth+(a.arw?a.arw.offsetWidth:0),height:a.obj.offsetHeight}}),this.conf.toolbarEvent=this.conf.toolbar.attachEvent("onClick",b._doOnToolbarClick));if("undefined"!=typeof dhtmlXForm&&null!=this.conf.form&&this.conf.form instanceof dhtmlXForm&&null!=this.conf.id&&(this.conf.id instanceof Array||(this.conf.id=[this.conf.id]),this.conf.mode||(this.mode="right"),this.skinParent=this.conf.form.skin,"undefined"==typeof dhtmlXForm.prototype.getItemDim)){dhtmlXForm.prototype.getItemDim=
function(a){return this.doWithItem(a,"_getDim")};for(var c in{input:1,password:1,select:1,multiselect:1,checkbox:1,radio:1,button:1,combo:1,btn2state:1,calendar:1,colorpicker:1,editor:1})null!=dhtmlXForm.prototype.items[c]&&(dhtmlXForm.prototype.items[c]._getDim=function(a){var b=a;({ta:!0,pw:!0,se:!0,calendar:!0,colorpicker:1,editor:!0})[a._type]&&(b=a.childNodes[a._ll?1:0].childNodes[0]);({ch:!0,ra:!0,btn2state:!0})[a._type]&&(b=a.childNodes[a._ll?1:0].childNodes[1]);({bt:!0})[a._type]&&(b=a.firstChild);
({combo:!0})[a._type]&&(b=a._combo.DOMParent.firstChild);return{left:getAbsoluteLeft(b),top:getAbsoluteTop(b),width:b.offsetWidth,height:b.offsetHeight}})}this.setSkin(this.conf.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||this.skinParent||this.skinDetect()||"dhx_skyblue");return this}
function dhtmlxSlider(a,b,c,d,e,f,g,k){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(h){}a&&"object"==typeof a&&!a.nodeName&&(c=a.skin,e=a.min,f=a.max,k=a.step,d=a.vertical,g=a.value,b=a.size);if(a)a="object"!=typeof a?document.getElementById(a):a;else{var l="slider_div_"+(new Date).valueOf()+Math.random(1E3);a=document.createElement("div");a.setAttribute("id",l);for(l=document.body.lastChild;l.lastChild&&1==l.lastChild.nodeType;)l=l.lastChild;l.parentNode.insertBefore(a,l)}"object"==
typeof b&&(c=b.skin,e=b.min,f=b.max,k=b.step,d=b.vertical,g=b.value,b=b.size);this.size=b;this.vMode=d||!1;this.skin=dhtmlx.skin||c||"default";this.parent=a;this.disabled=this.isInit=!1;this.value="undefined"==g?e||0:g;this.inputPriority=!0;this.stepping=!1;this.imgURL=window.dhx_globalImgPath||dhtmlx.image_path||"";this._skinsImgs={"default":{ls:1,lz:1,rz:1,rs:1},ball:{ls:1,lz:1,rz:1,rs:1},zipper:{bg:1,lz:1,rz:1},arrow:{bg:1,ls:1,rs:1},arrowgreen:{bg:1,ls:1,rs:1},simplesilver:{lz:1,ls:1,rs:1,rz:1},
simplegray:{lz:1,ls:1,rs:1,rz:1},bar:{bg:1,ls:1,rs:1},dhx_skyblue:{bg:1}};this._def=[e-0||0,f-0||100,k-0||1,g-0||0,b-0];dhtmlxEventable(this);return this}
dhtmlxSlider.prototype.createStructure=function(){this.con&&(this.con.parentNode.removeChild(this.con),this.con=null);if(this.vMode){this._sW="height";this._sH="width";this._sL="top";this._sT="left";var a=this.imgURL+"skins/"+this.skin+"/vertical/"}else this._sW="width",this._sH="height",this._sL="left",this._sT="top",a=this.imgURL+"skins/"+this.skin+"/";this.con=document.createElement("DIV");this.con.onselectstart=function(){return!1};this.con._etype="slider";this.con.className="dhtmlxSlider"+("default"!=
this.skin?"_"+this.skin:"");this._skinsImgs[this.skin].bg&&(this.con.style.backgroundImage="url("+a+"bg.gif)");this.drag=document.createElement("DIV");this.drag._etype="drag";this.drag.className="selector";this.drag.style.backgroundImage="url("+a+"selector.gif)";var b=document.createElement("DIV");b.className="leftSide";this._skinsImgs[this.skin].ls&&(b.style.background="url("+a+"leftside_bg.gif)");this.leftZone=document.createElement("DIV");this.leftZone.className="leftZone";this._skinsImgs[this.skin].lz&&
(this.leftZone.style.background="url("+a+"leftzone_bg.gif)");var c=document.createElement("DIV");c.className="rightSide";this._skinsImgs[this.skin].rs&&(c.style.background="url("+a+"rightside_bg.gif)");this.rightZone=document.createElement("DIV");this.rightZone.className="rightZone";this._skinsImgs[this.skin].rz&&(this.rightZone.style.background="url("+a+"rightzone_bg.gif)");this.con.appendChild(b);this.con.appendChild(this.leftZone);this.con.appendChild(this.rightZone);this.con.appendChild(c);this.con.appendChild(this.drag);
this.parent.appendChild(this.con);this.parent.parentNode&&this.parent.parentNode.tagName||document.body.appendChild(this.parent);if(this.vMode){this._sW="height";this._sH="width";this._sL="top";this._sT="left";this.con.style.width=this.con.offsetHeight+"px";for(a=0;a<this.con.childNodes.length;a++)this.con.childNodes[a].style.fontSize="0",b=this.con.childNodes[a].offsetWidth,this.con.childNodes[a].style.width=this.con.childNodes[a].offsetHeight+"px",this.con.childNodes[a].style.height=b+"px",b=this.con.childNodes[a].offsetLeft,
this.con.childNodes[a].style.left=this.con.childNodes[a].offsetTop+"px",this.con.childNodes[a].style.top=b+"px";c.style.top=this.size-c.offsetHeight+"px";this.zoneSize=this.size-c.offsetHeight;this.dragLeft=this.drag.offsetTop;this.dragWidth=this.drag.offsetHeight;this.rightZone.style.height=this.zoneSize+"px"}else this.zoneSize=this.size-c.offsetWidth,this.dragLeft=this.drag.offsetLeft,this.dragWidth=this.drag.offsetWidth,this.rightZone.style.width=this.zoneSize+"px";this.con.style[this._sW]=this.size+
"px";this.con.onmousedown=this._onMouseDown;this.con.onmouseup=this.con.onmouseout=function(){clearInterval(this.that._int)};this.con.that=this;this._aCalc(this._def)};
dhtmlxSlider.prototype._aCalc=function(a){if(this.isInit)return this.shift=a[0],this.limit=a[1]-this.shift,this._mod=(a[4]-2*this.dragLeft-this.dragWidth)/this.limit,this._step=a[2],this.step=this._step*this._mod,this._xlimit=a[4]-2*this.dragLeft-this.dragWidth,this.posX||(this.posX=this._xlimit*(a[3]-this.shift)/this.limit),this._applyPos(!0),this};dhtmlxSlider.prototype.setMin=function(a){this._def[0]=a-0;this._aCalc(this._def)};dhtmlxSlider.prototype.setMax=function(a){this._def[1]=a-0;this._aCalc(this._def)};
dhtmlxSlider.prototype.setStep=function(a){this._def[2]=a-0;this._aCalc(this._def)};
dhtmlxSlider.prototype._applyPos=function(a){if(this.isInit){1!=this.step&&this.step&&(this.posX=Math.round(this.posX/this.step)*this.step);0>this.posX&&(this.posX=0);this.value<(this._def[0]||0)&&(this.value=this._def[0]||0);this.value>this._def[1]&&(this.value=this._def[1]);this.posX>this._xlimit&&(this.posX=this._xlimit);var b=this.drag.style[this._sL];this.drag.style[this._sL]=this.posX+1*this.dragLeft+"px";this.leftZone.style[this._sW]=this.posX+1*this.dragLeft+"px";this.rightZone.style[this._sL]=
this.posX+1*this.dragLeft+1+"px";this.rightZone.style[this._sW]=this.zoneSize-(this.posX+1*this.dragLeft)+"px";var c=this.getValue();this._link&&(this._linkBoth?this._link.value=c:this._link.innerHTML=c);!a&&b!=this.drag.style[this._sL]&&this.callEvent("onChange",[c,this]);this.value=this.getValue();this._dttp||this._setTooltip(c)}};dhtmlxSlider.prototype._setTooltip=function(a){this.con.title=a};dhtmlxSlider.prototype.setSkin=function(a){this.skin=a||"default";this.isInit&&this.createStructure()};
dhtmlxSlider.prototype.startDrag=function(a){if(!this._busy&&(0===a.button||1===a.button)){this.drag_mx=a.clientX;this.drag_my=a.clientY;this.drag_cx=this.posX;this.d_b_move=document.body.onmousemove;this.d_b_up=document.body.onmouseup;var b=this;document.body.onmouseup=function(a){b.stopDrag(a||event);b=null};document.body.onmousemove=function(a){b.onDrag(a||event)};this._busy=!0}};
dhtmlxSlider.prototype.onDrag=function(a){this._busy&&(this.posX=this.vMode?this.drag_cx+a.clientY-this.drag_my:this.drag_cx+a.clientX-this.drag_mx,this._applyPos())};dhtmlxSlider.prototype.stopDrag=function(){document.body.onmousemove=this.d_b_move?this.d_b_move:null;document.body.onmouseup=this.d_b_up?this.d_b_up:null;this.d_b_move=this.d_b_up=null;this._busy=!1;this.callEvent("onSlideEnd",[this.getValue()])};
dhtmlxSlider.prototype.getValue=function(){return!this._busy&&this.inputPriority?(Math.round(this.value/this._step)*this._step).toFixed(6)-0:Math.round(1E4*(Math.round(this.posX/this._mod/this._step)*this._step+1*this.shift))/1E4};dhtmlxSlider.prototype.setValue=function(a,b){isNaN(a)||(this._def[3]=this.value=a-0,this.posX=Math.round(((a||0)-this.shift)*this._mod),this._applyPos(null==b?!0:b))};
dhtmlxSlider.prototype._getActionElement=function(a){return a._etype?a:a.parentNode?this._getActionElement(a.parentNode):null};
dhtmlxSlider.prototype._onMouseDown=function(a){if(!this.that.disabled){a=a||event;var b=this.that;switch(b._getActionElement(_isIE?a.srcElement:a.target)._etype){case "slider":a=b.vMode?a.clientY-(getAbsoluteTop(b.con)-document.body.scrollTop):a.clientX-(getAbsoluteLeft(b.con)-document.body.scrollLeft);var c=b.posX;b.posX=a-b.dragLeft-b.dragWidth/2;b.direction=b.posX>c?1:-1;b.stepping?(clearInterval(b._int),b.setValue(b.value+b._step*b.direction,!1),b._int=setInterval(function(){b.setValue(b.value+
b._step*b.direction,!1)},600)):(b._busy=!0,b._applyPos(),b._busy=!1);break;case "drag":b.startDrag(a||event)}return!1}};dhtmlxSlider.prototype.setOnChangeHandler=function(a){this.attachEvent("onChange",a)};dhtmlxSlider.prototype._linkFrom=function(){this.disabled||this.setValue(parseFloat(this._link.value),!1)};
dhtmlxSlider.prototype.linkTo=function(a){this._link=a="object"!=typeof a?document.getElementById(a):a;var b=a.tagName.toString().toLowerCase();if(this._linkBoth="input"==b||"select"==b||"textarea"==b?1:0){var c=this;a.onblur=a.onkeypress=a.onchange=function(){this._nextSlider&&window.clearTimeout(this._nextSlider);this._nextSlider=window.setTimeout(function(){c._linkFrom()},500)}}this._applyPos()};
dhtmlxSlider.prototype.enableTooltip=function(a){this._dttp=!convertStringToBoolean(a);this._setTooltip(this._dttp?"":this.getValue())};dhtmlxSlider.prototype.setImagePath=function(a){this.imgURL=a};dhtmlxSlider.prototype.init=function(){this.isInit=!0;this.createStructure()};dhtmlxSlider.prototype.setInputPriority=function(a){this.inputPriority=a};dhtmlxSlider.prototype.setSteppingMode=function(a){this.stepping=a};dhtmlxSlider.prototype.disable=function(a){this.disabled=a};
(function(){dhtmlx.extend_api("dhtmlxSlider",{_init:function(a){return[a.parent,a.size,a.skin,a.vertical,a.min,a.max,a.value,a.step]},link:"linkTo"},{})})();
function dhtmlXTabBar(a,b,c){b=b||"top";dhtmlxEventable(this);this._hrefs={};this._s={};this._c={};this._s.mode=b;this._s.scrolls=!0;this._custom_height=c;this._s.line_height=(parseInt(c)||20)+3;this._s.skin_line=1;this._s.tab_margin=0;this._s.expand=0;this._s.ext_border=2;this._s._bMode="right"==b||"bottom"==b?1:0;this._s._vMode="right"==b||"left"==b?1:0;this._dx=this._s._vMode?"height":"width";this._dy=this._s._vMode?"width":"height";switch(b){case "top":this._py="top";this._px="left";this._pxc=
"right";break;case "bottom":this._py="bottom";this._px="left";this._pxc="right";break;case "right":this._py="right";this._px="top";this._pxc="bottom";break;case "left":this._py="left",this._px="top",this._pxc="bottom"}this._active=null;this._tabs={};this._content={};this._href={};this._rows=[];this._s._tabSize=150;this._styles={"default":{left:3,right:3,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},winbiscarf:{left:18,right:18,select_shift:3,select_top:2,
margin:1,offset:5},winscarf:{left:18,right:4,select_shift:3,select_top:2,margin:5,offset:5},modern:{left:5,right:5,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},silver:{left:7,right:7,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},dark_blue:{left:2,right:2,select_shift:3,select_top:2,margin:1,offset:5},glassy_blue:{left:2,right:3,select_shift:3,select_top:2,margin:1,offset:5},dhx_terrace:{left:7,right:7,select_shift:0,
select_top:0,margin:-1,offset:0,tab_color:"",data_color:"#ffffff"},dhx_black:{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5},dhx_blue:{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},dhx_skyblue:{left:3,right:3,select_shift:0,select_top:0,margin:-1,offset:5,data_color:"white",hover:!0},dhx_web:{left:3,right:3,select_shift:1,select_top:0,margin:5,offset:15,data_color:"white"}};"object"!=typeof a&&(a=document.getElementById(a));this.entBox=
a;this.entBox.className+=" dhx_tabbar_zone_"+this._s.mode;dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path);this.setStyle("default");this.__skin=!1;this._createSelf();_isIE&&this.preventIECashing(!0);return this}
dhtmlXTabBar.prototype={_get_size:function(a,b){var c=this.entBox.getAttribute(a)||this.entBox.style[a]||(window.getComputedStyle?window.getComputedStyle(this.entBox,null)[a]:this.entBox.currentStyle?this.entBox.currentStyle[a]:0);-1!=(c||"").indexOf("%")&&this.enableAutoReSize(!0,!0);c&&-1==c.indexOf("%")&&"auto"!=c||(c=b+"px");return c},setStyle:function(a){this.setSkin(a)},_getSkin:function(){return this._a},setSkin:function(a){a=a.toLowerCase();this._styles[a]||(a="default");this._a=this._styles[a];
this.skin=a;this._tabAll&&(this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin);var b=0==a.indexOf("dhx_sky"),c=0==a.indexOf("dhx_web");0!=a.indexOf("dhx_terrace")||this._custom_height||(this._s.line_height=37,this._setRowSizes());b&&(this._s.skin_line=0);c&&(this._s.line_height=29,this._s.ext_border=-1,this._s.expand=!0);if(b){this._s.line_height=26;this._setRowSizes();this._s.expand&&(this._s.tab_margin=-1);this._s.skin_line_x=!0;this._s.skin_line=-3;if(a=this._s._rendered)for(b=
0;b<a.length;b++)a[b].parentNode.removeChild(a[b]);var d=document.createElement("DIV");d.className="dhx_tabbar_lineA";this._tabAll.appendChild(d);var e=document.createElement("DIV");e.className="dhx_tabbar_lineB";this._tabAll.appendChild(e);var f=document.createElement("DIV");f.className="dhx_tabbar_lineC";this._tabAll.appendChild(f);a=document.createElement("DIV");a.className="dhx_tabbar_lineD";this._tabAll.appendChild(a);this._getCoverLine();this._s._rendered=[d,e,f,a];this._s.expand&&(this._conZone.style.borderWidth=
"0px 0px 0px 0px",this._tabZone.firstChild.style.borderWidth="0px 0px 0px 0px",f.style.borderWidth="0px 0px 0px 0px",a.style.left="0px",f.style.right="0px",d.style.borderWidth="0px 0px 0px 0px","top"==this._s.mode&&(this._lineA.style.borderWidth="1px 0px 0px 0px"),e.style.left="1px",this._s.ext_border=0);var g=function(){this._lineA.style[this._dx]="1px";var a=_isIE&&"BackCompat"==document.compatMode,b=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(a?2:0);this._lastActive&&(b=Math.max(b,
this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"]));6>b||(d.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px",d.style[this._dx]=b-2+"px",e.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px",e.style[this._dx]=b-(a?6:4)+(this._s.expand?2:0)+"px",f.style[this._dy]=parseInt(this._tabZone.style[this._dy])-3+"px",this._lineA.style[this._dx]=b-2+"px")};g.call(this);var k=this._checkScroll;this._checkScroll=function(){g.apply(this,arguments);k.apply(this,arguments)};
var h=this._scrollTo;this._scrollTo=function(){h.apply(this,arguments);g.apply(this,arguments)}}this._a.data_color&&this._conZone&&(this._conZone.style.backgroundColor=this._a.data_color);this.__skin=!0},enableAutoReSize:function(){var a=this;dhtmlxEvent(window,"resize",function(){window.setTimeout(function(){a&&a._setSizes&&a._setSizes()},1)})},_createSelf:function(){this._tabAll=document.createElement("DIV");this._tabZone=document.createElement("DIV");this._conZone=document.createElement("DIV");
this.entBox.appendChild(this._tabAll);this._tabAll.appendChild(this._tabZone);this._tabAll.appendChild(this._conZone);this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin;this._s._vMode&&(this._tabAll.className+="V");this._s._bMode&&(this._tabAll.className+="B");this._tabZone.className="dhx_tablist_zone";this._conZone.className="dhx_tabcontent_zone";this.entBox._hideBorders&&(this._conZone.style.borderLeft=this._conZone.style.borderRight=this._conZone.style.borderBottom="0px solid white");
this._a.data_color&&(this._conZone.style.backgroundColor=this._a.data_color);this._tabZone.onselectstart=function(){return!1};this._tabZone.onclick=this._onClickHandler;this._tabZone.onmouseover=this._onMouseOverHandler;this._tabZone[_isFF?"onmouseout":"onmouseleave"]=this._onMouseOutHandler;this._tabZone.tabbar=this;this._createRow()},_createRow:function(){var a=document.createElement("DIV");a.className="dhx_tabbar_row";a.tabCount=0;this._tabZone.appendChild(a);this._rows[this._rows.length]=a;this._setRowSizes()},
_removeRow:function(a){a.parentNode.removeChild(a);for(var b=[],c=0;c<this._rows.length;c++)this._rows[c]!=a&&(b[b.length]=this._rows[c]);this._rows=b},_setSizes:function(a,b){var c=["clientHeight","clientWidth"];"width"!=this._dx&&c.reverse();var d=_isIE&&"BackCompat"==document.compatMode,e=this._conZone.offsetWidth-this._conZone.clientWidth,f=b||this.entBox[c[0]]+(d?e:0),d=a||this.entBox[c[1]]+(d?e:0),c=this._rows.length*(this._s.line_height-(this._s.skin_line_x?4:2))+(this._s.skin_line_x?2:0);
this._tabZone.style[this._dy]=c+"px";this._conZone.style[this._dy]=Math.max(0,f-this._s.ext_border-c-(this._s.skin_line_x?3:0)-this._s.tab_margin)+"px";this._conZone.style[this._dx]=Math.max(0,d-(this._s.expand?0:2))+"px";this._tabZone.style[this._py]=this._s.tab_margin+"px";this._conZone.style[this._py]=c+this._s.tab_margin-this._s.skin_line+"px";this._checkScroll();(d=this.getActiveTab())&&this.cells(d).activate()},_checkScroll:function(){if(this._lineA){this._lineA.style[this._dx]="1px";var a=
this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(_isIE&&"BackCompat"==document.compatMode?2:0);this._lastActive&&(a=Math.max(a,this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"]));2<a&&(this._lineA.style[this._dx]=a-2+"px")}if(!this._s._vMode&&this._s.scrolls)for(a=0;a<this._rows.length;a++)2<this._rows[a].scrollWidth-this._rows[a].offsetWidth?this._showScroll(a):this._hideScroll(a)},_showScroll:function(a){if(!this._rows[a]._scroll){this.callEvent("onBeforeShowScroll",
[a]);var b=this._rows[a]._scroll=[],c=Math.max(0,this._s.line_height-23);b[0]=document.createElement("DIV");b[0].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_left.gif); width:20px; height:21px;position:absolute;left:0px;z-index:990;top:"+c+"px;";b[0].className="dhx_tab_scroll_left";this._rows[a].appendChild(b[0]);b[1]=document.createElement("DIV");b[1].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_right.gif); width:20px; height:21px;position:absolute;right:0px;z-index:990;top:"+
c+"px;";b[1].className="dhx_tab_scroll_right";this._rows[a].appendChild(b[1])}},_hideScroll:function(a){this._rows[a]._scroll&&this.callEvent("onBeforeHideScroll",[a]);this._rows[a]._scroll&&(this._rows[a].removeChild(this._rows[a]._scroll[0]),this._rows[a].removeChild(this._rows[a]._scroll[1]),this._rows[a]._scroll=null)},_setRowSizes:function(){for(var a=0;a<this._rows.length;a++)this._rows[a].style[this._dy]=this._s.line_height+"px",this._rows[a].style[this._py]=a*(this._s.line_height-(this._s.skin_line_x?
4:2))-0+"px",this._rows[a].style.zIndex=10+a;this._setSizes()},_setTabSizes:function(a){for(var b=this._a.offset,c=this._s.align?this._pxc:this._px,d=0;d<a.tabCount;d++){var e=a.childNodes[d];"none"!=e.style.display&&(e.style[c]=b-(this._lastActive==e?this._a.select_shift:0)+"px",b+=e._size+this._a.margin)}},addTab:function(a,b,c,d,e){!this.__skin&&dhtmlx.skin&&this.setSkin(dhtmlx.skin);e=e||0;for(var f=this._rows.length;f<=e;f++)this._createRow();f=this._rows[e].tabCount;!d&&0!==d&&(d=f);b=this._createTab(a,
b,"*"==c?10:c||this._s._tabSize);this._addTab(this._rows[e],b,c,d);this._tabs[a]=b;this.cells(a).hide();this._checkScroll()},getIndex:function(a){if(a=this._tabs[a])for(var b=a.parentNode,c=0;c<b.childNodes.length;c++)if(b.childNodes[c]==a)return c;return-1},moveTab:function(a,b){var c=this._tabs[a];if(c){var d=this.getIndex(a);b=Math.min(b,c.parentNode.tabCount-1);d!=b&&(d<b&&b++,c.parentNode.childNodes[b]?c.parentNode.insertBefore(c,c.parentNode.childNodes[b]):c.parentNode.appendChild(c),this._setTabSizes(c.parentNode))}},
removeTab:function(a,b){var c=this._tabs[a];if(c){this.cells(a)._dhxContDestruct();this._content[a]&&this._content[a].parentNode&&this._content[a].parentNode.removeChild(this._content[a]);this._content[a]=null;this._goToAny(c,b);var d=c.parentNode;c.innerHTML="";d.removeChild(c);d.tabCount--;0==d.tabCount&&1<this._rows.length?this._removeRow(d):this._setTabSizes(d);delete this._tabs[a];this._lastActive==c&&(this._lastActive=null);this._setRowSizes()}},_goToAny:function(a,b){this._lastActive==a&&(b&&
this.goToNextTab()==a&&this.goToPrevTab(),this._lastActive==a)&&(this._lastActive=null)},_createTab:function(a,b,c){var d=document.createElement("DIV");d.className="dhx_tab_element dhx_tab_element_inactive";b="<span>"+b+"</span><div></div><div></div><div></div>";this._close&&(b+="<IMG style='"+this._pxc+":4px; "+this._py+("dhx_web"==this.skin?":7":":4")+"px; position:absolute;z-index:11;' src='"+this.imgUrl+this.skin+"/close.png' >");d.innerHTML=b;d.setAttribute("tab_id",a);d._size=parseInt(c);d.style[this._dx]=
parseInt(c)+"px";d.style[this._dy]=this._s.line_height+"px";d.style[this._py]=this._a.select_top+"px";d.skin=this.skin;this._a.tab_color&&(d.style.backgroundColor=this._a.tab_color);this._c[a]&&(d.childNodes[0].style.cssText=this._c[a].color);this._img_all(d);if(this._close){var e=this;d.childNodes[4].onclick=function(a){var b=this.parentNode.getAttribute("tab_id");e.callEvent("onTabClose",[b])&&e.removeTab(b,!0);(a||event).cancelBubble=!0}}return d},_img_all:function(a){var b=this._getSkin(a),c=
a._active?1:4;this._img(a.childNodes[1],c,this._px,b.left);this._img(a.childNodes[2],c+2,this._pxc,b.right);this._img(a.childNodes[3],c+1,this._px,parseInt(a.style[this._dx])-(b.left+b.right),b.left)},_get_img_pos:function(a){this._s._bMode&&7>a&&(a=Math.abs(a-6));a=-5-a*(1==this._s._vMode&&"dhx_terrace"==this.skin?245:45);return this._s._vMode?a+"px 0px":"0px "+a+"px"},_img:function(a,b,c,d,e){"undefined"!=typeof a&&(a.style.backgroundImage="url("+this.imgUrl+this.skin+"/"+this.skin+"_"+this._s.mode+
".gif)",a.style.backgroundPosition=this._get_img_pos(b),1==this._s._vMode&&"dhx_terrace"==this.skin&&(a.style.width="240px"),a.style[this._py]="0px",c&&(a.style[this._dx]=Math.max(d,0)+"px",a.style[c]=(e||0)+"px"))},_addTab:function(a,b,c,d){var e=this._a.offset;a.tabCount&&(e=a.childNodes[a.tabCount-1],e=parseInt(e.style[this._s.align?this._pxc:this._px])+parseInt(e._size)+this._a.margin);var f=a.childNodes[d];f?a.insertBefore(b,f):a.appendChild(b);a.tabCount++;"*"==c&&(b.style.whiteSpace="nowrap",
this.adjustTabSize(b));b.style[this._s.align?this._pxc:this._px]=e+"px";d!=a.tabCount-1&&this._setTabSizes(a)},adjustTabSize:function(a,b){var c=this._getSkin(c);b||(a.style.fontWeight="bold",a.childNodes[3].style[this._dx]=a.style[this._dx]="10px",b=a[this._s._vMode?"scrollHeight":"scrollWidth"]+10+(this._close?20:0),a.style.fontWeight="");a.style[this._dx]=b+"px";a._size=b;this._img_all(a)},_onMouseOverHandler:function(a){a=this.tabbar._getTabTarget(a?a.target:event.srcElement);this.tabbar._showHover(a)},
_onMouseOutHandler:function(){this.tabbar._showHover()},_showHover:function(a){if(a!=this._lastHower){if(this._lastHower&&this._lastHower!=this._lastActive){var b=this._getSkin(this._lastHower);this._lastHower.className=this._lastHower.className.replace(/[ ]*dhx_tab_hover/gi,"");b.hover?this._img_all(this._lastHower):this._img(this._lastHower.childNodes[3],5,this._px,parseInt(this._lastHower.style[this._dx])-(b.left+b.right),b.left);this._lastHower=null}if(!a||a!=this._lastActive&&!a._disabled)if(this._lastHower=
a)b=this._getSkin(a),a.className+=" dhx_tab_hover",b.hover&&(this._img(a.childNodes[1],7,this._px,b.left),this._img(a.childNodes[2],8,this._pxc,b.right)),this._img(a.childNodes[3],0,this._px,parseInt(a.style[this._dx])-(b.left+b.right),b.left)}},_getTabTarget:function(a){if(!a)return null;for(;!a.className||-1==a.className.indexOf("dhx_tab_element");){if(a.className&&-1!=a.className.indexOf("dhx_tabbar_zone"))return null;a=a.parentNode;if(!a)return null}return a},_onClickHandler:function(a){a=a?a.target:
event.srcElement;var b=this.tabbar._getTabTarget(a);if(b&&!b._disabled)this.tabbar._setTabActive(b);else if(b=null,"dhx_tab_scroll_left"==a.className?(a.parentNode.scrollLeft=Math.max(0,a.parentNode.scrollLeft-a.parentNode.offsetWidth/2),b=a,this.tabbar._setTabTop(this.tabbar._lastActive)):"dhx_tab_scroll_right"==a.className&&(a.parentNode.scrollLeft+=a.parentNode.offsetWidth/2,b=a.previousSibling,this.tabbar._setTabTop(this.tabbar._lastActive)),b&&b.parentNode&&b.parentNode.tagName){b.style.left=
b.parentNode.scrollLeft+"px";if(!_isIE||window.XMLHttpRequest)b.nextSibling.style.right=-1*b.parentNode.scrollLeft+"px";return!1}},_deactivateTab:function(){this._setTabInActive(this._lastActive);this._lastActive=null},_setTabInActive:function(a){if(!a||a!=this._lastActive)return!0;var b=this._getSkin(a),c=a.getAttribute("tab_id"),d=this._s.align?this._pxc:this._px;a.className=a.className.replace("_active","_inactive");a.style[this._py]=b.select_top+"px";a.style[d]=parseInt(a.style[d])+b.select_shift+
"px";a.style[this._dx]=a._size+"px";a._active=!1;b.tab_color&&(a.style.backgroundColor=b.tab_color);this._c[c]&&(a.childNodes[0].style.cssText=this._c[c].color);this._img_all(a);this.cells(c).hide()},_setTabActive:function(a,b){if(!a)return!0;var c=a.getAttribute("tab_id"),d=this._lastActive?this._lastActive.getAttribute("tab_id"):null,e=this._getSkin(a);b||this.callEvent("onTabClick",[c,d]);if(a==this._lastActive)return!0;if(b||this.callEvent("onSelect",[c,d]))return d=this._s.align?this._pxc:this._px,
this._setTabInActive(this._lastActive),a.className=a.className.replace("_inactive","_active"),a.style[this._py]="0px",a.style[d]=parseInt(a.style[d])-e.select_shift+"px",a.style[this._dx]=a._size+2*e.select_shift+"px",a._active=!0,e.data_color&&(a.style.backgroundColor=e.data_color),this._c[c]&&(a.childNodes[0].style.cssText=this._c[c].scolor),this._img_all(a),this._setTabTop(a),this._lastActive=a,this.cells(c).show(),this._scrollTo(a),!0},_scrollTo:function(a){this._s.scrolls&&(a.offsetLeft<a.parentNode.scrollLeft||
a.offsetLeft+a.offsetWidth>a.parentNode.scrollLeft+a.parentNode.offsetWidth)&&(a.parentNode.scrollLeft=a.offsetLeft,(a=a.parentNode._scroll)&&a[0]&&(a[0].style.left=a[0].parentNode.scrollLeft+"px",!_isIE||window.XMLHttpRequest)&&(a[1].style.right=-1*a[1].parentNode.scrollLeft+"px"))},_setTabTop:function(a){if(!a)return!1;for(var b=this._rows.length-1,c=0;c<this._rows.length;c++)if(this._rows[c]==a.parentNode){var d=this._rows[c];c!=b&&(this._rows[c]=this._rows[b],this._rows[b]=d);b=this._getCoverLine();
d.appendChild(b);b.style[this._dx]="1px";d=this._s._vMode?Math.max(this._tabZone.offsetHeight,d.scrollHeight):Math.max(this._tabZone.offsetWidth,d.scrollWidth);0<d&&(b.style[this._dx]=d+"px");a.style.zIndex=b._index++;break}this._setRowSizes()},_getCoverLine:function(){this._lineA||(this._lineA=document.createElement("div"),this._lineA.className="dhx_tablist_line",this._lineA.style[this._py]=this._s.line_height-3-(this._s.skin_line_x?1:0)+"px",this._lineA.style[this._dx]="100%",this._lineA._index=
1);this._lineA.style.zIndex=this._lineA._index++;return this._lineA},cells:function(a){if(!this._tabs[a])return null;if(!this._content[a]){var b=document.createElement("DIV");b.style.cssText="width:100%;height:100%;visibility:hidden;overflow:hidden;position:absolute;top:0px; left:0px;";b.setAttribute("tab_id",a);b.skin=this.skin;this._conZone.appendChild(b);(new dhtmlXContainer(b)).setContent(b);"dhx_web"==this.skin&&b._setPadding&&b._setPadding(1,"dhxcont_tabbar_dhx_web");b._isTabbarCell=!0;this._content[a]=
b;var c=this;b.show=function(){c._s.hide&&(this.style.display="");this.style.visibility="";this.style.zIndex="1";this.autoSize();this._activate()};b.hide=function(){c._s.hide?(this.style.visibility="",this.style.display="none"):this.style.visibility="hidden";this.style.zIndex=-1;"iframe"==c._hrfmode&&this.attachURL("javascript:false")};b.autoSize=function(){if(c._awdj||c._ahdj){var a=this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont;a.offsetWidth||(a.style.width=Math.max(0,c.entBox.offsetWidth-
2)+"px");c._ahdj&&(a.style.height="1px");var b=this._getContentDim();c._awdj&&(c.entBox.style.width=b[0]+2+"px",a.style.width=b[0]+"px");c._ahdj&&(c._tabAll.style.height=c.entBox.style.height=b[1]+c._rows.length*(c._s.line_height-2)+(c._s.expand?0:2)+2+"px",a.style.height=b[1]+"px");c._setSizes();c._setTabTop(c._lastActive)}};b._activate=function(){this._delay&&this._attachContent.apply(this,this._delay);this.activate();"iframe"!=c._hrfmode&&(this._delay=null)};b._doOnResize=function(){this.activate()};
b.activate=function(){this.adjustContent(this.parentNode,0,0,!1,0);b.updateNestedObjects()};b._doOnAttachStatusBar=b.activate;b._doOnAttachMenu=b.activate;b._doOnAttachToolbar=b.activate;b._getContentDim=function(){var a=this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont;return[a.scrollWidth,a.scrollHeight]};b._doOnFrameContentLoaded=function(){(c._awdj||c._ahdj)&&c.cells(a).autoSize();c.callEvent("onXLE",[]);c.callEvent("onTabContentLoaded",[this.getAttribute("tab_id")])};b._doOnBeforeAttachURL=
function(){c.callEvent("onXLS",[])};b.adjustContent(b.parentNode,0,0,!1,0)}return this._content[a]},forceLoad:function(a,b){this.setContentHref(a,b||this._hrefs[a]);this.cells(a)._activate()},enableAutoSize:function(a,b){this._ahdj=convertStringToBoolean(b);this._awdj=convertStringToBoolean(a)},clearAll:function(){for(var a in this._tabs)this.removeTab(a,!1);this._lineA&&(a=this._getCoverLine(),a.parentNode&&a.parentNode.removeChild(a))},enableTabCloseButton:function(a){this._close=convertStringToBoolean(a)},
preventIECashing:function(a){this.no_cashe=convertStringToBoolean(a);this.XMLLoader&&(this.XMLLoader.rSeed=this.no_cashe)},setTabActive:function(a,b){this._setTabActive(this._tabs[a],!1===b)},setTabInActive:function(){var a=this._lastActive;a&&(this._deactivateTab(),this._setTabTop(a),this._getCoverLine())},loadXMLString:function(a,b){this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,!0,this.no_cashe);this.XMLLoader.waitCall=b||0;this.XMLLoader.loadXMLString(a)},loadXML:function(a,b){this.callEvent("onXLS",
[]);this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,!0,this.no_cashe);this.XMLLoader.waitCall=b||0;this.XMLLoader.loadXML(a)},_parseXML:function(a,b,c,d,e){a.clearAll();b="";e||(e=a.XMLLoader);d=e.getXMLTopNode("tabbar");c=e.doXPath("//row",d);var f=d.getAttribute("tabstyle");f&&a.setStyle(f);a._hrfmode=d.getAttribute("hrefmode")||a._hrfmode;a._a.margin=parseInt(d.getAttribute("margin")||a._a.margin,10);if(f=d.getAttribute("align"))a._s.align="right"==f||"bottom"==f;a._a.offset=parseInt(d.getAttribute("offset")||
a._a.offset,10);(f=d.getAttribute("skinColors"))&&a.setSkinColors(f.split(",")[0],f.split(",")[1]);for(d=0;d<c.length;d++)for(var f=e.doXPath("./tab",c[d]),g=0;g<f.length;g++){var k=f[g].getAttribute("width"),h=a._getXMLContent(f[g]),l=f[g].getAttribute("id");a.addTab(l,h,k,"",d);f[g].getAttribute("selected")&&(b=l);if(a._hrfmode)a.setContentHref(l,f[g].getAttribute("href"));else for(k=0;k<f[g].childNodes.length;k++)h=f[g].childNodes[k],"content"==h.tagName&&(h.getAttribute("id")?a.setContent(l,h.getAttribute("id")):
a.setContentHTML(l,a._getXMLContent(h)))}b&&a.setTabActive(b);a.callEvent("onXLE",[])},adjustOuterSize:function(){this._setSizes()},_getXMLContent:function(a){for(var b="",c=0;c<a.childNodes.length;c++)var d=a.childNodes[c],b=b+(null===d.nodeValue?"":d.nodeValue);return b},enableContentZone:function(a){this._conZone.style.display=convertStringToBoolean(a)?"":"none";this._setSizes()},enableForceHiding:function(a){this._s.hide=convertStringToBoolean(a)},setSize:function(a,b){this.entBox.style.width=
a+"px";this.entBox.style.height=b+"px";this._setSizes()},setSkinColors:function(a,b,c){a&&(this._a.data_color=a);b&&(this._a.tab_color=b);b=document.createElement("style");b.setAttribute("type","text/css");b.setAttribute("media","screen");document.getElementsByTagName("head")[0].appendChild(b);b=document.styleSheets[document.styleSheets.length-1];b.addRule?b.addRule("#"+this.entBox.id+" .dhx_tabcontent_zone > div","background-color: "+(c||a)+";",0):b.insertRule("#"+this.entBox.id+" .dhx_tabcontent_zone > div{ background-color: "+
(c||a)+";}",0);this._conZone.style.backgroundColor=c||a},setCustomStyle:function(a,b,c,d){this._c[a]={color:";"+(b?"color:"+b+";":"")+(d||""),scolor:";"+(c?"color:"+c+";":"")+(d||"")};this._tabs[a]&&(this._tabs[a].childNodes[0].style.cssText=this._tabs[a]==this._lastActive?this._c[a].scolor:this._c[a].color)},setImagePath:function(a){this.imgUrl=a},getNext:function(a,b){b=b||"nextSibling";var c=a[b];c&&-1==c.className.indexOf("dhx_tab_element")&&(c=null);!c&&a.parentNode[b]&&(c=a.parentNode[b].childNodes[0]);
return c||a},getAllTabs:function(){var a=[],b;for(b in this._tabs)a.push(b);return a},goToNextTab:function(a){do a=this.getNext(a||this._lastActive);while(!this._setTabActive(a));return a},goToPrevTab:function(a){do a=this.getNext(a||this._lastActive,"previousSibling");while(!this._setTabActive(a));return a},disableTab:function(a){this._tabs[a]._disabled=!0;this._tabs[a].className+=" dhx_tab_element_disabled";this._tabs[a].style.color="silver"},enableTab:function(a){this._tabs[a]._disabled=!1;this._tabs[a].className&&
(this._tabs[a].className=this._tabs[a].className.replace(/dhx_tab_element_disabled/g,""));this._tabs[a].style.color=""},showTab:function(a){a=this._tabs[a];a.style.display="";this._setTabSizes(a.parentNode)},hideTab:function(a,b){var c=this._tabs[a];c.style.display="none";c==this._lastActive&&!1!==b&&this.goToNextTab();this._setTabSizes(c.parentNode)},getActiveTab:function(){return this._lastActive?this._lastActive.getAttribute("tab_id"):null},setLabel:function(a,b,c){this.getActiveTab();this._tabs[a].firstChild.innerHTML=
b;this.adjustTabSize(this._tabs[a],c);this._setTabSizes(this._tabs[a].parentNode);this._checkScroll()},getLabel:function(a){return this._tabs[a].firstChild.innerHTML},setOffset:function(a){this._a.offset=1*a},enableScroll:function(a){this._s.scrolls=convertStringToBoolean(a)},setMargin:function(a){this._a.margin=1*a},setAlign:function(a){this._s.align="bottom"==a||"right"==a},tabWindow:function(a){var b=null;this._content[a]&&(b=this.cells(a),b=(b.vs?b.vs[b.av]:this._content[a])._frame.contentWindow);
return b},setContentHTML:function(a,b){this.cells(a).attachHTMLString(b)},setContent:function(a,b){this.cells(a).attachObject(b);this.cells(a).activate()},setHrefMode:function(a){this._hrfmode=a},setContentHref:function(a,b){this._hrefs[a]=b;switch(this._hrfmode){case "iframes":this.cells(a).attachURL(b);break;case "iframe":case "iframes-on-demand":this.cells(a)._delay=["url",b,!1];break;case "ajax":var c=this.cells(a),d=this;c._delay=["urlajax",b,!0];c.attachHTMLStringA||(c.attachHTMLStringA=c.attachHTMLString,
c.attachHTMLString=function(a,b){b&&(a=d._getXMLContent(b.doXPath("//content")[0]));return this.attachHTMLStringA(a)});break;case "ajax-html":this.cells(a)._delay=["urlajax",b,!0]}this._tabs[a]==this._lastActive&&this.cells(a).show(!0)},normalize:function(a,b){function c(a,b){d[b]._size+=Infinity!=h?h-k:0;a.adjustTabSize(d[b],d[b]._size)}a=a||this._tabZone.offsetWidth;for(var d=[],e=0;e<this._rows.length;e++)for(var f=0;f<this._rows[e].tabCount;f++)d.push(this._rows[e].removeChild(this._rows[e].childNodes[0]));
this._tabZone.innerHTML="";this._rows=[];var g=this._lastActive;this._lastActive=null;this._createRow();for(var e=0,k=this._a.offset,h=Infinity,f=0;f<d.length;f++)k+d[f]._size+this._a.margin<a?(this._rows[e].appendChild(d[f]),this._rows[e].tabCount++,k+=d[f]._size+this._a.margin):(b&&k<h&&c(this,f-1),this._createRow(),f--,e++,h=k,k=this._a.offset);b&&k<h&&Infinity!=h&&c(this,f-1);for(e=0;e<this._rows.length;e++)this._setTabSizes(this._rows[e]);this._setSizes();(this._lastActive=g)&&this._setTabTop(this._lastActive)},
showInnerScroll:function(){for(var a in this._tabs){var b=dhtmlx.$customScroll;if(this.cells(a).vs){var c=this.cells(a).av;b?dhtmlx.CustomScroll.enable(this.cells(a).vs[c].dhxcont.mainCont[c]):this.cells(a).vs[c].dhxcont.mainCont[c].style.overflow="auto"}else b?dhtmlx.CustomScroll.enable(this.cells(a).dhxcont.mainCont):this.cells(a).dhxcont.mainCont.style.overflow="auto"}},getNumberOfTabs:function(){for(var a=0,b=0;b<this._rows.length;b++)a+=this._rows[b].tabCount;return a},destructor:function(){}};
window.dhtmlXContainer||(window.dhtmlXContainer=function(a){var b=this;this.obj=a;this.dhxcont=null;this.setContent=function(a){this.dhxcont=a;this.dhxcont.innerHTML="<div id='dhxMainCont' class='dhxcont_main_content'></div><div id='dhxContBlocker' class='dhxcont_content_blocker' style='display: none;'></div>";this.dhxcont.mainCont=this.dhxcont.childNodes[0];this.obj.dhxcont=this.dhxcont};this.obj._genStr=function(a){for(var b="",e=0;e<a;e++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(62*
Math.random()));return b};this.obj.setMinContentSize=function(a,b){this._minDataSizeW=a;this._minDataSizeH=b};this.obj.moveContentTo=function(a){a.updateNestedObjects()};this.obj.adjustContent=function(a,b,e,f,g){this.dhxcont.style.top=b+"px";this.dhxcont.style.left="0px";!0!=f&&(this.dhxcont.style.width=a.clientWidth+"px");var k=a.clientHeight-b;0>k&&(k=0);this.dhxcont.style.height=k+(null!=e?e:0)+"px";!0!=f&&this.dhxcont.offsetWidth>a.clientWidth&&(this.dhxcont.style.width=Math.max(0,2*a.clientWidth-
this.dhxcont.offsetWidth)+"px");this.dhxcont.offsetHeight>a.clientHeight-b&&(k=2*(a.clientHeight-b)-this.dhxcont.offsetHeight,0>k&&(k=0),this.dhxcont.style.height=k+"px");g&&!isNaN(g)&&(this.dhxcont.style.height=parseInt(this.dhxcont.style.height)-g+"px");null!=this._minDataSizeH&&parseInt(this.dhxcont.style.height)<this._minDataSizeH&&(this.dhxcont.style.height=this._minDataSizeH+"px");null!=this._minDataSizeW&&parseInt(this.dhxcont.style.width)<this._minDataSizeW&&(this.dhxcont.style.width=this._minDataSizeW+
"px");!0!=f&&(this.dhxcont.mainCont.style.width=this.dhxcont.clientWidth+"px");this.dhxcont.mainCont.style.height=this.dhxcont.clientHeight-(null!=this.menu?this.menuHidden?0:this.menuHeight:0)-(null!=this.toolbar?this.toolbarHidden?0:this.toolbarHeight:0)-(null!=this.sb?this.sbHidden?0:this.sbHeight:0)+"px"};this.obj.updateNestedObjects=function(){};this.obj.attachObject=function(a,b){"string"==typeof a&&(a=document.getElementById(a));if(b){a.style.visibility="hidden";a.style.display="";var e=a.offsetWidth,
f=a.offsetHeight}this._attachContent("obj",a);b&&this._isWindow&&(a.style.visibility="",this._adjustToContent(e,f))};this.obj.appendObject=function(a){"string"==typeof a&&(a=document.getElementById(a));this._attachContent("obj",a,!0)};this.obj.attachHTMLString=function(a){this._attachContent("str",a);a=a.match(/<script[^>]*>[^\f]*?<\/script>/g)||[];for(var b=0;b<a.length;b++){var e=a[b].replace(/<([\/]{0,1})script[^>]*>/g,"");if(window.execScript){var f=a[b].match(/<script[^>]*src\s*=\s*("|')([^"']+)("|')/);
f&&(e=dhtmlxAjax.getSync(f[2]).xmlDoc.responseText);e&&window.execScript(e)}else window.eval(e)}};this.obj.attachURL=function(a,b){this._attachContent(!0==b?"urlajax":"url",a,!1)};this.obj._attachContent=function(a,d,e){if(!0!==e)for(;0<b.dhxcont.mainCont.childNodes.length;)b.dhxcont.mainCont.removeChild(b.dhxcont.mainCont.childNodes[0]);if("url"==a)a=document.createElement("IFRAME"),a.frameBorder=0,a.border=0,a.style.width="100%",a.style.height="100%",b.dhxcont.mainCont.appendChild(a),a.src=d,this._frame=
a,this._doOnFrameContentLoaded&&this._doOnFrameContentLoaded(!0);else if("urlajax"==a){var f=this;(new dtmlXMLLoaderObject(function(){f.attachHTMLString(this.xmlDoc.responseText,this);f._doOnFrameContentLoaded&&f._doOnFrameContentLoaded(!1);this.destructor()},window)).loadXML(d);f._doOnBeforeAttachURL&&f._doOnBeforeAttachURL(!1)}else"obj"==a?(b.dhxcont._frame=null,b.dhxcont.mainCont.appendChild(d),b.dhxcont.mainCont.style.overflow=!0===e?"auto":"hidden",d.style.display=""):"str"==a&&(b.dhxcont._frame=
null,b.dhxcont.mainCont.innerHTML=d)};this.obj._dhxContDestruct=function(){}});
(function(){dhtmlx.extend_api("dhtmlXTabBar",{_init:function(a){return[a.parent,a.mode,a.height]},tabs:"tabs",skin:"setSkin",offset:"setOffset",margin:"setMargin",image_path:"setImagePath",href_mode:"setHrefMode",align:"setAlign",xml:"loadXML",close_button:"enableTabCloseButton",scroll:"enableScroll",forced:"enableForceHiding",content_zone:"enableContentZone",size_by_content:"enableAutoSize",auto_size:"enableAutoReSize"},{tabs:function(a){for(var b=0;b<a.length;b++){var c=a[b];this.addTab(c.id,c.label,
c.width,c.index,c.row);c.active&&this.setTabActive(c.id)}}})})();
function dhx_init_tabbars(){for(var a=document.getElementsByTagName("div"),b=0;b<a.length;b++)if(-1!=a[b].className.indexOf("dhtmlxTabBar")){var c=a[b],d=c.id;c.className="";for(var e=[],f=0;f<c.childNodes.length;f++)c.childNodes[f].tagName&&"!"!=c.childNodes[f].tagName&&(e[e.length]=c.childNodes[f]);var g=new dhtmlXTabBar(d,c.getAttribute("mode")||"top",c.getAttribute("tabheight")||20);window[d]=g;(k=c.getAttribute("onbeforeinit"))&&eval(k);c.getAttribute("enableForceHiding")&&g.enableForceHiding(!0);
g.setImagePath(c.getAttribute("imgpath"));var k=c.getAttribute("margin");null!=k&&(g._margin=k);if(k=c.getAttribute("align"))g._align=k;(k=c.getAttribute("hrefmode"))&&g.setHrefMode(k);k=c.getAttribute("offset");null!=k&&(g._offset=k);k=c.getAttribute("tabstyle");null!=k&&g.setStyle(k);k=c.getAttribute("select");(f=c.getAttribute("skinColors"))&&g.setSkinColors(f.split(",")[0],f.split(",")[1]);for(f=0;f<e.length;f++){d=e[f];d.parentNode.removeChild(d);g.addTab(d.id,d.getAttribute("name"),d.getAttribute("width"),
null,d.getAttribute("row"));var h=d.getAttribute("href");h?g.setContentHref(d.id,h):g.setContent(d.id,d);g._dspN||"none"!=d.style.display||(d.style.display="")}e.length&&g.setTabActive(k||e[0].id);(k=c.getAttribute("oninit"))&&eval(k)}}dhtmlxEvent(window,"load",dhx_init_tabbars);
function dhtmlXToolbarObject(a,b){var c=this;for(this.cont="object"!=typeof a?document.getElementById(a):a;0<this.cont.childNodes.length;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.dir="ltr";this.cont.innerHTML+="<div class='dhxtoolbar_hdrline_ll'></div><div class='dhxtoolbar_hdrline_rr'></div><div class='dhxtoolbar_hdrline_l'></div><div class='dhxtoolbar_hdrline_r'></div>";this.base=document.createElement("DIV");this.base.className="float_left";this.cont.appendChild(this.base);this.align=
"left";this.setAlign=function(a){this.align="right"==a?"right":"left";this.base.className="right"==a?"float_right":"float_left";this._spacer&&(this._spacer.className="dhxtoolbar_spacer "+("right"==a?" float_left":" float_right"))};this._isIE6=!1;_isIE&&(this._isIE6=null==window.XMLHttpRequest?!0:!1);if(this._isIPad=0<=navigator.userAgent.search(/iPad/gi))this.cont.ontouchstart=function(a){a=a||event;if("input"==String(a.target.tagName||"").toLowerCase())return!0;a.returnValue=!1;a.cancelBubble=!0;
return!1};this.iconSize=18;this.setIconSize=function(a){this.iconSize={18:!0,24:!0,32:!0,48:!0}[a]?a:18;this.setSkin(this.skin,!0);this.callEvent("_onIconSizeChange",[this.iconSize])};this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=0;this._improveTerraceSkin=function(){var a=[],b={buttonInput:!0,separator:!0,text:!0},c=[this.base];null!=this._spacer&&c.push(this._spacer);for(var g=0;g<c.length;g++){a[g]=[];for(var k=0;k<c[g].childNodes.length;k++)if(null!=c[g].childNodes[k].idd&&"none"!=
c[g].childNodes[k].style.display){var h=this.idPrefix+c[g].childNodes[k].idd;null!=this.objPull[h]&&this.objPull[h].obj==c[g].childNodes[k]&&a[g].push({a:h,type:this.objPull[h].type,node:this.objPull[h]["buttonSelect"==this.objPull[h].type?"arw":"obj"]})}c[g]=null}for(g=0;g<a.length;g++)for(k=0;k<a[g].length;k++){c=a[g][k];"buttonInput"==c.type&&(c.node.className=c.node.className.replace(/dhx_toolbar_btn/,"dhx_toolbar_inp"));var l=!1,m=!1;if(!b[c.type]){if(k==a[g].length-1||null!=a[g][k+1]&&b[a[g][k+
1].type])l=!0;if(0==k||0<=k-1&&null!=a[g][k-1]&&b[a[g][k-1].type])m=!0}c.node.style.borderRight=l?"1px solid #cecece":"0px solid white";c.node.style.borderTopRightRadius=c.node.style.borderBottomRightRadius=l?"5px":"0px";"buttonSelect"==c.type?(c.node.previousSibling.style.borderTopLeftRadius=c.node.previousSibling.style.borderBottomLeftRadius=m?"5px":"0px",c.node.previousSibling._br=l,c.node.previousSibling._bl=m):c.node.style.borderTopLeftRadius=c.node.style.borderBottomLeftRadius=m?"5px":"0px";
c.node._br=l;c.node._bl=m}for(g=0;g<a.length;g++){for(k=0;k<a[g].length;k++){for(h in a[g][k])a[g][k][h]=null;a[g][k]=null}a[g]=null}};this._improveTerraceButtonSelect=function(a,b){var c=this.objPull[a];!0==b?(c.obj.style.borderBottomLeftRadius=c.obj._bl?"5px":"0px",c.arw.style.borderBottomRightRadius=c.obj._br?"5px":"0px"):(c.obj.style.borderBottomLeftRadius="0px",c.arw.style.borderBottomRightRadius="0px")};this.setSkin=function(a,b){!0===b?this.cont.className=this.cont.className.replace(/dhx_toolbar_base_\d{1,}_/,
"dhx_toolbar_base_"+this.iconSize+"_"):(this.skin=a,"dhx_skyblue"==this.skin&&(this.selectPolygonOffsetTop=1),"dhx_web"==this.skin&&(this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=1),"dhx_terrace"==this.skin&&(this.selectPolygonOffsetTop=-1,this.selectPolygonOffsetLeft=0),this.cont.className="dhx_toolbar_base_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":""));for(var c in this.objPull){var g=this.objPull[c];"slider"==g.type&&(g.pen._detectLimits(),g.pen._definePos(),g.label.className="dhx_toolbar_slider_label_"+
this.skin+(this.rtl?" rtl":""));"buttonSelect"==g.type&&(g.polygon.className="dhx_toolbar_poly_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":""))}"dhx_terrace"==a&&this._improveTerraceSkin()};this.setSkin(null!=b?b:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue");this.objPull={};this.anyUsed="none";this.imagePath="";this.setIconPath=this.setIconsPath=function(a){this.imagePath=a};this._doOnLoad=function(){};this.loadXML=function(a,b){null!=b&&(this._doOnLoad=function(){b()});
this.callEvent("onXLS",[]);this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXML(a)};this.loadXMLString=function(a,b){null!=b&&(this._doOnLoad=function(){b()});this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXMLString(a)};this._xmlParser=function(){for(var a=this.getXMLTopNode("toolbar"),b="id type hidden title text enabled img imgdis action openAll renderSelect mode maxOpen width value selected length textMin textMax toolTip valueMin valueMax valueNow".split(" "),
f="id type enabled disabled action selected img text".split(" "),g=0;g<a.childNodes.length;g++)if("item"==a.childNodes[g].tagName){for(var k={},h=0;h<b.length;h++)k[b[h]]=a.childNodes[g].getAttribute(b[h]);k.items=[];k.userdata=[];for(var l=0;l<a.childNodes[g].childNodes.length;l++){if("item"==a.childNodes[g].childNodes[l].tagName&&"buttonSelect"==k.type){for(var m={},h=0;h<f.length;h++)m[f[h]]=a.childNodes[g].childNodes[l].getAttribute(f[h]);h=a.childNodes[g].childNodes[l].getElementsByTagName("itemText");
null!=h&&null!=h[0]&&(m.itemText=h[0].firstChild.nodeValue);for(var n=a.childNodes[g].childNodes[l].getElementsByTagName("userdata"),h=0;h<n.length;h++){m.userdata||(m.userdata={});var s,u;try{s=n[h].getAttribute("name")}catch(v){s=""}try{u=n[h].firstChild.nodeValue}catch(w){u=""}""!=s&&(m.userdata[s]=u)}k.items[k.items.length]=m}if("userdata"==a.childNodes[g].childNodes[l].tagName){m={};try{m.name=a.childNodes[g].childNodes[l].getAttribute("name")}catch(A){m.name=""}try{m.value=a.childNodes[g].childNodes[l].firstChild.nodeValue}catch(C){m.value=
""}k.userdata[k.userdata.length]=m}}c._addItemToStorage(k)}"dhx_terrace"==c.skin&&c._improveTerraceSkin();c.callEvent("onXLE",[]);c._doOnLoad();this.destructor()};this._addItemToStorage=function(a,b){var c=a.id||this._genStr(24),g=a.type||"";""!=g&&null!=this["_"+g+"Object"]&&("undefined"!=typeof a.openAll&&null!=a.openAll||"dhx_terrace"!=this.skin||(a.openAll=!0),this.objPull[this.idPrefix+c]=new this["_"+g+"Object"](this,c,a),this.objPull[this.idPrefix+c].type=g,this.setPosition(c,b));if(a.userdata)for(g=
0;g<a.userdata.length;g++)this.setUserData(c,a.userdata[g].name,a.userdata[g].value)};this._genStr=function(a){for(var b="",c=0;c<a;c++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(61*Math.random()));return b};this.rootTypes="button buttonSelect buttonTwoState separator label slider text buttonInput".split(" ");this.idPrefix=this._genStr(12);dhtmlxEventable(this);this._getObj=function(a,b){for(var c=null,g=0;g<a.childNodes.length;g++)null!=a.childNodes[g].tagName&&
String(a.childNodes[g].tagName).toLowerCase()==String(b).toLowerCase()&&(c=a.childNodes[g]);return c};this._addImgObj=function(a){var b=document.createElement("IMG");0<a.childNodes.length?a.insertBefore(b,a.childNodes[0]):a.appendChild(b);return b};this._setItemImage=function(a,b,c){!0==c?a.imgEn=b:a.imgDis=b;!a.state&&!0==c||a.state&&!1==c||(c=this._getObj(a.obj,"img"),null==c&&(c=this._addImgObj(a.obj)),c.src=this.imagePath+b)};this._clearItemImage=function(a,b){!0==b?a.imgEn="":a.imgDis="";if(!(!a.state&&
!0==b||a.state&&!1==b)){var c=this._getObj(a.obj,"img");null!=c&&c.parentNode.removeChild(c)}};this._setItemText=function(a,b){var c=this._getObj(a.obj,"div");null==b||0==b.length?null!=c&&c.parentNode.removeChild(c):(null==c&&(c=document.createElement("DIV"),a.obj.appendChild(c)),c.innerHTML=b)};this._getItemText=function(a){a=this._getObj(a.obj,"div");return null!=a?a.innerHTML:""};this._enableItem=function(a){if(!a.state){a.state=!0;"buttonTwoState"==this.objPull[a.id].type&&!0==this.objPull[a.id].obj.pressed?
(a.obj.className="dhx_toolbar_btn pres",a.obj.renderAs="dhx_toolbar_btn over"):(a.obj.className="dhx_toolbar_btn def",a.obj.renderAs=a.obj.className);a.arw&&(a.arw.className=String(a.obj.className).replace("btn","arw"));var b=this._getObj(a.obj,"img");""!=a.imgEn?(null==b&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgEn):null!=b&&b.parentNode.removeChild(b)}};this._disableItem=function(a){if(a.state){a.state=!1;a.obj.className="dhx_toolbar_btn "+("buttonTwoState"==this.objPull[a.id].type&&
a.obj.pressed?"pres_":"")+"dis";a.obj.renderAs="dhx_toolbar_btn def";a.arw&&(a.arw.className=String(a.obj.className).replace("btn","arw"));var b=this._getObj(a.obj,"img");""!=a.imgDis?(null==b&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgDis):null!=b&&b.parentNode.removeChild(b);null!=a.polygon&&"none"!=a.polygon.style.display&&(a.polygon.style.display="none",a.polygon._ie6cover&&(a.polygon._ie6cover.style.display="none"),"dhx_terrace"==this.skin&&this._improveTerraceButtonSelect(a.id,!0));
this.anyUsed="none"}};this.clearAll=function(){for(var a in this.objPull)this._removeItem(String(a).replace(this.idPrefix,""))};this._isWebToolbar=!0;this._doOnClick=function(){c&&c.forEachItem&&c.forEachItem(function(a){"buttonSelect"==c.objPull[c.idPrefix+a].type&&(a=c.objPull[c.idPrefix+a],!0===a.arw._skip?a.arw._skip=!1:"none"!=a.polygon.style.display&&(a.obj.renderAs="dhx_toolbar_btn def",a.obj.className=a.obj.renderAs,a.arw.className=String(a.obj.renderAs).replace("btn","arw"),c.anyUsed="none",
a.polygon.style.display="none",a.polygon._ie6cover&&(a.polygon._ie6cover.style.display="none"),"dhx_terrace"==c.skin&&c._improveTerraceButtonSelect(a.id,!0)))})};this._isIPad?document.addEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.attachEvent("onmousedown",this._doOnClick):window.addEventListener("mousedown",this._doOnClick,!1);return this}
dhtmlXToolbarObject.prototype.addSpacer=function(a){var b=this.idPrefix+a;if(null!=this._spacer){if(this._spacer.idd==a)return;if(this._spacer==this.objPull[b].obj.parentNode){for(var c=!0;c;){var d=this._spacer.childNodes[0].idd;this.base.appendChild(this._spacer.childNodes[0]);if(d==a||0==this._spacer.childNodes.length)null!=this.objPull[b].arw&&this.base.appendChild(this.objPull[b].arw),c=!1}this._spacer.idd=a;this._fixSpacer();return}if(this.base==this.objPull[b].obj.parentNode){for(var c=!0,
e=null!=this.objPull[b].arw;c;)d=this.base.childNodes.length-1,!0==e&&this.base.childNodes[d]==this.objPull[b].arw&&(c=!1),this.base.childNodes[d].idd==a&&(c=!1),c&&(0<this._spacer.childNodes.length?this._spacer.insertBefore(this.base.childNodes[d],this._spacer.childNodes[0]):this._spacer.appendChild(this.base.childNodes[d]));this._spacer.idd=a;this._fixSpacer();return}}else{b=null;for(d=0;d<this.base.childNodes.length;d++)this.base.childNodes[d]==this.objPull[this.idPrefix+a].obj&&(b=d,null!=this.objPull[this.idPrefix+
a].arw&&(b=d+1));if(null!=b){this._spacer=document.createElement("DIV");this._spacer.className="dhxtoolbar_spacer "+("right"==this.align?" float_left":" float_right");this._spacer.dir="ltr";for(this._spacer.idd=a;this.base.childNodes.length>b+1;)this._spacer.appendChild(this.base.childNodes[b+1]);this.cont.appendChild(this._spacer);this._fixSpacer()}}"dhx_terrace"==this.skin&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype.removeSpacer=function(){if(this._spacer){for(;0<this._spacer.childNodes.length;)this.base.appendChild(this._spacer.childNodes[0]);this._spacer.parentNode.removeChild(this._spacer);this._spacer=null;"dhx_terrace"==this.skin&&this._improveTerraceSkin()}};
dhtmlXToolbarObject.prototype._fixSpacer=function(){if(_isIE&&null!=this._spacer){this._spacer.style.borderLeft="1px solid #a4bed4";var a=this._spacer;window.setTimeout(function(){a.style.borderLeft="0px solid #a4bed4";a=null},1)}};
dhtmlXToolbarObject.prototype.getType=function(a){var b=this.getParentId(a);if(null!=b){var c=null;a=this.objPull[this.idPrefix+b]._listOptions[a];null!=a&&(c=null!=a.sep?"buttonSelectSeparator":"buttonSelectButton");return c}return null==this.objPull[this.idPrefix+a]?null:this.objPull[this.idPrefix+a].type};dhtmlXToolbarObject.prototype.getTypeExt=function(a){a=this.getType(a);return"buttonSelectButton"==a||"buttonSelectSeparator"==a?"buttonSelectButton"==a?"button":"separator":null};
dhtmlXToolbarObject.prototype.inArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1};dhtmlXToolbarObject.prototype.getParentId=function(a){var b=null,c;for(c in this.objPull)if(this.objPull[c]._listOptions)for(var d in this.objPull[c]._listOptions)d==a&&(b=String(c).replace(this.idPrefix,""));return b};dhtmlXToolbarObject.prototype._addItem=function(a,b){this._addItemToStorage(a,b);"dhx_terrace"==this.skin&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype.addButton=function(a,b,c,d,e){this._addItem({id:a,type:"button",text:c,img:d,imgdis:e},b)};dhtmlXToolbarObject.prototype.addText=function(a,b,c){this._addItem({id:a,type:"text",text:c},b)};
dhtmlXToolbarObject.prototype.addButtonSelect=function(a,b,c,d,e,f,g,k,h,l){for(var m=[],n=0;n<d.length;n++){var s={};d[n]instanceof Array?(s.id=d[n][0],s.type="obj"==d[n][1]?"button":"separator",s.text=d[n][2]||null,s.img=d[n][3]||null):d[n]instanceof Object&&null!=d[n]&&"undefined"!=typeof d[n].id&&"undefined"!=typeof d[n].type&&(s.id=d[n].id,s.type="obj"==d[n].type?"button":"separator",s.text=d[n].text,s.img=d[n].img);m[m.length]=s}this._addItem({id:a,type:"buttonSelect",text:c,img:e,imgdis:f,
renderSelect:g,openAll:k,items:m,maxOpen:h,mode:l},b)};dhtmlXToolbarObject.prototype.addButtonTwoState=function(a,b,c,d,e){this._addItem({id:a,type:"buttonTwoState",img:d,imgdis:e,text:c},b)};dhtmlXToolbarObject.prototype.addSeparator=function(a,b){this._addItem({id:a,type:"separator"},b)};dhtmlXToolbarObject.prototype.addSlider=function(a,b,c,d,e,f,g,k,h){this._addItem({id:a,type:"slider",length:c,valueMin:d,valueMax:e,valueNow:f,textMin:g,textMax:k,toolTip:h},b)};
dhtmlXToolbarObject.prototype.addInput=function(a,b,c,d){this._addItem({id:a,type:"buttonInput",value:c,width:d},b)};dhtmlXToolbarObject.prototype.forEachItem=function(a){for(var b in this.objPull)this.inArray(this.rootTypes,this.objPull[b].type)&&a(this.objPull[b].id.replace(this.idPrefix,""))};
(function(){for(var a="isVisible enableItem disableItem isEnabled setItemText getItemText setItemToolTip getItemToolTip getInput setItemImage setItemImageDis clearItemImage clearItemImageDis setItemState getItemState setItemToolTipTemplate getItemToolTipTemplate setValue getValue setMinValue getMinValue setMaxValue getMaxValue setWidth getWidth setMaxOpen".split(" "),b=[!1,"","",!1,"","","","","","","","","",!1,"","","",null,"",[null,null],"",[null,null],"",null],c=function(a,b){return function(c,
d,e){c=this.idPrefix+c;return null!=this.objPull[c][a]?this.objPull[c][a].call(this.objPull[c],d,e):b}},d=0;d<a.length;d++){var e=a[d];dhtmlXToolbarObject.prototype[e]=c(e,b[d])}})();dhtmlXToolbarObject.prototype.showItem=function(a){a=this.idPrefix+a;null!=this.objPull[a]&&null!=this.objPull[a].showItem&&(this.objPull[a].showItem(),"dhx_terrace"==this.skin&&this._improveTerraceSkin())};
dhtmlXToolbarObject.prototype.hideItem=function(a){a=this.idPrefix+a;null!=this.objPull[a]&&null!=this.objPull[a].hideItem&&(this.objPull[a].hideItem(),"dhx_terrace"==this.skin&&this._improveTerraceSkin())};dhtmlXToolbarObject.prototype.getPosition=function(a){return this._getPosition(a)};
dhtmlXToolbarObject.prototype._getPosition=function(a){if(null==this.objPull[this.idPrefix+a])return null;for(var b=null,c=0,d=0;d<this.base.childNodes.length;d++)null!=this.base.childNodes[d].idd&&(this.base.childNodes[d].idd==a&&(b=c),c++);if(!b&&null!=this._spacer)for(d=0;d<this._spacer.childNodes.length;d++)null!=this._spacer.childNodes[d].idd&&(this._spacer.childNodes[d].idd==a&&(b=c),c++);return b};dhtmlXToolbarObject.prototype.setPosition=function(a,b){this._setPosition(a,b)};
dhtmlXToolbarObject.prototype._setPosition=function(a,b){if(null!=this.objPull[this.idPrefix+a]){isNaN(b)&&(b=this.base.childNodes.length);0>b&&(b=0);var c=null;this._spacer&&(c=this._spacer.idd,this.removeSpacer());var d=this.objPull[this.idPrefix+a];this.base.removeChild(d.obj);d.arw&&this.base.removeChild(d.arw);var e=this._getIdByPosition(b,!0);null==e[0]?(this.base.appendChild(d.obj),d.arw&&this.base.appendChild(d.arw)):(this.base.insertBefore(d.obj,this.base.childNodes[e[1]]),d.arw&&this.base.insertBefore(d.arw,
this.base.childNodes[e[1]+1]));null!=c&&this.addSpacer(c)}};dhtmlXToolbarObject.prototype._getIdByPosition=function(a,b){for(var c=null,d=0,e=0,f=0;f<this.base.childNodes.length;f++)null!=this.base.childNodes[f].idd&&null==c&&d++==a&&(c=this.base.childNodes[f].idd),null==c&&e++;return!0==b?[c,null==c?null:e]:c};dhtmlXToolbarObject.prototype.removeItem=function(a){this._removeItem(a);"dhx_terrace"==this.skin&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype._removeItem=function(a){var b=this.getType(a);a=this.idPrefix+a;var c=this.objPull[a];"button"==b&&(c.obj._doOnMouseOver=null,c.obj._doOnMouseOut=null,c.obj._doOnMouseUp=null,c.obj._doOnMouseUpOnceAnywhere=null,c.obj.onclick=null,c.obj.onmouseover=null,c.obj.onmouseout=null,c.obj.onmouseup=null,c.obj.onmousedown=null,c.obj.onselectstart=null,c.obj.renderAs=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.state=null,c.img=null,c.imgEn=null,
c.imgDis=null,c.type=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemText=null,c.getItemText=null,c.setItemImage=null,c.clearItemImage=null,c.setItemImageDis=null,c.clearItemImageDis=null,c.setItemToolTip=null,c.getItemToolTip=null);"buttonTwoState"==b&&(c.obj._doOnMouseOver=null,c.obj._doOnMouseOut=null,c.obj.onmouseover=null,c.obj.onmouseout=null,c.obj.onmousedown=null,c.obj.onselectstart=null,c.obj.renderAs=null,c.obj.idd=null,
c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.state=null,c.img=null,c.imgEn=null,c.imgDis=null,c.type=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemText=null,c.getItemText=null,c.setItemImage=null,c.clearItemImage=null,c.setItemImageDis=null,c.clearItemImageDis=null,c.setItemToolTip=null,c.getItemToolTip=null,c.setItemState=null,c.getItemState=null);if("buttonSelect"==b){for(var d in c._listOptions)this.removeListOption(a,
d);c._listOptions=null;c.polygon._ie6cover&&(document.body.removeChild(c.polygon._ie6cover),c.polygon._ie6cover=null);c.p_tbl.removeChild(c.p_tbody);c.polygon.removeChild(c.p_tbl);c.polygon.onselectstart=null;document.body.removeChild(c.polygon);c.p_tbody=null;c.p_tbl=null;c.polygon=null;c.obj.onclick=null;c.obj.onmouseover=null;c.obj.onmouseout=null;c.obj.onmouseup=null;c.obj.onmousedown=null;c.obj.onselectstart=null;c.obj.idd=null;c.obj.iddPrefix=null;c.obj.parentNode.removeChild(c.obj);c.obj=null;
c.arw.onclick=null;c.arw.onmouseover=null;c.arw.onmouseout=null;c.arw.onmouseup=null;c.arw.onmousedown=null;c.arw.onselectstart=null;c.arw.parentNode.removeChild(c.arw);c.arw=null;c.renderSelect=null;c.state=null;c.type=null;c.id=null;c.img=null;c.imgEn=null;c.imgDis=null;c.openAll=null;c._isListButton=null;c._separatorButtonSelectObject=null;c._buttonButtonSelectObject=null;c.setWidth=null;c.enableItem=null;c.disableItem=null;c.isEnabled=null;c.showItem=null;c.hideItem=null;c.isVisible=null;c.setItemText=
null;c.getItemText=null;c.setItemImage=null;c.clearItemImage=null;c.setItemImageDis=null;c.clearItemImageDis=null;c.setItemToolTip=null;c.getItemToolTip=null;c.addListOption=null;c.removeListOption=null;c.showListOption=null;c.hideListOption=null;c.isListOptionVisible=null;c.enableListOption=null;c.disableListOption=null;c.isListOptionEnabled=null;c.setListOptionPosition=null;c.getListOptionPosition=null;c.setListOptionImage=null;c.getListOptionImage=null;c.clearListOptionImage=null;c.setListOptionText=
null;c.getListOptionText=null;c.setListOptionToolTip=null;c.getListOptionToolTip=null;c.forEachListOption=null;c.getAllListOptions=null;c.setListOptionSelected=null;c.getListOptionSelected=null}"buttonInput"==b&&(c.obj.childNodes[0].onkeydown=null,c.obj.removeChild(c.obj.childNodes[0]),c.obj.w=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.type=null,c.enableItem=null,c.disableItem=null,c.isEnabled=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setItemToolTip=
null,c.getItemToolTip=null,c.setWidth=null,c.getWidth=null,c.setValue=null,c.getValue=null,c.setItemText=null,c.getItemText=null);if("slider"==b){this._isIPad?(document.removeEventListener("touchmove",pen._doOnMouseMoveStart,!1),document.removeEventListener("touchend",pen._doOnMouseMoveEnd,!1)):_isIE?(document.body.detachEvent("onmousemove",c.pen._doOnMouseMoveStart),document.body.detachEvent("onmouseup",c.pen._doOnMouseMoveEnd)):(window.removeEventListener("mousemove",c.pen._doOnMouseMoveStart,!1),
window.removeEventListener("mouseup",c.pen._doOnMouseMoveEnd,!1));c.pen.allowMove=null;c.pen.initXY=null;c.pen.maxX=null;c.pen.minX=null;c.pen.nowX=null;c.pen.newNowX=null;c.pen.valueMax=null;c.pen.valueMin=null;c.pen.valueNow=null;c.pen._definePos=null;c.pen._detectLimits=null;c.pen._doOnMouseMoveStart=null;c.pen._doOnMouseMoveEnd=null;c.pen.onmousedown=null;c.obj.removeChild(c.pen);c.pen=null;c.label.tip=null;document.body.removeChild(c.label);c.label=null;c.obj.onselectstart=null;for(c.obj.idd=
null;0<c.obj.childNodes.length;)c.obj.removeChild(c.obj.childNodes[0]);c.obj.parentNode.removeChild(c.obj);c.obj=null;c.id=null;c.type=null;c.state=null;c.enableItem=null;c.disableItem=null;c.isEnabled=null;c.setItemToolTipTemplate=null;c.getItemToolTipTemplate=null;c.setMaxValue=null;c.setMinValue=null;c.getMaxValue=null;c.getMinValue=null;c.setValue=null;c.getValue=null;c.showItem=null;c.hideItem=null;c.isVisible=null}"separator"==b&&(c.obj.onselectstart=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),
c.obj=null,c.id=null,c.type=null,c.showItem=null,c.hideItem=null,c.isVisible=null);"text"==b&&(c.obj.onselectstart=null,c.obj.idd=null,c.obj.parentNode.removeChild(c.obj),c.obj=null,c.id=null,c.type=null,c.showItem=null,c.hideItem=null,c.isVisible=null,c.setWidth=null,c.setItemText=null,c.getItemText=null);this.objPull[this.idPrefix+a]=null;delete this.objPull[this.idPrefix+a]};
(function(){for(var a="addListOption removeListOption showListOption hideListOption isListOptionVisible enableListOption disableListOption isListOptionEnabled setListOptionPosition getListOptionPosition setListOptionText getListOptionText setListOptionToolTip getListOptionToolTip setListOptionImage getListOptionImage clearListOptionImage forEachListOption getAllListOptions setListOptionSelected getListOptionSelected".split(" "),b=function(a){return function(b,c,d,h,l,m){b=this.idPrefix+b;if(null!=
this.objPull[b])return"buttonSelect"!=this.objPull[b].type?void 0:this.objPull[b][a].call(this.objPull[b],c,d,h,l,m)}},c=0;c<a.length;c++){var d=a[c];dhtmlXToolbarObject.prototype[d]=b(d)}})();dhtmlXToolbarObject.prototype._rtlParseBtn=function(a,b){return a+b};
dhtmlXToolbarObject.prototype._separatorObject=function(a,b,c){this.id=a.idPrefix+b;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_sep";this.obj.style.display=null!=c.hidden?"none":"";this.obj.idd=String(b);this.obj.title=c.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};a._isIPad&&(this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1});a.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return""==this.obj.style.display};return this};
dhtmlXToolbarObject.prototype._textObject=function(a,b,c){this.id=a.idPrefix+b;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_text";this.obj.style.display=null!=c.hidden?"none":"";this.obj.idd=String(b);this.obj.title=c.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};a._isIPad&&(this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1});this.obj.innerHTML=c.text||"";a.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return""==this.obj.style.display};this.setItemText=function(a){this.obj.innerHTML=a};this.getItemText=function(){return this.obj.innerHTML};this.setWidth=function(a){this.obj.style.width=a+"px"};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._buttonObject=function(a,b,c){this.id=a.idPrefix+b;this.state=null!=c.enabled?!1:!0;this.imgEn=c.img||"";this.imgDis=c.imgdis||"";this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=null!=c.hidden?"none":"";this.obj.allowClick=!1;this.obj.extAction=c.action||null;this.obj.renderAs=this.obj.className;this.obj.idd=String(b);
this.obj.title=c.title||"";this.obj.pressed=!1;this.obj.innerHTML=a._rtlParseBtn(""!=this.img?"<img src='"+a.imagePath+this.img+"'>":"",null!=c.text?"<div>"+c.text+"</div>":"");var d=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};this.obj._doOnMouseOver=function(){this.allowClick=!0;!1!=d.state&&"none"==a.anyUsed&&(this.renderAs=this.className="dhx_toolbar_btn over")};
this.obj._doOnMouseOut=function(){this.allowClick=!1;!1!=d.state&&"none"==a.anyUsed&&(this.className="dhx_toolbar_btn def",this.renderAs=this.renderAs)};this.obj.onclick=function(b){if(!1!=d.state&&!1!=this.allowClick){b=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](b)}catch(c){}a&&a.callEvent&&a.callEvent("onClick",[b])}};this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(b){if(!1==d.state)return b=b||event,b.returnValue=!1,b.cancelBubble=!0,!1;if("none"==a.anyUsed)return a.anyUsed=
this.idd,this.className="dhx_toolbar_btn pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){a.anyUsed="none";this._doOnMouseOut()},!1};this.obj[a._isIPad?"ontouchend":"onmouseup"]=function(){if(!1!=d.state&&("none"==a.anyUsed||a.anyUsed==this.idd)){var b=a.anyUsed;this._doOnMouseUp();a._isIPad&&"none"!=b&&a.callEvent("onClick",[this.idd.replace(a.idPrefix,"")])}};a._isIPad&&(this.obj.ontouchmove=function(){this._doOnMouseUp()});this.obj._doOnMouseUp=
function(){a.anyUsed="none";this.className=this.renderAs;this.pressed=!1};this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp();this.onmouseover=function(){this._doOnMouseOver()};this.onmouseout=function(){this._doOnMouseOut()}};a.base.appendChild(this.obj);this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display=
"none"};this.isVisible=function(){return""==this.obj.style.display};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};
return this};
dhtmlXToolbarObject.prototype._buttonSelectObject=function(a,b,c){this.id=a.idPrefix+b;this.state=null!=c.enabled?"true"==c.enabled?!0:!1:!0;this.imgEn=c.img||"";this.imgDis=c.imgdis||"";this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"";this.mode=c.mode||"button";"select"==this.mode?(this.openAll=!0,this.renderSelect=!1,c.text&&0!=c.text.length)||(c.text="&nbsp;"):(this.openAll="true"==c.openAll||!0==c.openAll||1==c.openAll||"1"==c.openAll||"yes"==c.openAll||"on"==c.openAll,
this.renderSelect=null!=c.renderSelect?"false"==c.renderSelect||"disabled"==c.renderSelect?!1:!0:!0);this.maxOpen=isNaN(c.maxOpen?c.maxOpen:"")?null:c.maxOpen;this._maxOpenTest=function(){if(!isNaN(this.maxOpen)&&!a._sbw){var b=document.createElement("DIV");b.className="dhxtoolbar_maxopen_test";document.body.appendChild(b);var c=document.createElement("DIV");c.className="dhxtoolbar_maxopen_test2";b.appendChild(c);a._sbw=b.offsetWidth-c.offsetWidth;b.removeChild(c);document.body.removeChild(b)}};this._maxOpenTest();
this.obj=document.createElement("DIV");this.obj.allowClick=!1;this.obj.extAction=c.action||null;this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=null!=c.hidden?"none":"";this.obj.renderAs=this.obj.className;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(b);this.obj.title=c.title||"";this.callEvent=this.obj.pressed=!1;this.obj.innerHTML=a._rtlParseBtn(""!=this.img?"<img src='"+a.imagePath+this.img+"'>":"",null!=c.text?"<div>"+
c.text+"</div>":"");a.base.appendChild(this.obj);this.arw=document.createElement("DIV");this.arw.className="dhx_toolbar_arw "+(this.state?"def":"dis");this.arw.style.display=this.obj.style.display;this.arw.innerHTML="<div class='arwimg'>&nbsp;</div>";this.arw.title=this.obj.title;this.arw.onselectstart=function(a){a=a||event;a.returnValue=!1};a.base.appendChild(this.arw);var d=this;this.obj.onmouseover=function(b){"none"==a.anyUsed&&d.state&&(d.obj.renderAs="dhx_toolbar_btn over",d.obj.className=
d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"))};this.obj.onmouseout=function(){d.obj.allowClick=!1;"none"==a.anyUsed&&d.state&&(d.obj.renderAs="dhx_toolbar_btn def",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),d.callEvent=!1)};this.arw.onmouseover=this.obj.onmouseover;this.arw.onmouseout=this.obj.onmouseout;!0!=this.openAll&&(this.obj.onclick=function(b){if(d.obj.allowClick&&d.state&&"none"==a.anyUsed){b=d.obj.idd.replace(a.idPrefix,
"");if(d.obj.extAction)try{window[d.obj.extAction](b)}catch(c){}a.callEvent("onClick",[b])}},this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(b){"none"==a.anyUsed&&d.state&&(d.obj.allowClick=!0,d.obj.className="dhx_toolbar_btn pres",d.arw.className="dhx_toolbar_arw pres",d.callEvent=!0)},this.obj[a._isIPad?"ontouchend":"onmouseup"]=function(b){b=b||event;b.cancelBubble=!0;"none"==a.anyUsed&&d.state&&(d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),
a._isIPad&&d.callEvent)&&(b=d.obj.idd.replace(a.idPrefix,""),a.callEvent("onClick",[b]))});a._isIPad&&(this.obj.ontouchmove=this.obj.onmouseout);this.arw[a._isIPad?"ontouchstart":"onmousedown"]=function(b){b=b||event;var c=0===this.className.indexOf("dhx_toolbar_arw")?this:this.nextSibling;c._skip?(b=b||event,b.cancelBubble=!0):c._skip=!0;if(d.state){if(a.anyUsed==d.obj.idd)d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),a.anyUsed="none",d.polygon.style.display=
"none",d.polygon._ie6cover&&(d.polygon._ie6cover.style.display="none"),"dhx_terrace"==a.skin&&a._improveTerraceButtonSelect(d.id,!0);else{"none"!=a.anyUsed&&"buttonSelect"==a.objPull[a.idPrefix+a.anyUsed].type&&(b=a.objPull[a.idPrefix+a.anyUsed],"none"!=b.polygon.style.display&&(b.obj.renderAs="dhx_toolbar_btn def",b.obj.className=b.obj.renderAs,b.arw.className=String(d.obj.renderAs).replace("btn","arw"),b.polygon.style.display="none",b.polygon._ie6cover&&(b.polygon._ie6cover.style.display="none"),
"dhx_terrace"==a.skin&&a._improveTerraceButtonSelect(b.id,!0)));d.obj.className="dhx_toolbar_btn over";d.arw.className="dhx_toolbar_arw pres";a.anyUsed=d.obj.idd;d.polygon.style.top="0px";d.polygon.style.visibility="hidden";d.polygon.style.display="";"dhx_terrace"==a.skin&&a._improveTerraceButtonSelect(d.id,!1);d._fixMaxOpenHeight(d.maxOpen||null);a._autoDetectVisibleArea();b=getAbsoluteTop(d.obj)+d.obj.offsetHeight+a.selectPolygonOffsetTop;c=d.polygon.offsetHeight;if(b+c>a.tY2){var e=null!=d.maxOpen?
Math.floor((a.tY2-b)/22):0;1<=e?d._fixMaxOpenHeight(e):(b=getAbsoluteTop(d.obj)-c-a.selectPolygonOffsetTop,0>b&&(b=0))}d.polygon.style.top=b+"px";a.rtl?d.polygon.style.left=getAbsoluteLeft(d.obj)+d.obj.offsetWidth-d.polygon.offsetWidth+a.selectPolygonOffsetLeft+"px":(b=document.body.scrollLeft+(window.innerWidth||document.body.clientWidth),c=getAbsoluteLeft(d.obj)+a.selectPolygonOffsetLeft,c+d.polygon.offsetWidth>b&&(c=getAbsoluteLeft(d.arw)+d.arw.offsetWidth-d.polygon.offsetWidth),d.polygon.style.left=
c+"px");d.polygon.style.visibility="visible";d.polygon._ie6cover&&(d.polygon._ie6cover.style.left=d.polygon.style.left,d.polygon._ie6cover.style.top=d.polygon.style.top,d.polygon._ie6cover.style.width=d.polygon.offsetWidth+"px",d.polygon._ie6cover.style.height=d.polygon.offsetHeight+"px",d.polygon._ie6cover.style.display="")}return!1}};this.arw.onclick=function(a){a=a||event;a.cancelBubble=!0};this.arw[a._isIPad?"ontouchend":"onmouseup"]=function(a){a=a||event;a.cancelBubble=!0};!0===this.openAll&&
(this.obj.onclick=this.arw.onclick,this.obj.onmousedown=this.arw.onmousedown,this.obj.onmouseup=this.arw.onmouseup,a._isIPad)&&(this.obj.ontouchstart=this.arw.ontouchstart,this.obj.ontouchend=this.arw.ontouchend);this.obj.iddPrefix=a.idPrefix;this._listOptions={};this._fixMaxOpenHeight=function(b){var c="auto",e=!1;if(null!==b){var h=0,l;for(l in this._listOptions)h++;h>b?(this._ph=22*b,c=this._ph+"px"):e=!0}this.polygon.style.width="auto";this.polygon.style.height="auto";e||null==d.maxOpen||(this.polygon.style.width=
this.p_tbl.offsetWidth+a._sbw+"px",this.polygon.style.height=c)};this._separatorButtonSelectObject=function(a,b,c){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.className="tr_sep";this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td=document.createElement("TD");this.obj.td.colSpan="2";this.obj.td.className="td_btn_sep";this.obj.td.onselectstart=function(a){a=a||event;return a.returnValue=!1};isNaN(c)?c=d.p_tbody.childNodes.length+1:1>c&&(c=1);c>
d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[c-1]);this.obj.tr.appendChild(this.obj.td);this.obj.sep=document.createElement("DIV");this.obj.sep.className="btn_sep";this.obj.sep.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td.appendChild(this.obj.sep);d._listOptions[a]=this.obj;return this};this._buttonButtonSelectObject=function(b,c,e){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.en=
"false"==c.enabled?!1:"true"==c.disabled?!1:!0;this.obj.tr.extAction=c.action||null;this.obj.tr._selected=null!=c.selected;this.obj.tr.className="tr_btn"+(this.obj.tr.en?this.obj.tr._selected&&d.renderSelect?" tr_btn_selected":"":" tr_btn_disabled");this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.tr.idd=String(b);c.userdata&&(this.obj.userData=c.userdata);isNaN(e)?e=d.p_tbody.childNodes.length+1:1>e&&(e=1);e>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):
d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[e-1]);this.obj.td_a=document.createElement("TD");this.obj.td_a.className="td_btn_img";this.obj.td_a.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td_b=document.createElement("TD");this.obj.td_b.className="td_btn_txt";this.obj.td_b.onselectstart=function(a){a=a||event;return a.returnValue=!1};a.rtl?(this.obj.tr.appendChild(this.obj.td_b),this.obj.tr.appendChild(this.obj.td_a)):(this.obj.tr.appendChild(this.obj.td_a),this.obj.tr.appendChild(this.obj.td_b));
null!=c.img&&(this.obj.td_a.innerHTML="<img class='btn_sel_img' src='"+a.imagePath+c.img+"' border='0'>",this.obj.tr._img=c.img);this.obj.td_b.innerHTML="<div class='btn_sel_text'>"+(null!=c.text?c.text:c.itemText||"")+"</div>";this.obj.tr[a._isIPad?"ontouchstart":"onmouseover"]=function(){!this.en||this._selected&&d.renderSelect||(this.className="tr_btn tr_btn_over")};this.obj.tr.onmouseout=function(){this.en&&(this._selected&&d.renderSelect?-1==String(this.className).search("tr_btn_selected")&&
(this.className="tr_btn tr_btn_selected"):this.className="tr_btn")};this.obj.tr[a._isIPad?"ontouchend":"onclick"]=function(b){b=b||event;b.cancelBubble=!0;if(this.en){d.setListOptionSelected(this.idd.replace(a.idPrefix,""));d.obj.renderAs="dhx_toolbar_btn def";d.obj.className=d.obj.renderAs;d.arw.className=String(d.obj.renderAs).replace("btn","arw");d.polygon.style.display="none";d.polygon._ie6cover&&(d.polygon._ie6cover.style.display="none");"dhx_terrace"==a.skin&&a._improveTerraceButtonSelect(d.id,
!0);a.anyUsed="none";b=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](b)}catch(c){}a.callEvent("onClick",[b])}};d._listOptions[b]=this.obj;return this};this.polygon=document.createElement("DIV");this.polygon.dir="ltr";this.polygon.style.display="none";this.polygon.style.zIndex=101;this.polygon.className="dhx_toolbar_poly_"+a.iconSize+"_"+a.skin+(a.rtl?" rtl":"");this.polygon.onselectstart=function(a){a=a||event;a.returnValue=!1};this.polygon.onmousedown=function(a){a=
a||event;a.cancelBubble=!0};this.polygon.style.overflowY="auto";a._isIPad&&(this.polygon.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1});this.p_tbl=document.createElement("TABLE");this.p_tbl.className="buttons_cont";this.p_tbl.cellSpacing="0";this.p_tbl.cellPadding="0";this.p_tbl.border="0";this.polygon.appendChild(this.p_tbl);this.p_tbody=document.createElement("TBODY");this.p_tbl.appendChild(this.p_tbody);if(c.items)for(b=0;b<c.items.length;b++){var e="_"+(c.items[b].type||
"")+"ButtonSelectObject";"function"==typeof this[e]&&new this[e](c.items[b].id||a._genStr(24),c.items[b])}document.body.appendChild(this.polygon);a._isIE6&&(this.polygon._ie6cover=document.createElement("IFRAME"),this.polygon._ie6cover.frameBorder=0,this.polygon._ie6cover.style.position="absolute",this.polygon._ie6cover.style.border="none",this.polygon._ie6cover.style.backgroundColor="#000000",this.polygon._ie6cover.style.filter="alpha(opacity=100)",this.polygon._ie6cover.style.display="none",this.polygon._ie6cover.setAttribute("src",
"javascript:false;"),document.body.appendChild(this.polygon._ie6cover));this.setWidth=function(a){this.obj.style.width=a-this.arw.offsetWidth+"px";this.polygon.style.width=this.obj.offsetWidth+this.arw.offsetWidth-2+"px";this.p_tbl.style.width=this.polygon.style.width};this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display="";this.arw.style.display=""};this.hideItem=
function(){this.obj.style.display="none";this.arw.style.display="none"};this.isVisible=function(){return""==this.obj.style.display};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=
function(a){this.obj.title=a;this.arw.title=a};this.getItemToolTip=function(){return this.obj.title};this.addListOption=function(a,b,c,d,e){"button"!=c&&"separator"!=c||new this["_"+c+"ButtonSelectObject"](a,{id:a,type:c,text:d,img:e},b)};this.removeListOption=function(a){if(this._isListButton(a,!0)){var b=this._listOptions[a];if(null!=b.td_a&&null!=b.td_b){b.td_a.onselectstart=null;for(b.td_b.onselectstart=null;0<b.td_a.childNodes.length;)b.td_a.removeChild(b.td_a.childNodes[0]);for(;0<b.td_b.childNodes.length;)b.td_b.removeChild(b.td_b.childNodes[0]);
b.tr.onselectstart=null;b.tr.onmouseover=null;b.tr.onmouseout=null;for(b.tr.onclick=null;0<b.tr.childNodes.length;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.td_a=null;b.td_b=null}else{b.sep.onselectstart=null;b.td.onselectstart=null;for(b.tr.onselectstart=null;0<b.td.childNodes.length;)b.td.removeChild(b.td.childNodes[0]);for(;0<b.tr.childNodes.length;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.sep=null;b.td=null}b.tr=null;this._listOptions[a]=
null;try{delete this._listOptions[a]}catch(c){}}};this.showListOption=function(a){this._isListButton(a,!0)&&(this._listOptions[a].tr.style.display="")};this.hideListOption=function(a){this._isListButton(a,!0)&&(this._listOptions[a].tr.style.display="none")};this.isListOptionVisible=function(a){return this._isListButton(a,!0)?"none"!=this._listOptions[a].tr.style.display:void 0};this.enableListOption=function(b){this._isListButton(b)&&(this._listOptions[b].tr.en=!0,this._listOptions[b].tr.className=
"tr_btn"+(this._listOptions[b].tr._selected&&a.renderSelect?" tr_btn_selected":""))};this.disableListOption=function(a){this._isListButton(a)&&(this._listOptions[a].tr.en=!1,this._listOptions[a].tr.className="tr_btn tr_btn_disabled")};this.isListOptionEnabled=function(a){return this._isListButton(a)?this._listOptions[a].tr.en:void 0};this.setListOptionPosition=function(a,b){if(this._listOptions[a]&&this.getListOptionPosition(a)!=b&&!isNaN(b)){1>b&&(b=1);var c=this._listOptions[a].tr;this.p_tbody.removeChild(c);
b>this.p_tbody.childNodes.length?this.p_tbody.appendChild(c):this.p_tbody.insertBefore(c,this.p_tbody.childNodes[b-1])}};this.getListOptionPosition=function(a){var b=-1;if(!this._listOptions[a])return b;for(var c=0;c<this.p_tbody.childNodes.length;c++)this.p_tbody.childNodes[c]==this._listOptions[a].tr&&(b=c+1);return b};this.setListOptionImage=function(b,c){if(this._isListButton(b)){var d=this._listOptions[b].tr.childNodes[a.rtl?1:0];if(0<d.childNodes.length)d.childNodes[0].src=a.imagePath+c;else{var e=
document.createElement("IMG");e.className="btn_sel_img";e.src=a.imagePath+c;d.appendChild(e)}}};this.getListOptionImage=function(b){if(this._isListButton(b)){b=this._listOptions[b].tr.childNodes[a.rtl?1:0];var c=null;0<b.childNodes.length&&(c=b.childNodes[0].src);return c}};this.clearListOptionImage=function(b){if(this._isListButton(b))for(b=this._listOptions[b].tr.childNodes[a.rtl?1:0];0<b.childNodes.length;)b.removeChild(b.childNodes[0])};this.setListOptionText=function(b,c){this._isListButton(b)&&
(this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML=c)};this.getListOptionText=function(b){return this._isListButton(b)?this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML:void 0};this.setListOptionToolTip=function(a,b){this._isListButton(a)&&(this._listOptions[a].tr.title=b)};this.getListOptionToolTip=function(a){return this._isListButton(a)?this._listOptions[a].tr.title:void 0};this.forEachListOption=function(a){for(var b in this._listOptions)a(b)};this.getAllListOptions=
function(){var a=[],b;for(b in this._listOptions)a[a.length]=b;return a};this.setListOptionSelected=function(a){for(var b in this._listOptions){var c=this._listOptions[b];null!=c.td_a&&null!=c.td_b&&c.tr.en&&(b==a?(c.tr._selected=!0,c.tr.className="tr_btn"+(this.renderSelect?" tr_btn_selected":""),"select"==this.mode&&(c.tr._img?this.setItemImage(c.tr._img):this.clearItemImage(),this.setItemText(this.getListOptionText(a)))):(c.tr._selected=!1,c.tr.className="tr_btn"))}};this.getListOptionSelected=
function(){var a=null,b;for(b in this._listOptions)!0==this._listOptions[b].tr._selected&&(a=b);return a};this._isListButton=function(a,b){return null==this._listOptions[a]?!1:b||"tr_sep"!=this._listOptions[a].tr.className?!0:!1};this.setMaxOpen=function(a){this._ph=null;"number"==typeof a?(this.maxOpen=a,this._maxOpenTest()):this.maxOpen=null};c.width&&this.setWidth(c.width);"select"==this.mode&&"undefined"!=typeof c.selected&&this.setListOptionSelected(c.selected);return this};
dhtmlXToolbarObject.prototype._buttonInputObject=function(a,b,c){this.id=a.idPrefix+b;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn def";this.obj.style.display=null!=c.hidden?"none":"";this.obj.idd=String(b);this.obj.w=null!=c.width?c.width:100;this.obj.title=null!=c.title?c.title:"";this.obj.innerHTML="<input class='inp' type='text' style='-moz-user-select:text;width:"+this.obj.w+"px;'"+(null!=c.value?" value='"+c.value+"'":"")+">";var d=this;this.obj.childNodes[0].onkeydown=
function(b){b=b||event;13==b.keyCode&&a.callEvent("onEnter",[d.obj.idd,this.value])};a.base.appendChild(this.obj);this.enableItem=function(){this.obj.childNodes[0].disabled=!1};this.disableItem=function(){this.obj.childNodes[0].disabled=!0};this.isEnabled=function(){return!this.obj.childNodes[0].disabled};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return"none"!=this.obj.style.display};this.setValue=function(a){this.obj.childNodes[0].value=
a};this.getValue=function(){return this.obj.childNodes[0].value};this.setWidth=function(a){this.obj.w=a;this.obj.childNodes[0].style.width=this.obj.w+"px"};this.getWidth=function(){return this.obj.w};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};this.getInput=function(){return this.obj.firstChild};return this};
dhtmlXToolbarObject.prototype._buttonTwoStateObject=function(a,b,c){this.id=a.idPrefix+b;this.state=null!=c.enabled?!1:!0;this.imgEn=null!=c.img?c.img:"";this.imgDis=null!=c.imgdis?c.imgdis:"";this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.pressed=null!=c.selected;this.obj.extAction=c.action||null;this.obj.className="dhx_toolbar_btn "+(this.obj.pressed?"pres"+(this.state?"":"_dis"):this.state?"def":"dis");this.obj.style.display=
null!=c.hidden?"none":"";this.obj.renderAs=this.obj.className;this.obj.idd=String(b);this.obj.title=c.title||"";this.obj.pressed&&(this.obj.renderAs="dhx_toolbar_btn over");this.obj.innerHTML=a._rtlParseBtn(""!=this.img?"<img src='"+a.imagePath+this.img+"'>":"",null!=c.text?"<div>"+c.text+"</div>":"");a.base.appendChild(this.obj);var d=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};
this.obj._doOnMouseOver=function(){!1!=d.state&&"none"==a.anyUsed&&(this.renderAs=this.pressed?"dhx_toolbar_btn over":this.className="dhx_toolbar_btn over")};this.obj._doOnMouseOut=function(){!1!=d.state&&"none"==a.anyUsed&&(this.renderAs=this.pressed?"dhx_toolbar_btn def":this.className="dhx_toolbar_btn def")};this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(){if((!a.checkEvent("onBeforeStateChange")||a.callEvent("onBeforeStateChange",[this.idd.replace(a.idPrefix,""),this.pressed]))&&!1!=
d.state&&"none"==a.anyUsed){this.className=(this.pressed=!this.pressed)?"dhx_toolbar_btn pres":this.renderAs;var b=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](b,this.pressed)}catch(c){}a.callEvent("onStateChange",[b,this.pressed]);return!1}};this.setItemState=function(b,c){if(this.obj.pressed!=b&&(!0==b?(this.obj.pressed=!0,this.obj.className="dhx_toolbar_btn pres"+(this.state?"":"_dis"),this.obj.renderAs="dhx_toolbar_btn over"):(this.obj.pressed=!1,this.obj.className=
"dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.renderAs=this.obj.className),!0==c)){var d=this.obj.idd.replace(a.idPrefix,"");if(this.obj.extAction)try{window[this.obj.extAction](d,this.obj.pressed)}catch(k){}a.callEvent("onStateChange",[d,this.obj.pressed])}};this.getItemState=function(){return this.obj.pressed};this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return""==this.obj.style.display};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=
a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._sliderObject=function(a,b,c){this.id=a.idPrefix+b;this.state=null!=c.enabled?"true"==c.enabled?!0:!1:!0;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=null!=c.hidden?"none":"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(b);this.obj.len=null!=c.length?Number(c.length):50;this.obj.innerHTML="<div>"+(c.textMin||"")+"</div><div class='sl_bg_l'></div><div class='sl_bg_m' style='width:"+
this.obj.len+"px;'></div><div class='sl_bg_r'></div><div>"+(c.textMax||"")+"</div>";a.base.appendChild(this.obj);var d=this;this.pen=document.createElement("DIV");this.pen.className="sl_pen";this.obj.appendChild(this.pen);var e=this.pen;this.label=document.createElement("DIV");this.label.dir="ltr";this.label.className="dhx_toolbar_slider_label_"+a.skin+(a.rtl?"_rtl":"");this.label.style.display="none";this.label.tip=c.toolTip||"%v";document.body.appendChild(this.label);var f=this.label;this.pen.valueMin=
null!=c.valueMin?Number(c.valueMin):0;this.pen.valueMax=null!=c.valueMax?Number(c.valueMax):100;this.pen.valueMin>this.pen.valueMax&&(this.pen.valueMin=this.pen.valueMax);this.pen.valueNow=null!=c.valueNow?Number(c.valueNow):this.pen.valueMax;this.pen.valueNow>this.pen.valueMax&&(this.pen.valueNow=this.pen.valueMax);this.pen.valueNow<this.pen.valueMin&&(this.pen.valueNow=this.pen.valueMin);this.pen._detectLimits=function(){this.minX=d.obj.childNodes[1].offsetLeft-4;this.maxX=d.obj.childNodes[3].offsetLeft-
this.offsetWidth+1};this.pen._detectLimits();this.pen._definePos=function(){this.nowX=Math.round((this.valueNow-this.valueMin)*(this.maxX-this.minX)/(this.valueMax-this.valueMin)+this.minX);this.style.left=this.nowX+"px";this.newNowX=this.nowX};this.pen._definePos();this.pen.initXY=0;this.pen.allowMove=!1;this.pen[a._isIPad?"ontouchstart":"onmousedown"]=function(b){!1!=d.state&&(b=b||event,this.initXY=a._isIPad?b.touches[0].clientX:b.clientX,this.newValueNow=this.valueNow,this.allowMove=!0,this.className=
"sl_pen over",""!=f.tip)&&(f.style.visibility="hidden",f.style.display="",f.innerHTML=f.tip.replace("%v",this.valueNow),f.style.left=Math.round(getAbsoluteLeft(this)+this.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(this)-f.offsetHeight-3+"px",f.style.visibility="")};this.pen._doOnMouseMoveStart=function(b){b=b||event;if(e.allowMove){var c=a._isIPad?b.touches[0].clientX:b.clientX,d=c-e.initXY;if(!(c<getAbsoluteLeft(e)+Math.round(e.offsetWidth/2)&&e.nowX==e.minX||c>getAbsoluteLeft(e)+
Math.round(e.offsetWidth/2)&&e.nowX==e.maxX))return e.newNowX=e.nowX+d,e.newNowX<e.minX&&(e.newNowX=e.minX),e.newNowX>e.maxX&&(e.newNowX=e.maxX),e.nowX=e.newNowX,e.style.left=e.nowX+"px",e.initXY=c,e.newValueNow=Math.round((e.valueMax-e.valueMin)*(e.newNowX-e.minX)/(e.maxX-e.minX)+e.valueMin),""!=f.tip&&(f.innerHTML=f.tip.replace(/%v/gi,e.newValueNow),f.style.left=Math.round(getAbsoluteLeft(e)+e.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(e)-f.offsetHeight-3+"px"),b.cancelBubble=
!0,b.returnValue=!1}};this.pen._doOnMouseMoveEnd=function(){e.allowMove&&(e.className="sl_pen",e.allowMove=!1,e.nowX=e.newNowX,e.valueNow=e.newValueNow,""!=f.tip&&(f.style.display="none"),a.callEvent("onValueChange",[d.obj.idd.replace(a.idPrefix,""),e.valueNow]))};a._isIPad?(document.addEventListener("touchmove",e._doOnMouseMoveStart,!1),document.addEventListener("touchend",e._doOnMouseMoveEnd,!1)):_isIE?(document.body.attachEvent("onmousemove",e._doOnMouseMoveStart),document.body.attachEvent("onmouseup",
e._doOnMouseMoveEnd)):(window.addEventListener("mousemove",e._doOnMouseMoveStart,!1),window.addEventListener("mouseup",e._doOnMouseMoveEnd,!1));this.enableItem=function(){this.state||(this.state=!0,this.obj.className="dhx_toolbar_btn def")};this.disableItem=function(){this.state&&(this.state=!1,this.obj.className="dhx_toolbar_btn dis")};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=
function(){return""==this.obj.style.display};this.setValue=function(b,c){b=Number(b);b<this.pen.valueMin&&(b=this.pen.valueMin);b>this.pen.valueMax&&(b=this.pen.valueMax);this.pen.valueNow=b;this.pen._definePos();!0==c&&a.callEvent("onValueChange",[this.obj.idd.replace(a.idPrefix,""),this.pen.valueNow])};this.getValue=function(){return this.pen.valueNow};this.setMinValue=function(a,b){a=Number(a);a>this.pen.valueMax||(this.obj.childNodes[0].innerHTML=b,this.obj.childNodes[0].style.display=0<b.length?
"":"none",this.pen.valueMin=a,this.pen.valueNow<this.pen.valueMin&&(this.pen.valueNow=this.pen.valueMin),this.pen._detectLimits(),this.pen._definePos())};this.setMaxValue=function(a,b){a=Number(a);a<this.pen.valueMin||(this.obj.childNodes[4].innerHTML=b,this.obj.childNodes[4].style.display=0<b.length?"":"none",this.pen.valueMax=a,this.pen.valueNow>this.pen.valueMax&&(this.pen.valueNow=this.pen.valueMax),this.pen._detectLimits(),this.pen._definePos())};this.getMinValue=function(){return[this.pen.valueMin,
this.obj.childNodes[0].innerHTML]};this.getMaxValue=function(){return[this.pen.valueMax,this.obj.childNodes[4].innerHTML]};this.setItemToolTipTemplate=function(a){this.label.tip=a};this.getItemToolTipTemplate=function(){return this.label.tip};return this};
dhtmlXToolbarObject.prototype.unload=function(){this._isIPad?document.removeEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.detachEvent("onmousedown",this._doOnClick):window.removeEventListener("mousedown",this._doOnClick,!1);this._doOnClick=null;this.clearAll();this.objPull=null;this._xmlLoader&&(this._xmlLoader.destructor(),this._xmlLoader=null);for(;0<this.base.childNodes.length;)this.base.removeChild(this.base.childNodes[0]);this.cont.removeChild(this.base);for(this.base=null;0<
this.cont.childNodes.length;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.className="";this.cont=null;this.detachAllEvents();this.items=this.setMaxOpen=this.getUserData=this.setUserData=this.unload=this.getListOptionSelected=this.setListOptionSelected=this.getAllListOptions=this.forEachListOption=this.clearListOptionImage=this.getListOptionImage=this.setListOptionImage=this.getListOptionToolTip=this.setListOptionToolTip=this.getListOptionText=this.setListOptionText=this.getListOptionPosition=
this.setListOptionPosition=this.isListOptionEnabled=this.disableListOption=this.enableListOption=this.isListOptionVisible=this.hideListOption=this.showListOption=this.removeListOption=this.addListOption=this.removeItem=this.setPosition=this.getPosition=this.getWidth=this.setWidth=this.getMaxValue=this.setMaxValue=this.getMinValue=this.setMinValue=this.getValue=this.setValue=this.getItemToolTipTemplate=this.setItemToolTipTemplate=this.getItemState=this.setItemState=this.clearItemImageDis=this.clearItemImage=
this.setItemImageDis=this.setItemImage=this.getItemToolTip=this.setItemToolTip=this.getItemText=this.setItemText=this.isEnabled=this.disableItem=this.enableItem=this.isVisible=this.hideItem=this.showItem=this.forEachItem=this.addInput=this.addSlider=this.addSeparator=this.addButtonTwoState=this.addButtonSelect=this.addText=this.addButton=this.getParentId=this.inArray=this.getTypeExt=this.getType=this.removeSpacer=this.addSpacer=this.clearAll=this.detachAllEvents=this.detachEvent=this.eventCatcher=
this.checkEvent=this.callEvent=this.attachEvent=this.loadXMLString=this.loadXML=this.setIconPath=this.setIconsPath=this.setSkin=this.setAlign=this._removeItem=this._autoDetectVisibleArea=this._sliderObject=this._buttonTwoStateObject=this._buttonInputObject=this._buttonSelectObject=this._buttonObject=this._textObject=this._separatorObject=this._getIdByPosition=this._setPosition=this._getPosition=this._addItem=this._genStr=this._addItemToStorage=this._doOnLoad=this._xmlParser=this._disableItem=this._enableItem=
this._getItemText=this._setItemText=this._clearItemImage=this._setItemImage=this._addImgObj=this._getObj=this._sbw=this.setRTL=this._rtlParseBtn=this._rtl=this.skin=this.selectPolygonOffsetTop=this.selectPolygonOffsetLeft=this.rootTypes=this.imagePath=this.idPrefix=this.anyUsed=this.align=this._isWebToolbar=this._isIE6=this.tY2=this.tY1=this.tX2=this.tX1=null};
dhtmlXToolbarObject.prototype._autoDetectVisibleArea=function(){this.tX1=document.body.scrollLeft;this.tX2=this.tX1+(window.innerWidth||document.body.clientWidth);this.tY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop);this.tY2=this.tY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight)};
dhtmlXToolbarObject.prototype.setUserData=function(a,b,c){null!=this.objPull[this.idPrefix+a]&&(a=this.objPull[this.idPrefix+a],null==a.userData&&(a.userData={}),a.userData[b]=c)};dhtmlXToolbarObject.prototype.getUserData=function(a,b){return null==this.objPull[this.idPrefix+a]?null:null==this.objPull[this.idPrefix+a].userData?null:null==this.objPull[this.idPrefix+a].userData[b]?null:this.objPull[this.idPrefix+a].userData[b]};
dhtmlXToolbarObject.prototype._isListOptionExists=function(a,b){if(null==this.objPull[this.idPrefix+a])return!1;var c=this.objPull[this.idPrefix+a];return"buttonSelect"!=c.type?!1:null==c._listOptions[b]?!1:!0};dhtmlXToolbarObject.prototype.setListOptionUserData=function(a,b,c,d){this._isListOptionExists(a,b)&&(a=this.objPull[this.idPrefix+a]._listOptions[b],null==a.userData&&(a.userData={}),a.userData[c]=d)};
dhtmlXToolbarObject.prototype.getListOptionUserData=function(a,b,c){if(!this._isListOptionExists(a,b))return null;a=this.objPull[this.idPrefix+a]._listOptions[b];return a.userData?a.userData[c]?a.userData[c]:null:null};
(function(){dhtmlx.extend_api("dhtmlXToolbarObject",{_init:function(a){return[a.parent,a.skin]},icon_path:"setIconsPath",xml:"loadXML",items:"items",align:"setAlign",rtl:"setRTL",skin:"setSkin"},{items:function(a){for(var b=0;b<a.length;b++){var c=a[b];"button"==c.type&&this.addButton(c.id,null,c.text,c.img,c.img_disabled);"separator"==c.type&&this.addSeparator(c.id,null);"text"==c.type&&this.addText(c.id,null,c.text);"buttonSelect"==c.type&&this.addButtonSelect(c.id,null,c.text,c.options,c.img,c.img_disabled,
c.renderSelect,c.openAll,c.maxOpen);"buttonTwoState"==c.type&&this.addButtonTwoState(c.id,null,c.text,c.img,c.img_disabled);"buttonInput"==c.type&&this.addInput(c.id,null,c.text);"slider"==c.type&&this.addSlider(c.id,null,c.length,c.value_min,c.value_max,c.value_now,c.text_min,c.text_max,c.tip_template);c.width&&this.setWidth(c.id,c.width);c.disabled&&this.disableItem(c.id);c.tooltip&&this.setItemToolTip(c.id,c.tooltip);!0===c.pressed&&this.setItemState(c.id,!0)}}})})();
function xmlPointer(a){this.d=a}
xmlPointer.prototype={text:function(){return _isFF?(new XMLSerializer).serializeToString(this.d):this.d.xml},get:function(a){return this.d.getAttribute(a)},exists:function(){return!!this.d},content:function(){return this.d.firstChild?this.d.firstChild.data:""},each:function(a,b,c,d){var e=this.d.childNodes,f=new xmlPointer;if(e.length)for(d=d||0;d<e.length&&(e[d].tagName!=a||(f.d=e[d],-1!=b.apply(c,[f,d])));d++);},get_all:function(){for(var a={},b=this.d.attributes,c=0;c<b.length;c++)a[b[c].name]=
b[c].value;return a},sub:function(a){var b=this.d.childNodes,c=new xmlPointer;if(b.length)for(var d=0;d<b.length;d++)if(b[d].tagName==a)return c.d=b[d],c},up:function(){return new xmlPointer(this.d.parentNode)},set:function(a,b){this.d.setAttribute(a,b)},clone:function(){return new xmlPointer(this.d)},sub_exists:function(a){var b=this.d.childNodes;if(b.length)for(var c=0;c<b.length;c++)if(b[c].tagName==a)return!0;return!1},through:function(a,b,c,d,e){var f=this.d.childNodes;if(f.length)for(var g=
0;g<f.length;g++){if(f[g].tagName==a&&null!=f[g].getAttribute(b)&&""!=f[g].getAttribute(b)&&(!c||f[g].getAttribute(b)==c)){var k=new xmlPointer(f[g]);d.apply(e,[k,g])}k=this.d;this.d=f[g];this.through(a,b,c,d,e);this.d=k}}};
function dhtmlXTreeObject(a,b,c,d){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}this.parentObject="object"!=typeof a?document.getElementById(a):a;this.parentObject.style.overflow="hidden";this._itim_dg=!0;this.dlmtr=",";this.dropLower=!1;this.enableIEImageFix();this.xmlstate=0;this.mytype="tree";this.smcheck=!0;this.width=b;this.height=c;this.rootId=d;this.childCalc=null;this.def_line_img_y=this.def_line_img_x=this.def_img_y=this.def_img_x="18px";this._dragged=[];this._selected=
[];this.style_pointer="pointer";this._aimgs=!0;this.htmlcA=" [";this.htmlcB="]";this.lWin=window;this.mlitems=this.cMenu=0;this.iconURL="";this.dadmode=0;this.slowParse=!1;this.autoScroll=!0;this.hfMode=0;this.nodeCut=[];this.XMLloadingWarning=this.XMLsource=0;this._idpull={};this._pullSize=0;this.treeLinesOn=!0;this.tscheck=!1;this.timgen=!0;this.dpcpy=!1;this._ld_id=null;this._oie_onXLE=[];this.imPath=window.dhx_globalImgPath||"";this.checkArray="iconUncheckAll.gif iconCheckAll.gif iconCheckGray.gif iconUncheckDis.gif iconCheckDis.gif iconCheckDis.gif".split(" ");
this.radioArray="radio_off.gif radio_on.gif radio_on.gif radio_off.gif radio_on.gif radio_on.gif".split(" ");this.lineArray="line2.gif line3.gif line4.gif blank.gif blank.gif line1.gif".split(" ");this.minusArray=["minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif"];this.plusArray=["plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif"];this.imageArray=["leaf.gif","folderOpen.gif","folderClosed.gif"];this.cutImg=[0,0,0];this.cutImage="but_cut.gif";dhtmlxEventable(this);this.dragger=
new dhtmlDragAndDropObject;this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this);this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none";this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow";this.allTree=this._createSelf();this.allTree.appendChild(this.htmlNode.htmlNode);dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this);_isFF&&(this.allTree.childNodes[0].width="100%",this.allTree.childNodes[0].style.overflow="hidden");var f=this;this.allTree.onselectstart=
new Function("return false;");_isMacOS&&(this.allTree.oncontextmenu=function(a){return f._doContClick(a||window.event,!0)});this.allTree.onmousedown=function(a){return f._doContClick(a||window.event)};this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe);_isIE&&this.preventIECashing(!0);window.addEventListener&&window.addEventListener("unload",function(){try{f.destructor()}catch(a){}},!1);window.attachEvent&&window.attachEvent("onunload",function(){try{f.destructor()}catch(a){}});
this.setImagesPath=this.setImagePath;this.setIconsPath=this.setIconPath;dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path);dhtmlx.skin&&this.setSkin(dhtmlx.skin);return this}dhtmlXTreeObject.prototype.setDataMode=function(a){this._datamode=a};
dhtmlXTreeObject.prototype._doContClick=function(a,b){if(!b&&2!=a.button)return this._acMenu&&(this._acMenu.hideContextMenu?this._acMenu.hideContextMenu():this.cMenu._contextEnd()),!0;for(var c=_isIE?a.srcElement:a.target;c&&"BODY"!=c.tagName&&!c.parentObject;)c=c.parentNode;if(!c||!c.parentObject)return!0;var d=c.parentObject;this.callEvent("onRightClick",[d.id,a])||((a.srcElement||a.target).oncontextmenu=function(a){(a||event).cancelBubble=!0;return!1});if(this._acMenu=d.cMenu||this.cMenu){if(!this.callEvent("onBeforeContextMenu",
[d.id]))return!0;_isMacOS||((a.srcElement||a.target).oncontextmenu=function(a){(a||event).cancelBubble=!0;return!1});if(this._acMenu.showContextMenu){var c=window.document.documentElement,e=window.document.body,e=[c.scrollLeft||e.scrollLeft,c.scrollTop||e.scrollTop];_isIE?(c=a.clientX+e[0],e=a.clientY+e[1]):(c=a.pageX,e=a.pageY);this._acMenu.showContextMenu(c-1,e-1);this.contextID=d.id;a.cancelBubble=!0;this._acMenu._skip_hide=!0}else c.contextMenuId=d.id,c.contextMenu=this._acMenu,c.a=this._acMenu._contextStart,
c.a(c,a),c.a=null;return!1}return!0};
dhtmlXTreeObject.prototype.enableIEImageFix=function(a){a?(this._getImg=function(){var a=document.createElement("DIV");a.innerHTML="&nbsp;";a.className="dhx_bg_img_fix";return a},this._setSrc=function(a,c){a.style.backgroundImage="url("+c+")"},this._getSrc=function(a){a=a.style.backgroundImage;return a.substr(4,a.length-5).replace(/(^")|("$)/g,"")}):(this._getImg=function(a){return document.createElement(a==this.rootId?"div":"img")},this._setSrc=function(a,c){a.src=c},this._getSrc=function(a){return a.src})};
dhtmlXTreeObject.prototype.destructor=function(){for(var a in this._idpull){var b=this._idpull[a];b&&(b.parentObject=null,b.treeNod=null,b.childNodes=null,b.span=null,b.tr.nodem=null,b.tr=null,b.htmlNode.objBelong=null,b.htmlNode=null,this._idpull[a]=null)}this.parentObject.innerHTML="";this.XMLLoader&&this.XMLLoader.destructor();this.allTree.onselectstart=null;this.allTree.oncontextmenu=null;this.allTree.onmousedown=null;for(a in this)this[a]=null};function cObject(){return this}
cObject.prototype={};cObject.prototype.clone=function(){function a(){}a.prototype=this;return new a};
function dhtmlXTreeItemObject(a,b,c,d,e,f){this.scolor=this.acolor=this.htmlNode="";this.span=this.dragMove=this.dragSpan=this.tempDOMU=this.tempDOMM=this.childsCount=this.tr=0;this.closeble=1;this.childNodes=[];this.userData=new cObject;this.checkstate=0;this.treeNod=d;this.label=b;this.parentObject=c;this.actionHandler=e;this.images=[d.imageArray[0],d.imageArray[1],d.imageArray[2]];this.id=d._globalIdStorageAdd(a,this);this.htmlNode=this.treeNod.checkBoxOff?this.treeNod._createItem(1,this,f):this.treeNod._createItem(0,
this,f);this.htmlNode.objBelong=this;return this}dhtmlXTreeObject.prototype._globalIdStorageAdd=function(a,b){if(this._globalIdStorageFind(a,1,1))return a=a+"_"+(new Date).valueOf(),this._globalIdStorageAdd(a,b);this._idpull[a]=b;this._pullSize++;return a};dhtmlXTreeObject.prototype._globalIdStorageSub=function(a){this._idpull[a]&&(this._unselectItem(this._idpull[a]),this._idpull[a]=null,this._pullSize--);this._locker&&this._locker[a]&&(this._locker[a]=!1)};
dhtmlXTreeObject.prototype._globalIdStorageFind=function(a){return(a=this._idpull[a])?a:null};dhtmlXTreeObject.prototype._escape=function(a){switch(this.utfesc){case "none":return a;case "utf8":return encodeURIComponent(a);default:return escape(a)}};
dhtmlXTreeObject.prototype._drawNewTr=function(a){var b=document.createElement("tr"),c=document.createElement("td"),d=document.createElement("td");c.appendChild(document.createTextNode(" "));d.colSpan=3;d.appendChild(a);b.appendChild(c);b.appendChild(d);return b};dhtmlXTreeObject.prototype.loadXMLString=function(a,b){this.parsCount||this.callEvent("onXLS",[this,null]);this.xmlstate=1;b&&(this.XMLLoader.waitCall=b);this.XMLLoader.loadXMLString(a)};
dhtmlXTreeObject.prototype.loadXML=function(a,b){if(this._datamode&&"xml"!=this._datamode)return this["load"+this._datamode.toUpperCase()](a,b);this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe);b&&(this.XMLLoader.waitCall=b);this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype._attachChildNode=function(a,b,c,d,e,f,g,k,h,l,m){l&&l.parentObject&&(a=l.parentObject);0==a.XMLload&&this.XMLsource&&!this.XMLloadingWarning&&(a.XMLload=1,this._loadDynXML(a.id));var n=a.childsCount,s=a.childNodes;m&&m.tr.previousSibling&&(m.tr.previousSibling.previousSibling?l=m.tr.previousSibling.nodem:k=k.replace("TOP","")+",TOP");if(l){for(m=0;m<n;m++)if(s[m]==l){for(;n!=m;n--)s[1+n]=s[n];break}m++;n=m}if(k)for(var u=k.split(","),v=0;v<u.length;v++)switch(u[v]){case "TOP":0<
a.childsCount&&(l={},l.tr=a.childNodes[0].tr.previousSibling);a._has_top=!0;for(m=n;0<m;m--)s[m]=s[m-1];n=0}var w;(w=this._idpull[b])&&-1==w.span||(w=s[n]=new dhtmlXTreeItemObject(b,c,a,this,d,1),b=s[n].id,a.childsCount++);w.htmlNode||(w.label=c,w.htmlNode=this._createItem(this.checkBoxOff?1:0,w),w.htmlNode.objBelong=w);e&&(w.images[0]=e);f&&(w.images[1]=f);g&&(w.images[2]=g);c=this._drawNewTr(w.htmlNode);if(this.XMLloadingWarning||this._hAdI)w.htmlNode.parentNode.parentNode.style.display="none";
l&&l.tr&&l.tr.nextSibling?a.htmlNode.childNodes[0].insertBefore(c,l.tr.nextSibling):this.parsingOn==a.id?this.parsedArray[this.parsedArray.length]=c:a.htmlNode.childNodes[0].appendChild(c);l&&!l.span&&(l=null);this.XMLsource&&(w.XMLload=h&&0!=h?0:1);w.tr=c;c.nodem=w;0==a.itemId&&(c.childNodes[0].className="hiddenRow");(a._r_logic||this._frbtr)&&this._setSrc(w.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.imPath+this.radioArray[0]);if(k)for(u=k.split(","),v=0;v<u.length;v++)switch(u[v]){case "SELECT":this.selectItem(b,
!1);break;case "CALL":this.selectItem(b,!0);break;case "CHILD":w.XMLload=0;break;case "CHECKED":this.XMLloadingWarning?this.setCheckList+=this.dlmtr+b:this.setCheck(b,1);break;case "HCHECKED":this._setCheck(w,"unsure");break;case "OPEN":w.openMe=1}if(!this.XMLloadingWarning&&(0>this._getOpenState(a)&&!this._hAdI&&this.openItem(a.id),l&&(this._correctPlus(l),this._correctLine(l)),this._correctPlus(a),this._correctLine(a),this._correctPlus(w),2<=a.childsCount&&(this._correctPlus(s[a.childsCount-2]),
this._correctLine(s[a.childsCount-2])),2!=a.childsCount&&this._correctPlus(s[0]),this.tscheck&&this._correctCheckStates(a),this._onradh))if(1==this.xmlstate){var A=this.onXLE;this.onXLE=function(a){this._onradh(b);A&&A(a)}}else this._onradh(b);return w};dhtmlXTreeObject.prototype.insertNewItem=function(a,b,c,d,e,f,g,k,h){a=this._globalIdStorageFind(a);if(!a)return-1;b=this._attachChildNode(a,b,c,d,e,f,g,k,h);this._idpull[this.rootId].XMLload||(this._idpull[this.rootId].XMLload=1);return b};
dhtmlXTreeObject.prototype.insertNewChild=function(a,b,c,d,e,f,g,k,h){return this.insertNewItem(a,b,c,d,e,f,g,k,h)};dhtmlXTreeObject.prototype._parseXMLTree=function(a,b,c,d,e){b=new xmlPointer(e.getXMLTopNode("tree"));a._parse(b);a._p=b};
dhtmlXTreeObject.prototype._parseItem=function(a,b,c,d){var e;if(!this._srnd||this._idpull[e=a.get("id")]&&this._idpull[e].span)if(e=a.get_all(),"object"!=typeof this.waitUpdateXML||this.waitUpdateXML[e.id]){var f=[];e.select&&f.push("SELECT");e.top&&f.push("TOP");e.call&&(this.nodeAskingCall=e.id);-1==e.checked?f.push("HCHECKED"):e.checked&&f.push("CHECKED");e.open&&f.push("OPEN");this.waitUpdateXML?this._globalIdStorageFind(e.id)?d=this.updateItem(e.id,e.text,e.im0,e.im1,e.im2,e.checked,e.child):
(0==this.npl?f.push("TOP"):c=b.childNodes[this.npl],d=this._attachChildNode(b,e.id,e.text,0,e.im0,e.im1,e.im2,f.join(","),e.child,0,c),e.id=d.id,c=null):d=this._attachChildNode(b,e.id,e.text,0,e.im0,e.im1,e.im2,f.join(","),e.child,d||0,c);e.tooltip&&(d.span.parentNode.parentNode.title=e.tooltip);e.style&&(d.span.style.cssText?d.span.style.cssText+=";"+e.style:d.span.setAttribute("style",d.span.getAttribute("style")+"; "+e.style));e.radio&&(d._r_logic=!0);e.nocheckbox&&(d.span.parentNode.previousSibling.previousSibling.style.display=
"none",d.nocheckbox=!0);e.disabled&&(null!=e.checked&&this._setCheck(d,e.checked),this.disableCheckbox(d,1));d._acc=e.child||0;this.parserExtension&&this.parserExtension._parseExtension.call(this,a,e,b?b.id:0);this.setItemColor(d,e.aCol,e.sCol);"1"==e.locked&&this.lockItem(d.id,!0,!0);(e.imwidth||e.imheight)&&this.setIconSize(e.imwidth,e.imheight,d);"0"!=e.closeable&&"1"!=e.closeable||this.setItemCloseable(d,e.closeable);b="";e.topoffset&&this.setItemTopOffset(d,e.topoffset);this.slowParse&&"object"!=
typeof this.waitUpdateXML||a.sub_exists("item")&&(b=this._parse(a,e.id,1));""!=b&&(this.nodeAskingCall=b);a.each("userdata",function(b){this.setUserData(a.get("id"),b.get("name"),b.content())},this)}else this._parse(a,e.id,1);else this._addItemSRND(b.id,e,a)};
dhtmlXTreeObject.prototype._parse=function(a,b,c,d){if(this._srnd&&!this.parentObject.offsetHeight){var e=this;return window.setTimeout(function(){e._parse(a,b,c,d)},100)}if(a.exists()){this.skipLock=!0;if(!b){b=a.get("id");var f=a.get("dhx_security");f&&(dhtmlx.security_key=f);a.get("radio")&&(this.htmlNode._r_logic=!0);this.parsingOn=b;this.parsedArray=[];this.nodeAskingCall=this.setCheckList=""}var g=this._globalIdStorageFind(b);if(!g)return dhtmlxError.throwError("DataStructure","XML refers to not existing parent");
this.parsCount=this.parsCount?this.parsCount+1:1;this.XMLloadingWarning=1;this.npl=0;a.each("item",function(a){g.XMLload=1;this._parseItem(a,g,0,0);this.npl++},this,d);if(!c){a.each("userdata",function(b){this.setUserData(a.get("id"),b.get("name"),b.content())},this);g.XMLload=1;if(this.waitUpdateXML)for(this.waitUpdateXML=!1,f=g.childsCount-1;0<=f;f--)g.childNodes[f]._dmark&&this.deleteItem(g.childNodes[f].id);this._globalIdStorageFind(this.parsingOn);for(f=0;f<this.parsedArray.length;f++)g.htmlNode.childNodes[0].appendChild(this.parsedArray[f]);
this.parsedArray=[];this.lastLoadedXMLId=b;this.XMLloadingWarning=0;for(var f=this.setCheckList.split(this.dlmtr),k=0;k<f.length;k++)f[k]&&this.setCheck(f[k],1);this.XMLsource&&this.tscheck&&this.smcheck&&g.id!=this.rootId&&(0===g.checkstate?this._setSubChecked(0,g):1===g.checkstate&&this._setSubChecked(1,g));this._redrawFrom(this,null,d);a.get("order")&&"none"!=a.get("order")&&this._reorderBranch(g,a.get("order"),!0);""!=this.nodeAskingCall&&this.callEvent("onClick",[this.nodeAskingCall,this.getSelectedItemId()]);
this._branchUpdate&&this._branchUpdateNext(a)}if(1==this.parsCount){this.parsingOn=null;if(!this._edsbps||!this._edsbpsA.length){var h=this;window.setTimeout(function(){h.callEvent("onXLE",[h,b])},1);this.xmlstate=0}this.skipLock=!1}this.parsCount--;if(!c&&this.onXLE)this.onXLE(this,b);return this.nodeAskingCall}};
dhtmlXTreeObject.prototype._branchUpdateNext=function(a){a.each("item",function(a){var c=a.get("id");if(!this._idpull[c]||this._idpull[c].XMLload)this._branchUpdate++,this.smartRefreshItem(a.get("id"),a)},this);this._branchUpdate--};dhtmlXTreeObject.prototype.checkUserData=function(a,b){if(1==a.nodeType&&"userdata"==a.tagName){var c=a.getAttribute("name");c&&a.childNodes[0]&&this.setUserData(b,c,a.childNodes[0].data)}};
dhtmlXTreeObject.prototype._redrawFrom=function(a,b,c,d){if(b)e=b;else{var e=a._globalIdStorageFind(a.lastLoadedXMLId);a.lastLoadedXMLId=-1;if(!e)return 0}for(c=c?c-1:0;c<e.childsCount;c++)this._branchUpdate&&1!=this._getOpenState(e)||b&&1!=d||(e.childNodes[c].htmlNode.parentNode.parentNode.style.display=""),1==e.childNodes[c].openMe&&(this._openItem(e.childNodes[c]),e.childNodes[c].openMe=0),a._redrawFrom(a,e.childNodes[c]);e.unParsed||!e.XMLload&&this.XMLsource||(e._acc=0);a._correctLine(e);a._correctPlus(e)};
dhtmlXTreeObject.prototype._createSelf=function(){var a=document.createElement("div");a.className="containerTableStyle";a.style.width=this.width;a.style.height=this.height;this.parentObject.appendChild(a);return a};dhtmlXTreeObject.prototype._xcloseAll=function(a){if(!a.unParsed){if(this.rootId!=a.id){if(!a.htmlNode)return;for(var b=a.htmlNode.childNodes[0].childNodes,c=b.length,d=1;d<c;d++)b[d].style.display="none";this._correctPlus(a)}for(d=0;d<a.childsCount;d++)a.childNodes[d].childsCount&&this._xcloseAll(a.childNodes[d])}};
dhtmlXTreeObject.prototype._xopenAll=function(a){this._HideShow(a,2);for(var b=0;b<a.childsCount;b++)this._xopenAll(a.childNodes[b])};
dhtmlXTreeObject.prototype._correctPlus=function(a){if(a.htmlNode){var b=a.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild,c=a.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0],d=this.lineArray;if(this.XMLsource&&!a.XMLload){if(d=this.plusArray,this._setSrc(c,this.iconURL+a.images[2]),this._txtimg)return b.innerHTML="[+]"}else if(a.childsCount||a.unParsed)if(a.htmlNode.childNodes[0].childNodes[1]&&"none"!=a.htmlNode.childNodes[0].childNodes[1].style.display){if(a.wsign||
(d=this.minusArray),this._setSrc(c,this.iconURL+a.images[1]),this._txtimg)return b.innerHTML="[-]"}else{if(a.wsign||(d=this.plusArray),this._setSrc(c,this.iconURL+a.images[2]),this._txtimg)return b.innerHTML="[+]"}else this._setSrc(c,this.iconURL+a.images[0]);c=2;a.treeNod.treeLinesOn?(a.parentObject&&(c=this._getCountStatus(a.id,a.parentObject)),this._setSrc(b,this.imPath+d[c])):this._setSrc(b,this.imPath+d[3])}};
dhtmlXTreeObject.prototype._correctLine=function(a){if(a.htmlNode){var b=a.parentObject;if(b)if(0!=this._getLineStatus(a.id,b)&&this.treeLinesOn)for(b=1;b<=a.childsCount&&a.htmlNode.childNodes[0].childNodes[b];b++)a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundImage="url("+this.imPath+this.lineArray[5]+")",a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundRepeat="repeat-y";else for(b=1;b<=a.childsCount&&a.htmlNode.childNodes[0].childNodes[b];b++)a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundImage=
"",a.htmlNode.childNodes[0].childNodes[b].childNodes[0].style.backgroundRepeat=""}};dhtmlXTreeObject.prototype._getCountStatus=function(a,b){return 1>=b.childsCount?b.id==this.rootId?4:0:b.childNodes[0].id==a?b.id==this.rootId?2:1:b.childNodes[b.childsCount-1].id==a?0:1};dhtmlXTreeObject.prototype._getLineStatus=function(a,b){return b.childNodes[b.childsCount-1].id==a?0:1};
dhtmlXTreeObject.prototype._HideShow=function(a,b){if(this.XMLsource&&!a.XMLload)1!=b&&(a.XMLload=1,this._loadDynXML(a.id));else{var c=a.htmlNode.childNodes[0].childNodes,d=c.length;if(1<d){"none"==c[1].style.display&&1!=b||2==b?nodestyle="":(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0",nodestyle="none");for(var e=1;e<d;e++)c[e].style.display=nodestyle}this._correctPlus(a)}};
dhtmlXTreeObject.prototype._getOpenState=function(a){if(!a.htmlNode)return 0;a=a.htmlNode.childNodes[0].childNodes;return 1>=a.length?0:"none"!=a[1].style.display?1:-1};
dhtmlXTreeObject.prototype.onRowClick2=function(){var a=this.parentObject.treeNod;if(!a.callEvent("onDblClick",[this.parentObject.id,a]))return!1;this.parentObject.closeble&&"0"!=this.parentObject.closeble?a._HideShow(this.parentObject):a._HideShow(this.parentObject,2);a.checkEvent("onOpenEnd")&&(a.xmlstate?(a._oie_onXLE.push(a.onXLE),a.onXLE=a._epnFHe):a.callEvent("onOpenEnd",[this.parentObject.id,a._getOpenState(this.parentObject)]));return!1};
dhtmlXTreeObject.prototype.onRowClick=function(){var a=this.parentObject.treeNod;if(!a.callEvent("onOpenStart",[this.parentObject.id,a._getOpenState(this.parentObject)]))return 0;this.parentObject.closeble&&"0"!=this.parentObject.closeble?a._HideShow(this.parentObject):a._HideShow(this.parentObject,2);a.checkEvent("onOpenEnd")&&(a.xmlstate?(a._oie_onXLE.push(a.onXLE),a.onXLE=a._epnFHe):a.callEvent("onOpenEnd",[this.parentObject.id,a._getOpenState(this.parentObject)]))};
dhtmlXTreeObject.prototype._epnFHe=function(a,b,c){b!=this.rootId&&this.callEvent("onOpenEnd",[b,a.getOpenState(b)]);a.onXLE=a._oie_onXLE.pop();if(!c&&!a._oie_onXLE.length&&a.onXLE)a.onXLE(a,b)};dhtmlXTreeObject.prototype.onRowClickDown=function(a){a=a||window.event;this.parentObject.treeNod._selectItem(this.parentObject,a)};dhtmlXTreeObject.prototype.getSelectedItemId=function(){for(var a=[],b=0;b<this._selected.length;b++)a[b]=this._selected[b].id;return a.join(this.dlmtr)};
dhtmlXTreeObject.prototype._selectItem=function(a){this.checkEvent("onSelect")&&(this._onSSCFold=this.getSelectedItemId());this._unselectItems();this._markItem(a);this.checkEvent("onSelect")&&(a=this.getSelectedItemId(),a!=this._onSSCFold&&this.callEvent("onSelect",[a]))};dhtmlXTreeObject.prototype._markItem=function(a){a.scolor&&(a.span.style.color=a.scolor);a.span.className="selectedTreeRow";a.i_sel=!0;this._selected[this._selected.length]=a};
dhtmlXTreeObject.prototype.getIndexById=function(a){return(a=this._globalIdStorageFind(a))?this._getIndex(a):null};dhtmlXTreeObject.prototype._getIndex=function(a){for(var b=a.parentObject,c=0;c<b.childsCount;c++)if(b.childNodes[c]==a)return c};dhtmlXTreeObject.prototype._unselectItem=function(a){if(a&&a.i_sel)for(a.span.className="standartTreeRow",a.acolor&&(a.span.style.color=a.acolor),a.i_sel=!1,a=0;a<this._selected.length;a++)if(!this._selected[a].i_sel){this._selected.splice(a,1);break}};
dhtmlXTreeObject.prototype._unselectItems=function(){for(var a=0;a<this._selected.length;a++){var b=this._selected[a];b.span.className="standartTreeRow";b.acolor&&(b.span.style.color=b.acolor);b.i_sel=!1}this._selected=[]};dhtmlXTreeObject.prototype.onRowSelect=function(a,b,c){a=a||window.event;var d=this.parentObject;b&&(d=b.parentObject);b=d.treeNod;var e=b.getSelectedItemId();a&&a.skipUnSel||b._selectItem(d,a);c||(d.actionHandler?d.actionHandler(d.id,e):b.callEvent("onClick",[d.id,e]))};
dhtmlXTreeObject.prototype._correctCheckStates=function(a){if(this.tscheck&&a&&a.id!=this.rootId){var b=a.childNodes,c=0,d=0;if(0!=a.childsCount){for(var e=0;e<a.childsCount;e++)if(!b[e].dscheck)if(0==b[e].checkstate)c=1;else if(1==b[e].checkstate)d=1;else{d=c=1;break}c&&d?this._setCheck(a,"unsure"):c?this._setCheck(a,!1):this._setCheck(a,!0);this._correctCheckStates(a.parentObject)}}};
dhtmlXTreeObject.prototype.onCheckBoxClick=function(){if(this.treeNod.callEvent("onBeforeCheck",[this.parentObject.id,this.parentObject.checkstate])){if(this.parentObject.dscheck)return!0;this.treeNod.tscheck?1==this.parentObject.checkstate?this.treeNod._setSubChecked(!1,this.parentObject):this.treeNod._setSubChecked(!0,this.parentObject):1==this.parentObject.checkstate?this.treeNod._setCheck(this.parentObject,!1):this.treeNod._setCheck(this.parentObject,!0);this.treeNod._correctCheckStates(this.parentObject.parentObject);
return this.treeNod.callEvent("onCheck",[this.parentObject.id,this.parentObject.checkstate])}};
dhtmlXTreeObject.prototype._createItem=function(a,b,c){var d=document.createElement("table");d.cellSpacing=0;d.cellPadding=0;d.border=0;this.hfMode&&(d.style.tableLayout="fixed");d.style.margin=0;d.style.padding=0;var e=document.createElement("tbody"),f=document.createElement("tr"),g=document.createElement("td");g.className="standartTreeImage";if(this._txtimg){var k=document.createElement("div");g.appendChild(k);k.className="dhx_tree_textSign"}else k=this._getImg(b.id),k.border="0","IMG"==k.tagName&&
(k.align="absmiddle"),g.appendChild(k),k.style.padding=0,k.style.margin=0,k.style.width=this.def_line_img_x,k.style.height=this.def_line_img_y;var k=document.createElement("td"),h=this._getImg(this.cBROf?this.rootId:b.id);h.checked=0;this._setSrc(h,this.imPath+this.checkArray[0]);h.style.width="16px";h.style.height="16px";a||(k.style.display="none");k.appendChild(h);this.cBROf||"IMG"!=h.tagName||(h.align="absmiddle");h.onclick=this.onCheckBoxClick;h.treeNod=this;h.parentObject=b;k.width=window._KHTMLrv?
"16px":"20px";a=document.createElement("td");a.className="standartTreeImage";h=this._getImg(this.timgen?b.id:this.rootId);h.onmousedown=this._preventNsDrag;h.ondragstart=this._preventNsDrag;h.border="0";this._aimgs&&(h.parentObject=b,"IMG"==h.tagName&&(h.align="absmiddle"),h.onclick=this.onRowSelect);c||this._setSrc(h,this.iconURL+this.imageArray[0]);a.appendChild(h);h.style.padding=0;h.style.margin=0;this.def_img_y=this.def_img_x="22px";if(this.timgen)a.style.width=h.style.width=this.def_img_x,h.style.height=
this.def_img_y;else if(h.style.width="0px",h.style.height="0px",_isOpera||window._KHTMLrv)a.style.display="none";c=document.createElement("td");c.className="standartTreeRow";b.span=document.createElement("span");b.span.className="standartTreeRow";this.mlitems?(b.span.style.width=this.mlitems,b.span.style.display="block"):c.noWrap=!0;_isIE&&7<_isIE?c.style.width="999999px":window._KHTMLrv||(c.style.width="100%");b.span.innerHTML=b.label;c.appendChild(b.span);c.parentObject=b;g.parentObject=b;c.onclick=
this.onRowSelect;g.onclick=this.onRowClick;c.ondblclick=this.onRowClick2;this.ettip&&(f.title=b.label);this.dragAndDropOff&&(this._aimgs&&(this.dragger.addDraggableItem(a,this),a.parentObject=b),this.dragger.addDraggableItem(c,this));b.span.style.paddingLeft="5px";b.span.style.paddingRight="5px";c.style.verticalAlign="";c.style.fontSize="10pt";c.style.cursor=this.style_pointer;f.appendChild(g);f.appendChild(k);f.appendChild(a);f.appendChild(c);e.appendChild(f);d.appendChild(e);if(this.ehlt||this.checkEvent("onMouseIn")||
this.checkEvent("onMouseOut"))f.onmousemove=this._itemMouseIn,f[_isIE?"onmouseleave":"onmouseout"]=this._itemMouseOut;return d};dhtmlXTreeObject.prototype.setImagePath=function(a){this.iconURL=this.imPath=a};dhtmlXTreeObject.prototype.setIconPath=function(a){this.iconURL=a};dhtmlXTreeObject.prototype.setOnRightClickHandler=function(a){this.attachEvent("onRightClick",a)};dhtmlXTreeObject.prototype.setOnClickHandler=function(a){this.attachEvent("onClick",a)};
dhtmlXTreeObject.prototype.setOnSelectStateChange=function(a){this.attachEvent("onSelect",a)};dhtmlXTreeObject.prototype.setXMLAutoLoading=function(a){this.XMLsource=a};dhtmlXTreeObject.prototype.setOnCheckHandler=function(a){this.attachEvent("onCheck",a)};dhtmlXTreeObject.prototype.setOnOpenHandler=function(a){this.attachEvent("onOpenStart",a)};dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(a){this.attachEvent("onOpenStart",a)};
dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(a){this.attachEvent("onOpenEnd",a)};dhtmlXTreeObject.prototype.setOnDblClickHandler=function(a){this.attachEvent("onDblClick",a)};dhtmlXTreeObject.prototype.openAllItems=function(a){a=this._globalIdStorageFind(a);if(!a)return 0;this._xopenAll(a)};dhtmlXTreeObject.prototype.getOpenState=function(a){return(a=this._globalIdStorageFind(a))?this._getOpenState(a):""};
dhtmlXTreeObject.prototype.closeAllItems=function(a){a===window.undefined&&(a=this.rootId);a=this._globalIdStorageFind(a);if(!a)return 0;this._xcloseAll(a);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};
dhtmlXTreeObject.prototype.setUserData=function(a,b,c){if(a=this._globalIdStorageFind(a,0,!0))"hint"==b&&(a.htmlNode.childNodes[0].childNodes[0].title=c),"undefined"==typeof a.userData["t_"+b]&&(a._userdatalist?a._userdatalist+=","+b:a._userdatalist=b),a.userData["t_"+b]=c};dhtmlXTreeObject.prototype.getUserData=function(a,b){var c=this._globalIdStorageFind(a,0,!0);return c?c.userData["t_"+b]:void 0};
dhtmlXTreeObject.prototype.getItemColor=function(a){a=this._globalIdStorageFind(a);if(!a)return 0;var b={};a.acolor&&(b.acolor=a.acolor);a.scolor&&(b.scolor=a.scolor);return b};dhtmlXTreeObject.prototype.setItemColor=function(a,b,c){if(a=a&&a.span?a:this._globalIdStorageFind(a))a.i_sel?c&&(a.span.style.color=c):b&&(a.span.style.color=b),c&&(a.scolor=c),b&&(a.acolor=b);else return 0};
dhtmlXTreeObject.prototype.getItemText=function(a){return(a=this._globalIdStorageFind(a))?a.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML:0};dhtmlXTreeObject.prototype.getParentId=function(a){return(a=this._globalIdStorageFind(a))&&a.parentObject?a.parentObject.id:""};dhtmlXTreeObject.prototype.changeItemId=function(a,b){if(a!=b){var c=this._globalIdStorageFind(a);if(!c)return 0;c.id=b;c.span.contextMenuId=b;this._idpull[b]=this._idpull[a];delete this._idpull[a]}};
dhtmlXTreeObject.prototype.doCut=function(){this.nodeCut&&this.clearCut();this.nodeCut=[].concat(this._selected);for(var a=0;a<this.nodeCut.length;a++){var b=this.nodeCut[a];b._cimgs=[];b._cimgs[0]=b.images[0];b._cimgs[1]=b.images[1];b._cimgs[2]=b.images[2];b.images[0]=b.images[1]=b.images[2]=this.cutImage;this._correctPlus(b)}};
dhtmlXTreeObject.prototype.doPaste=function(a){a=this._globalIdStorageFind(a);if(!a)return 0;for(var b=0;b<this.nodeCut.length;b++)this._checkPNodes(a,this.nodeCut[b])||this._moveNode(this.nodeCut[b],a);this.clearCut()};dhtmlXTreeObject.prototype.clearCut=function(){for(var a=0;a<this.nodeCut.length;a++){var b=this.nodeCut[a];b.images[0]=b._cimgs[0];b.images[1]=b._cimgs[1];b.images[2]=b._cimgs[2];this._correctPlus(b)}this.nodeCut=[]};
dhtmlXTreeObject.prototype._moveNode=function(a,b){return this._moveNodeTo(a,b)};dhtmlXTreeObject.prototype._fixNodesCollection=function(a,b){var c=0,d=a.childNodes,e=a.childsCount-1;if(b!=d[e]){for(var f=0;f<e;f++)d[f]==d[e]&&(d[f]=d[f+1],d[f+1]=d[e]);for(f=0;f<e+1;f++)if(c){var g=d[f];d[f]=c;c=g}else d[f]==b&&(c=d[f],d[f]=d[e])}};
dhtmlXTreeObject.prototype._recreateBranch=function(a,b,c){var d,e="";if(c){for(d=0;d<b.childsCount&&b.childNodes[d]!=c;d++);0!=d?c=b.childNodes[d-1]:(e="TOP",c="")}d=this._onradh;this._onradh=null;b=this._attachChildNode(b,a.id,a.label,0,a.images[0],a.images[1],a.images[2],e,0,c);b._userdatalist=a._userdatalist;b.userData=a.userData.clone();if(a._attrs){b._attrs={};for(var f in a._attrs)b._attrs[f]=a._attrs[f]}b.XMLload=a.XMLload;d&&(this._onradh=d,this._onradh(b.id));for(d=0;d<a.childsCount;d++)this._recreateBranch(a.childNodes[d],
b,0,1);return b};
dhtmlXTreeObject.prototype._moveNodeTo=function(a,b,c){if(a.treeNod._nonTrivialNode)return a.treeNod._nonTrivialNode(this,b,c,a);if(this._checkPNodes(b,a))return!1;var d=b.mytype?a.treeNod.lWin!=b.lWin:a.treeNod.lWin!=b.treeNod.lWin;if(!this.callEvent("onDrag",[a.id,b.id,c?c.id:null,a.treeNod,b.treeNod]))return!1;0==b.XMLload&&this.XMLsource&&(b.XMLload=1,this._loadDynXML(b.id));this.openItem(b.id);var e=a.treeNod,f=a.parentObject.childsCount,g=a.parentObject;if(d||e.dpcpy){var k=a.id;a=this._recreateBranch(a,
b,c);e.dpcpy||e.deleteItem(k)}else{var h=b.childsCount,l=b.childNodes;0==h&&(b._open=!0);e._unselectItem(a);l[h]=a;a.treeNod=b.treeNod;b.childsCount++;h=this._drawNewTr(l[h].htmlNode);c?(b.htmlNode.childNodes[0].insertBefore(h,c.tr),this._fixNodesCollection(b,c),l=b.childNodes):(b.htmlNode.childNodes[0].appendChild(h),1==this.dadmode&&this._fixNodesCollection(b,c))}if(!e.dpcpy&&!d){var m=a.tr;document.all&&-1!=navigator.appVersion.search(/MSIE\ 5\.0/gi)?window.setTimeout(function(){m.parentNode.removeChild(m)},
250):a.parentObject.htmlNode.childNodes[0].removeChild(a.tr);if(c&&b==a.parentObject)g.childNodes[g.childsCount-1]=0;else for(k=0;k<g.childsCount;k++)if(g.childNodes[k].id==a.id){g.childNodes[k]=0;break}e._compressChildList(g.childsCount,g.childNodes);g.childsCount--}if(!d&&!e.dpcpy){a.tr=h;h.nodem=a;a.parentObject=b;if(e!=b.treeNod){if(a.treeNod._registerBranch(a,e))return;this._clearStyles(a);this._redrawFrom(this,a.parentObject);this._onradh&&this._onradh(a.id)}this._correctPlus(b);this._correctLine(b);
this._correctLine(a);this._correctPlus(a);c?this._correctPlus(c):2<=b.childsCount&&(this._correctPlus(l[b.childsCount-2]),this._correctLine(l[b.childsCount-2]));this._correctPlus(l[b.childsCount-1]);this.tscheck&&this._correctCheckStates(b);e.tscheck&&e._correctCheckStates(g)}1<f&&(e._correctPlus(g.childNodes[f-2]),e._correctLine(g.childNodes[f-2]));e._correctPlus(g);e._correctLine(g);this.callEvent("onDrop",[a.id,b.id,c?c.id:null,e,b.treeNod]);return a.id};
dhtmlXTreeObject.prototype._clearStyles=function(a){if(a.htmlNode){var b=a.htmlNode.childNodes[0].childNodes[0].childNodes[1],c=b.nextSibling.nextSibling;a.span.innerHTML=a.label;a.i_sel=!1;a._aimgs&&this.dragger.removeDraggableItem(b.nextSibling);this.checkBoxOff?(b.childNodes[0].style.display="",b.childNodes[0].onclick=this.onCheckBoxClick,this._setSrc(b.childNodes[0],this.imPath+this.checkArray[a.checkstate])):b.childNodes[0].style.display="none";b.childNodes[0].treeNod=this;this.dragger.removeDraggableItem(c);
this.dragAndDropOff&&this.dragger.addDraggableItem(c,this);this._aimgs&&this.dragger.addDraggableItem(b.nextSibling,this);c.childNodes[0].className="standartTreeRow";c.onclick=this.onRowSelect;c.ondblclick=this.onRowClick2;b.previousSibling.onclick=this.onRowClick;this._correctLine(a);this._correctPlus(a);for(b=0;b<a.childsCount;b++)this._clearStyles(a.childNodes[b])}};
dhtmlXTreeObject.prototype._registerBranch=function(a,b){b&&b._globalIdStorageSub(a.id);a.id=this._globalIdStorageAdd(a.id,a);a.treeNod=this;for(var c=0;c<a.childsCount;c++)this._registerBranch(a.childNodes[c],b);return 0};dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(a){this.tscheck=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setOnMouseInHandler=function(a){this.ehlt=!0;this.attachEvent("onMouseIn",a)};
dhtmlXTreeObject.prototype.setOnMouseOutHandler=function(a){this.ehlt=!0;this.attachEvent("onMouseOut",a)};dhtmlXTreeObject.prototype.enableTreeImages=function(a){this.timgen=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableFixedMode=function(a){this.hfMode=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableCheckBoxes=function(a,b){this.checkBoxOff=convertStringToBoolean(a);this.cBROf=!(this.checkBoxOff||convertStringToBoolean(b))};
dhtmlXTreeObject.prototype.setStdImages=function(a,b,c){this.imageArray[0]=a;this.imageArray[1]=b;this.imageArray[2]=c};dhtmlXTreeObject.prototype.enableTreeLines=function(a){this.treeLinesOn=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.setImageArrays=function(a,b,c,d,e,f){switch(a){case "plus":this.plusArray[0]=b;this.plusArray[1]=c;this.plusArray[2]=d;this.plusArray[3]=e;this.plusArray[4]=f;break;case "minus":this.minusArray[0]=b,this.minusArray[1]=c,this.minusArray[2]=d,this.minusArray[3]=e,this.minusArray[4]=f}};dhtmlXTreeObject.prototype.openItem=function(a){this.skipLock=!0;return(a=this._globalIdStorageFind(a))?this._openItem(a):0};
dhtmlXTreeObject.prototype._openItem=function(a){var b=this._getOpenState(a);if(0>b||this.XMLsource&&!a.XMLload){if(!this.callEvent("onOpenStart",[a.id,b]))return 0;this._HideShow(a,2);this.checkEvent("onOpenEnd")&&(this.onXLE==this._epnFHe&&this._epnFHe(this,a.id,!0),this.xmlstate&&this.XMLsource?(this._oie_onXLE.push(this.onXLE),this.onXLE=this._epnFHe):this.callEvent("onOpenEnd",[a.id,this._getOpenState(a)]))}else this._srnd&&this._HideShow(a,2);a.parentObject&&!this._skip_open_parent&&this._openItem(a.parentObject)};
dhtmlXTreeObject.prototype.closeItem=function(a){if(this.rootId==a)return 0;this.skipLock=!0;a=this._globalIdStorageFind(a);if(!a)return 0;a.closeble&&this._HideShow(a,1);this.skipLock=!1};dhtmlXTreeObject.prototype.getLevel=function(a){return(a=this._globalIdStorageFind(a))?this._getNodeLevel(a,0):0};dhtmlXTreeObject.prototype.setItemCloseable=function(a,b){b=convertStringToBoolean(b);var c=a&&a.span?a:this._globalIdStorageFind(a);if(!c)return 0;c.closeble=b};
dhtmlXTreeObject.prototype._getNodeLevel=function(a,b){return a.parentObject?this._getNodeLevel(a.parentObject,b+1):b};dhtmlXTreeObject.prototype.hasChildren=function(a){return(a=this._globalIdStorageFind(a))?this.XMLsource&&!a.XMLload?!0:a.childsCount:0};dhtmlXTreeObject.prototype._getLeafCount=function(a){for(var b=0,c=0;c<a.childsCount;c++)0==a.childNodes[c].childsCount&&b++;return b};
dhtmlXTreeObject.prototype.setItemText=function(a,b,c){a=this._globalIdStorageFind(a);if(!a)return 0;a.label=b;a.span.innerHTML=b;a.span.parentNode.parentNode.title=c||""};dhtmlXTreeObject.prototype.getItemTooltip=function(a){return(a=this._globalIdStorageFind(a))?a.span.parentNode.parentNode._dhx_title||a.span.parentNode.parentNode.title||"":""};dhtmlXTreeObject.prototype.refreshItem=function(a){a||(a=this.rootId);this._globalIdStorageFind(a);this.deleteChildItems(a);this._loadDynXML(a)};
dhtmlXTreeObject.prototype.setItemImage2=function(a,b,c,d){a=this._globalIdStorageFind(a);if(!a)return 0;a.images[1]=c;a.images[2]=d;a.images[0]=b;this._correctPlus(a)};dhtmlXTreeObject.prototype.setItemImage=function(a,b,c){a=this._globalIdStorageFind(a);if(!a)return 0;c?(a.images[1]=b,a.images[2]=c):a.images[0]=b;this._correctPlus(a)};
dhtmlXTreeObject.prototype.getSubItems=function(a){a=this._globalIdStorageFind(a,0,1);if(!a)return 0;var b="";for(i=0;i<a.childsCount;i++)b?b+=this.dlmtr+a.childNodes[i].id:b=""+a.childNodes[i].id;return b};
dhtmlXTreeObject.prototype._getAllScraggyItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||0<a.childNodes[c].childsCount){var d=a.childNodes[c].unParsed?this._getAllScraggyItemsXML(a.childNodes[c].unParsed,1):this._getAllScraggyItems(a.childNodes[c]);d&&(b?b+=this.dlmtr+d:b=d)}else b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;return b};
dhtmlXTreeObject.prototype._getAllFatItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||0<a.childNodes[c].childsCount){b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;var d=a.childNodes[c].unParsed?this._getAllFatItemsXML(a.childNodes[c].unParsed,1):this._getAllFatItems(a.childNodes[c]);d&&(b+=this.dlmtr+d)}return b};
dhtmlXTreeObject.prototype._getAllSubItems=function(a,b,c){a=c?c:this._globalIdStorageFind(a);if(!a)return 0;b="";for(c=0;c<a.childsCount;c++){b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;var d=this._getAllSubItems(0,b,a.childNodes[c]);d&&(b+=this.dlmtr+d)}return b};
dhtmlXTreeObject.prototype.selectItem=function(a,b,c){b=convertStringToBoolean(b);a=this._globalIdStorageFind(a);if(!a||!a.parentObject)return 0;this.XMLloadingWarning?a.parentObject.openMe=1:this._openItem(a.parentObject);var d=null;c&&(d={ctrlKey:!0},a.i_sel)&&(d.skipUnSel=!0);if(b)this.onRowSelect(d,a.htmlNode.childNodes[0].childNodes[0].childNodes[3],!1);else this.onRowSelect(d,a.htmlNode.childNodes[0].childNodes[0].childNodes[3],!0)};
dhtmlXTreeObject.prototype.getSelectedItemText=function(){for(var a=[],b=0;b<this._selected.length;b++)a[b]=this._selected[b].span.innerHTML;return a.join(this.dlmtr)};dhtmlXTreeObject.prototype._compressChildList=function(a,b){a--;for(var c=0;c<a;c++)0==b[c]&&(b[c]=b[c+1],b[c+1]=0)};
dhtmlXTreeObject.prototype._deleteNode=function(a,b,c){if(!b||!b.parentObject)return 0;var d=0,e=0;b.tr.nextSibling&&(d=b.tr.nextSibling.nodem);b.tr.previousSibling&&(e=b.tr.previousSibling.nodem);for(var f=b.parentObject,g=f.childsCount,k=f.childNodes,h=0;h<g;h++)if(k[h].id==a){c||f.htmlNode.childNodes[0].removeChild(k[h].tr);k[h]=0;break}this._compressChildList(g,k);c||f.childsCount--;d&&(this._correctPlus(d),this._correctLine(d));e&&(this._correctPlus(e),this._correctLine(e));this.tscheck&&this._correctCheckStates(f);
c||this._globalIdStorageRecSub(b)};dhtmlXTreeObject.prototype.setCheck=function(a,b){var c=this._globalIdStorageFind(a,0,1);c&&("unsure"===b?this._setCheck(c,b):(b=convertStringToBoolean(b),this.tscheck&&this.smcheck?this._setSubChecked(b,c):this._setCheck(c,b)),this.smcheck&&this._correctCheckStates(c.parentObject))};
dhtmlXTreeObject.prototype._setCheck=function(a,b){if(a){if((a.parentObject._r_logic||this._frbtr)&&b)if(this._frbtrs)this._frbtrL&&this.setCheck(this._frbtrL.id,0),this._frbtrL=a;else for(var c=0;c<a.parentObject.childsCount;c++)this._setCheck(a.parentObject.childNodes[c],0);c=a.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];a.checkstate="unsure"==b?2:b?1:0;a.dscheck&&(a.checkstate=a.dscheck);this._setSrc(c,this.imPath+(a.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[a.checkstate])}};
dhtmlXTreeObject.prototype.setSubChecked=function(a,b){var c=this._globalIdStorageFind(a);this._setSubChecked(b,c);this._correctCheckStates(c.parentObject)};
dhtmlXTreeObject.prototype._setSubChecked=function(a,b){a=convertStringToBoolean(a);if(b){if((b.parentObject._r_logic||this._frbtr)&&a)for(var c=0;c<b.parentObject.childsCount;c++)this._setSubChecked(0,b.parentObject.childNodes[c]);if(b._r_logic||this._frbtr)this._setSubChecked(a,b.childNodes[0]);else for(c=0;c<b.childsCount;c++)this._setSubChecked(a,b.childNodes[c]);c=b.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];b.checkstate=a?1:0;b.dscheck&&(b.checkstate=b.dscheck);this._setSrc(c,
this.imPath+(b.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[b.checkstate])}};dhtmlXTreeObject.prototype.isItemChecked=function(a){return(a=this._globalIdStorageFind(a))?a.checkstate:void 0};dhtmlXTreeObject.prototype.deleteChildItems=function(a){if(a=this._globalIdStorageFind(a))for(var b=a.childsCount,c=0;c<b;c++)this._deleteNode(a.childNodes[0].id,a.childNodes[0])};
dhtmlXTreeObject.prototype.deleteItem=function(a,b){this._onrdlh&&!this._onrdlh(a)||this._deleteItem(a,b);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};
dhtmlXTreeObject.prototype._deleteItem=function(a,b,c){b=convertStringToBoolean(b);var d=this._globalIdStorageFind(a);if(d){var e=this.getParentId(a),f=d.parentObject;this._deleteNode(a,d,c);this._editCell&&this._editCell.id==a&&(this._editCell=null);this._correctPlus(f);this._correctLine(f);b&&e!=this.rootId&&this.selectItem(e,1);return f}};
dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(a){for(var b=0;b<a.childsCount;b++)this._globalIdStorageRecSub(a.childNodes[b]),this._globalIdStorageSub(a.childNodes[b].id);this._globalIdStorageSub(a.id);a.span=null;a.tr.nodem=null;a.tr=null;a.htmlNode=null};dhtmlXTreeObject.prototype.insertNewNext=function(a,b,c,d,e,f,g,k,h){return(a=this._globalIdStorageFind(a))&&a.parentObject?this._attachChildNode(0,b,c,d,e,f,g,k,h,a):0};
dhtmlXTreeObject.prototype.getItemIdByIndex=function(a,b){var c=this._globalIdStorageFind(a);return!c||b>=c.childsCount?null:c.childNodes[b].id};dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(a,b){var c=this._globalIdStorageFind(a);return!c||b>=c.childsCount?null:c.childNodes[b].id};dhtmlXTreeObject.prototype.setDragHandler=function(a){this.attachEvent("onDrag",a)};
dhtmlXTreeObject.prototype._clearMove=function(){this._lastMark&&(this._lastMark.className=this._lastMark.className.replace(/dragAndDropRow/g,""),this._lastMark=null);this.allTree.className=this.allTree.className.replace(" selectionBox","")};dhtmlXTreeObject.prototype.enableDragAndDrop=function(a,b){"temporary_disabled"==a?(this.dADTempOff=!1,a=!0):this.dADTempOff=!0;(this.dragAndDropOff=convertStringToBoolean(a))&&this.dragger.addDragLanding(this.allTree,this);1<arguments.length&&(this._ddronr=!convertStringToBoolean(b))};
dhtmlXTreeObject.prototype._setMove=function(a){if(a.parentObject.span){var b=getAbsoluteTop(a),c=getAbsoluteTop(this.allTree)-this.allTree.scrollTop;this.dadmodec=this.dadmode;this.dadmodefix=0;a=a.parentObject.span;a.className+=" dragAndDropRow";this._lastMark=a;this._autoScroll(null,b,c)}};
dhtmlXTreeObject.prototype._autoScroll=function(a,b,c){this.autoScroll&&(a&&(b=getAbsoluteTop(a),c=getAbsoluteTop(this.allTree)-this.allTree.scrollTop),b-c-parseInt(this.allTree.scrollTop)>parseInt(this.allTree.offsetHeight)-50&&(this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20),b-c<parseInt(this.allTree.scrollTop)+30&&(this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20))};
dhtmlXTreeObject.prototype._createDragNode=function(a,b){if(!this.dADTempOff)return null;var c=a.parentObject;if(!this.callEvent("onBeforeDrag",[c.id,b]))return null;c.i_sel||this._selectItem(c,b);var c=document.createElement("div"),d=[];if(this._itim_dg)for(var e=0;e<this._selected.length;e++)d[e]="<table cellspacing='0' cellpadding='0'><tr><td><img width='18px' height='18px' src='"+this._getSrc(this._selected[e].span.parentNode.previousSibling.childNodes[0])+"'></td><td>"+this._selected[e].span.innerHTML+
"</td></tr></table>";else d=this.getSelectedItemText().split(this.dlmtr);c.innerHTML=d.join("");c.style.position="absolute";c.className="dragSpanDiv";this._dragged=[].concat(this._selected);return c};dhtmlXTreeObject.prototype._focusNode=function(a){a=getAbsoluteTop(a.htmlNode)-getAbsoluteTop(this.allTree);if(a>this.allTree.offsetHeight-30||0>a)this.allTree.scrollTop=a+this.allTree.scrollTop};dhtmlXTreeObject.prototype._preventNsDrag=function(a){a&&a.preventDefault&&a.preventDefault();return!1};
dhtmlXTreeObject.prototype._drag=function(a,b,c){this._autoOpenTimer&&clearTimeout(this._autoOpenTimer);c.parentObject||(c=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.dadmodec=0);this._clearMove();(b=a.parentObject.treeNod)&&b._clearMove&&b._clearMove("");if(!this.dragMove||this.dragMove()){a=b&&b._clearMove&&b._dragged?b._dragged:Array(a.parentObject);c=c.parentObject;for(var d=0;d<a.length;d++){var e=this._moveNode(a[d],c);this.dadmodec&&!1!==e&&(c=this._globalIdStorageFind(e,
!0,!0));e&&!this._sADnD&&this.selectItem(e,0,1)}}b&&(b._dragged=[])};
dhtmlXTreeObject.prototype._dragIn=function(a,b,c,d){if(!this.dADTempOff)return 0;var e=b.parentObject;if((b=a.parentObject)||!this._ddronr){if(!this.callEvent("onDragIn",[e.id,b?b.id:null,e.treeNod,this]))return b&&this._autoScroll(a),0;if(b){if(null==e.childNodes)return this._setMove(a,c,d),a;for(var e=e.treeNod,f=0;f<e._dragged.length;f++)if(this._checkPNodes(b,e._dragged[f]))return this._autoScroll(a),0;this._setMove(a,c,d);0>=this._getOpenState(b)&&(this._autoOpenId=b.id,this._autoOpenTimer=
window.setTimeout(new callerFunction(this._autoOpenItem,this),1E3))}else this.allTree.className+=" selectionBox";return a}};dhtmlXTreeObject.prototype._autoOpenItem=function(a,b){b.openItem(b._autoOpenId)};dhtmlXTreeObject.prototype._dragOut=function(){this._clearMove();this._autoOpenTimer&&clearTimeout(this._autoOpenTimer)};
dhtmlXTreeObject.prototype.moveItem=function(a,b,c,d){a=this._globalIdStorageFind(a);if(!a)return 0;var e=null;switch(b){case "right":alert("Not supported yet");break;case "item_child":e=(d||this)._globalIdStorageFind(c);if(!e)return 0;e=(d||this)._moveNodeTo(a,e,0);break;case "item_sibling":e=(d||this)._globalIdStorageFind(c);if(!e)return 0;e=(d||this)._moveNodeTo(a,e.parentObject,e);break;case "item_sibling_next":e=(d||this)._globalIdStorageFind(c);if(!e)return 0;e=e.tr&&e.tr.nextSibling&&e.tr.nextSibling.nodem?
(d||this)._moveNodeTo(a,e.parentObject,e.tr.nextSibling.nodem):(d||this)._moveNodeTo(a,e.parentObject);break;case "left":a.parentObject.parentObject&&(e=this._moveNodeTo(a,a.parentObject.parentObject,a.parentObject));break;case "up":d=this._getPrevNode(a);if(-1==d||!d.parentObject)return null;e=this._moveNodeTo(a,d.parentObject,d);break;case "up_strict":d=this._getIndex(a);0!=d&&(e=this._moveNodeTo(a,a.parentObject,a.parentObject.childNodes[d-1]));break;case "down_strict":d=this._getIndex(a);b=a.parentObject.childsCount-
2;d==b?e=this._moveNodeTo(a,a.parentObject):d<b&&(e=this._moveNodeTo(a,a.parentObject,a.parentObject.childNodes[d+2]));break;case "down":d=this._getNextNode(this._lastChild(a));if(-1==d||!d.parentObject)return;d.parentObject==a.parentObject&&(d=this._getNextNode(d));if(-1==d)e=this._moveNodeTo(a,a.parentObject);else{if(-1==d||!d.parentObject)return;e=this._moveNodeTo(a,d.parentObject,d)}}_isIE&&8>_isIE&&(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0");return e};
dhtmlXTreeObject.prototype._loadDynXML=function(a,b){b=b||this.XMLsource;var c=(new Date).valueOf();this._ld_id=a;this.loadXML(b+getUrlSymbol(b)+"uid="+c+"&id="+this._escape(a))};dhtmlXTreeObject.prototype._checkPNodes=function(a,b){return this._dcheckf?!1:b==a?1:a.parentObject?this._checkPNodes(a.parentObject,b):0};dhtmlXTreeObject.prototype.disableDropCheck=function(a){this._dcheckf=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.preventIECaching=function(a){this.no_cashe=convertStringToBoolean(a);this.XMLLoader.rSeed=this.no_cashe};dhtmlXTreeObject.prototype.preventIECashing=dhtmlXTreeObject.prototype.preventIECaching;dhtmlXTreeObject.prototype.disableCheckbox=function(a,b){var c="object"!=typeof a?this._globalIdStorageFind(a,0,1):a;c&&(c.dscheck=convertStringToBoolean(b)?(c.checkstate||0)%3+3:2<c.checkstate?c.checkstate-3:c.checkstate,this._setCheck(c),3>c.dscheck)&&(c.dscheck=!1)};
dhtmlXTreeObject.prototype.setEscapingMode=function(a){this.utfesc=a};dhtmlXTreeObject.prototype.enableHighlighting=function(a){this.ehlt=!0;this.ehlta=convertStringToBoolean(a)};dhtmlXTreeObject.prototype._itemMouseOut=function(){var a=this.childNodes[3].parentObject,b=a.treeNod;b.callEvent("onMouseOut",[a.id]);a.id==b._l_onMSI&&(b._l_onMSI=null);b.ehlta&&(a.span.className=a.span.className.replace("_lor",""))};
dhtmlXTreeObject.prototype._itemMouseIn=function(){var a=this.childNodes[3].parentObject,b=a.treeNod;b._l_onMSI!=a.id&&b.callEvent("onMouseIn",[a.id]);b._l_onMSI=a.id;b.ehlta&&(a.span.className=a.span.className.replace("_lor",""),a.span.className=a.span.className.replace(/((standart|selected)TreeRow)/,"$1_lor"))};dhtmlXTreeObject.prototype.enableActiveImages=function(a){this._aimgs=convertStringToBoolean(a)};
dhtmlXTreeObject.prototype.focusItem=function(a){a=this._globalIdStorageFind(a);if(!a)return 0;this._focusNode(a)};dhtmlXTreeObject.prototype.getAllSubItems=function(a){return this._getAllSubItems(a)};dhtmlXTreeObject.prototype.getAllChildless=function(){return this._getAllScraggyItems(this.htmlNode)};dhtmlXTreeObject.prototype.getAllLeafs=dhtmlXTreeObject.prototype.getAllChildless;
dhtmlXTreeObject.prototype._getAllScraggyItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||0<a.childNodes[c].childsCount){var d=a.childNodes[c].unParsed?this._getAllScraggyItemsXML(a.childNodes[c].unParsed,1):this._getAllScraggyItems(a.childNodes[c]);d&&(b?b+=this.dlmtr+d:b=d)}else b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;return b};
dhtmlXTreeObject.prototype._getAllFatItems=function(a){for(var b="",c=0;c<a.childsCount;c++)if(a.childNodes[c].unParsed||0<a.childNodes[c].childsCount){b?b+=this.dlmtr+a.childNodes[c].id:b=""+a.childNodes[c].id;var d=a.childNodes[c].unParsed?this._getAllFatItemsXML(a.childNodes[c].unParsed,1):this._getAllFatItems(a.childNodes[c]);d&&(b+=this.dlmtr+d)}return b};dhtmlXTreeObject.prototype.getAllItemsWithKids=function(){return this._getAllFatItems(this.htmlNode)};
dhtmlXTreeObject.prototype.getAllFatItems=dhtmlXTreeObject.prototype.getAllItemsWithKids;dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)};dhtmlXTreeObject.prototype.getAllUnchecked=function(a){a&&(a=this._globalIdStorageFind(a));return this._getAllChecked(a,"",0)};dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)};
dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var a=[this._getAllChecked("","",1)],b=this._getAllChecked("","",2);b&&a.push(b);return a.join(this.dlmtr)};dhtmlXTreeObject.prototype._getAllChecked=function(a,b,c){a||(a=this.htmlNode);a.checkstate==c&&(a.nocheckbox||(b?b+=this.dlmtr+a.id:b=""+a.id));for(var d=a.childsCount,e=0;e<d;e++)b=this._getAllChecked(a.childNodes[e],b,c);return b?b:""};
dhtmlXTreeObject.prototype.setItemStyle=function(a,b,c){c=c||!1;a=this._globalIdStorageFind(a);if(!a)return 0;a.span.style.cssText?a.span.style.cssText=c?b:a.span.style.cssText+";"+b:a.span.setAttribute("style",a.span.getAttribute("style")+"; "+b)};dhtmlXTreeObject.prototype.enableImageDrag=function(a){this._itim_dg=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setOnDragIn=function(a){this.attachEvent("onDragIn",a)};
dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(a){this.autoScroll=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setSkin=function(a){var b=this.parentObject.className.replace(/dhxtree_[^ ]*/gi,"");this.parentObject.className=b+" dhxtree_"+a;"dhx_terrace"==a&&this.enableTreeLines(!1)};
(function(){dhtmlx.extend_api("dhtmlXTreeObject",{_init:function(a){return[a.parent,a.width||"100%",a.height||"100%",a.root_id||0]},auto_save_selection:"enableAutoSavingSelected",auto_tooltip:"enableAutoTooltips",checkbox:"enableCheckBoxes",checkbox_3_state:"enableThreeStateCheckboxes",checkbox_smart:"enableSmartCheckboxes",context_menu:"enableContextMenu",distributed_parsing:"enableDistributedParsing",drag:"enableDragAndDrop",drag_copy:"enableMercyDrag",drag_image:"enableImageDrag",drag_scroll:"enableDragAndDropScrolling",
editor:"enableItemEditor",hover:"enableHighlighting",images:"enableTreeImages",image_fix:"enableIEImageFix",image_path:"setImagePath",lines:"enableTreeLines",loading_item:"enableLoadingItem",multiline:"enableMultiLineItems",multiselect:"enableMultiselection",navigation:"enableKeyboardNavigation",radio:"enableRadioButtons",radio_single:"enableSingleRadioMode",rtl:"enableRTL",search:"enableKeySearch",smart_parsing:"enableSmartXMLParsing",smart_rendering:"enableSmartRendering",text_icons:"enableTextSigns",
xml:"loadXML",skin:"setSkin"},{})})();
dhtmlXTreeObject.prototype._dp_init=function(a){a.attachEvent("insertCallback",function(a,c,d){a=this._loader.doXPath(".//item",a)[0].getAttribute("text");this.obj.insertNewItem(d,c,a,0,0,0,0,"CHILD")});a.attachEvent("updateCallback",function(a,c,d){a=this._loader.doXPath(".//item",a)[0].getAttribute("text");this.obj.setItemText(c,a);this.obj.getParentId(c)!=d&&this.obj.moveItem(c,"item_child",d);this.setUpdated(c,!0,"updated")});a.attachEvent("deleteCallback",function(a,c){this.obj.setUserData(c,
this.action_param,"true_deleted");this.obj.deleteItem(c,!1)});a._methods=["setItemStyle","","changeItemId","deleteItem"];this.attachEvent("onEdit",function(b,c){3==b&&a.setUpdated(c,!0);return!0});this.attachEvent("onDrop",function(b,c,d,e,f){e==f&&a.setUpdated(b,!0)});this._onrdlh=function(b){var c=a.getState(b);if("inserted"==c)return a.set_invalid(b,!1),a.setUpdated(b,!1),!0;if("true_deleted"==c)return a.setUpdated(b,!1),!0;a.setUpdated(b,!0,"deleted");return!1};this._onradh=function(b){a.setUpdated(b,
!0,"inserted")};a._getRowData=function(a){var c={};a=this.obj._globalIdStorageFind(a);for(var d=a.parentObject,e=0,e=0;e<d.childsCount&&d.childNodes[e]!=a;e++);c.tr_id=a.id;c.tr_pid=d.id;c.tr_order=e;c.tr_text=a.span.innerHTML;d=(a._userdatalist||"").split(",");for(e=0;e<d.length;e++)c[d[e]]=a.userData["t_"+d[e]];return c}};
dhtmlXTreeObject.prototype.makeDraggable=function(a,b){"object"!=typeof a&&(a=document.getElementById(a));dragger=new dhtmlDragAndDropObject;dropper=new dhx_dragSomethingInTree;dragger.addDraggableItem(a,dropper);a.dragLanding=null;a.ondragstart=dropper._preventNsDrag;a.onselectstart=new Function("return false;");a.parentObject={};a.parentObject.img=a;a.parentObject.treeNod=dropper;dropper._customDrop=b};dhtmlXTreeObject.prototype.makeDragable=dhtmlXTreeObject.prototype.makeDraggable;
dhtmlXTreeObject.prototype.makeAllDraggable=function(a){for(var b=document.getElementsByTagName("div"),c=0;c<b.length;c++)b[c].getAttribute("dragInDhtmlXTree")&&this.makeDragable(b[c],a)};
function dhx_dragSomethingInTree(){this.lWin=window;this._createDragNode=function(a){var b=document.createElement("div");b.style.position="absolute";b.innerHTML=a.innerHTML||a.value;b.className="dragSpanDiv";return b};this._preventNsDrag=function(a){(a||window.event).cancelBubble=!0;a&&a.preventDefault&&a.preventDefault();return!1};this._nonTrivialNode=function(a,b,c,d){if(this._customDrop)return this._customDrop(a,d.img.id,b.id,c?c.id:null);var e=d.img.getAttribute("image")||"",f=d.img.id||"new";
d=d.img.getAttribute("text")||(_isIE?d.img.innerText:d.img.textContent);a[c?"insertNewNext":"insertNewItem"](c?c.id:b.id,f,d,"",e,e,e)}}
dhtmlXTreeObject.prototype.enableItemEditor=function(a){this._eItEd=convertStringToBoolean(a);this._eItEdFlag||(this._edn_dblclick=this._edn_click_IE=!0,this._ie_aFunc=this.aFunc,this._ie_dblclickFuncHandler=this.dblclickFuncHandler,this.setOnDblClickHandler(function(a,c){this._edn_dblclick&&this._editItem(a,c);return!0}),this.setOnClickHandler(function(a,c){this._stopEditItem(a,c);this.ed_hist_clcik==a&&this._edn_click_IE&&this._editItem(a,c);this.ed_hist_clcik=a;return!0}),this._eItEdFlag=!0)};
dhtmlXTreeObject.prototype.setOnEditHandler=function(a){this.attachEvent("onEdit",a)};dhtmlXTreeObject.prototype.setEditStartAction=function(a,b){this._edn_click_IE=convertStringToBoolean(a);this._edn_dblclick=convertStringToBoolean(b)};
dhtmlXTreeObject.prototype._stopEdit=function(a,b){if(this._editCell&&(this.dADTempOff=this.dADTempOffEd,this._editCell.id!=a)){var c=!0;b?(c=!1,this.callEvent("onEditCancel",[this._editCell.id,this._editCell._oldValue])):c=this.callEvent("onEdit",[2,this._editCell.id,this,this._editCell.span.childNodes[0].value]);!0===c?c=this._editCell.span.childNodes[0].value:!1===c&&(c=this._editCell._oldValue);var d=c!=this._editCell._oldValue;this._editCell.span.innerHTML=c;this._editCell.label=this._editCell.span.innerHTML;
this._editCell.span.className=this._editCell.i_sel?"selectedTreeRow":"standartTreeRow";this._editCell.span.parentNode.className="standartTreeRow";this._editCell.span.style.paddingRight=this._editCell.span.style.paddingLeft="5px";this._editCell.span.onclick=this._editCell.span.ondblclick=function(){};c=this._editCell.id;this.childCalc&&this._fixChildCountLabel(this._editCell);this._editCell=null;b||this.callEvent("onEdit",[3,c,this,d]);this._enblkbrd&&(this.parentObject.lastChild.focus(),this.parentObject.lastChild.focus())}};
dhtmlXTreeObject.prototype._stopEditItem=function(a){this._stopEdit(a)};dhtmlXTreeObject.prototype.stopEdit=function(a){this._editCell&&this._stopEdit(this._editCell.id+"_non",a)};dhtmlXTreeObject.prototype.editItem=function(a){this._editItem(a,this)};
dhtmlXTreeObject.prototype._editItem=function(a){if(this._eItEd){this._stopEdit();var b=this._globalIdStorageFind(a);if(b){var c=this.callEvent("onEdit",[0,a,this,b.span.innerHTML]);if(!0===c)c="undefined"!=typeof b.span.innerText?b.span.innerText:b.span.textContent;else if(!1===c)return;this.dADTempOffEd=this.dADTempOff;this.dADTempOff=!1;this._editCell=b;b._oldValue=c;b.span.innerHTML="<input type='text' class='intreeeditRow' />";b.span.style.paddingRight=b.span.style.paddingLeft="0px";b.span.onclick=
b.span.ondblclick=function(a){(a||event).cancelBubble=!0};b.span.childNodes[0].value=c;b.span.childNodes[0].onselectstart=function(a){return(a||event).cancelBubble=!0};b.span.childNodes[0].onmousedown=function(a){return(a||event).cancelBubble=!0};b.span.childNodes[0].focus();b.span.childNodes[0].focus();b.span.onclick=function(a){(a||event).cancelBubble=!0;return!1};b.span.className="";b.span.parentNode.className="";var d=this;b.span.childNodes[0].onkeydown=function(a){a||(a=window.event);13==a.keyCode?
(a.cancelBubble=!0,d._stopEdit(window.undefined)):27==a.keyCode&&d._stopEdit(window.undefined,!0);(a||event).cancelBubble=!0};this.callEvent("onEdit",[1,a,this])}}};function jsonPointer(a,b){this.d=a;this.dp=b}
jsonPointer.prototype={text:function(){var a=function(a){for(var d=[],e=0;e<a.length;e++)d.push("{"+b(a[e])+"}");return d.join(",")},b=function(c){var d=[],e;for(e in c)"object"==typeof c[e]?e.length?d.push('"'+e+'":['+a(c[e])+"]"):d.push('"'+e+'":{'+b(c[e])+"}"):d.push('"'+e+'":"'+c[e]+'"');return d.join(",")};return"{"+b(this.d)+"}"},get:function(a){return this.d[a]},exists:function(){return!!this.d},content:function(){return this.d.content},each:function(a,b,c){a=this.d[a];var d=new jsonPointer;
if(a)for(var e=0;e<a.length;e++)d.d=a[e],b.apply(c,[d,e])},get_all:function(){return this.d},sub:function(a){return new jsonPointer(this.d[a],this.d)},sub_exists:function(a){return!!this.d[a]},each_x:function(a,b,c,d,e){a=this.d[a];var f=new jsonPointer(0,this.d);if(a)for(e=e||0;e<a.length&&(!a[e][b]||(f.d=a[e],-1!=c.apply(d,[f,e])));e++);},up:function(){return new jsonPointer(this.dp,this.d)},set:function(a,b){this.d[a]=b},clone:function(){return new jsonPointer(this.d,this.dp)},through:function(a,
b,c,d,e){var f=this.d[a];if(f.length)for(var g=0;g<f.length;g++){if(null!=f[g][b]&&""!=f[g][b]&&(!c||f[g][b]==c)){var k=new jsonPointer(f[g],this.d);d.apply(e,[k,g])}k=this.d;this.d=f[g];this.sub_exists(a)&&this.through(a,b,c,d,e);this.d=k}}};
dhtmlXTreeObject.prototype.loadJSArrayFile=function(a,b){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var c=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,b,f,g,k){eval("var z="+k.xmlDoc.responseText);c.loadJSArray(z)},this,!0,this.no_cashe);b&&(this.XMLLoader.waitCall=b);this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype.loadCSV=function(a,b){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var c=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,b,f,g,k){c.loadCSVString(k.xmlDoc.responseText)},this,!0,this.no_cashe);b&&(this.XMLLoader.waitCall=b);this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype.loadJSArray=function(a,b){for(var c=[],d=0;d<a.length;d++)c[a[d][1]]||(c[a[d][1]]=[]),c[a[d][1]].push({id:a[d][0],text:a[d][2]});var d={id:this.rootId},e=function(a,b){if(c[a.id]){a.item=c[a.id];for(var d=0;d<a.item.length;d++)b(a.item[d],b)}};e(d,e);this.loadJSONObject(d,b)};
dhtmlXTreeObject.prototype.loadCSVString=function(a,b){for(var c=[],d=a.split("\n"),e=0;e<d.length;e++){var f=d[e].split(",");c[f[1]]||(c[f[1]]=[]);c[f[1]].push({id:f[0],text:f[2]})}d={id:this.rootId};e=function(a,b){if(c[a.id]){a.item=c[a.id];for(var d=0;d<a.item.length;d++)b(a.item[d],b)}};e(d,e);this.loadJSONObject(d,b)};
dhtmlXTreeObject.prototype.loadJSONObject=function(a,b){this.parsCount||this.callEvent("onXLS",[this,null]);this.xmlstate=1;var c=new jsonPointer(a);this._parse(c);this._p=c;b&&b()};
dhtmlXTreeObject.prototype.loadJSON=function(a,b){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]);this._ld_id=null;this.xmlstate=1;var c=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,b,f,g,k){try{eval("var t="+k.xmlDoc.responseText)}catch(h){dhtmlxError.throwError("LoadXML","Incorrect JSON",[k.xmlDoc,this]);return}a=new jsonPointer(t);c._parse(a);c._p=a},this,!0,this.no_cashe);b&&(this.XMLLoader.waitCall=b);this.XMLLoader.loadXML(a)};
dhtmlXTreeObject.prototype.serializeTreeToJSON=function(){for(var a=['{"id":"'+this.rootId+'", "item":['],b=[],c=0;c<this.htmlNode.childsCount;c++)b.push(this._serializeItemJSON(this.htmlNode.childNodes[c]));a.push(b.join(","));a.push("]}");return a.join("")};
dhtmlXTreeObject.prototype._serializeItemJSON=function(a){var b=[];if(a.unParsed)return a.unParsed.text();var c=this._selected.length?this._selected[0].id:"",d=a.span.innerHTML,d=d.replace(/\"/g,'\\"',d);this._xfullXML?b.push('{ "id":"'+a.id+'", '+(1==this._getOpenState(a)?' "open":"1", ':"")+(c==a.id?' "select":"1",':"")+' "text":"'+d+'", "im0":"'+a.images[0]+'", "im1":"'+a.images[1]+'", "im2":"'+a.images[2]+'" '+(a.acolor?', "aCol":"'+a.acolor+'" ':"")+(a.scolor?', "sCol":"'+a.scolor+'" ':"")+(1==
a.checkstate?', "checked":"1" ':2==a.checkstate?', "checked":"-1"':"")+(a.closeable?', "closeable":"1" ':"")+(this.XMLsource&&0==a.XMLload?', "child":"1" ':"")):b.push('{ "id":"'+a.id+'", '+(1==this._getOpenState(a)?' "open":"1", ':"")+(c==a.id?' "select":"1",':"")+' "text":"'+d+'"'+(this.XMLsource&&0==a.XMLload?', "child":"1" ':""));if(this._xuserData&&a._userdatalist){b.push(', "userdata":[');for(var c=a._userdatalist.split(","),d=[],e=0;e<c.length;e++)d.push('{ "name":"'+c[e]+'" , "content":"'+
a.userData["t_"+c[e]]+'" }');b.push(d.join(","));b.push("]")}if(a.childsCount){b.push(', "item":[');d=[];for(e=0;e<a.childsCount;e++)d.push(this._serializeItemJSON(a.childNodes[e]));b.push(d.join(","));b.push("]\n")}b.push("}\n");return b.join("")};
function dhtmlXTreeFromHTML(a){"object"!=typeof a&&(a=document.getElementById(a));for(var b,c=a.id,d="",e=0;e<a.childNodes.length;e++)if("1"==a.childNodes[e].nodeType){if("XMP"==a.childNodes[e].tagName)for(var e=a.childNodes[e],f=0;f<e.childNodes.length;f++)d+=e.childNodes[f].data;else"ul"==a.childNodes[e].tagName.toLowerCase()&&(d=dhx_li2trees(a.childNodes[e],[],0));break}a.innerHTML="";e=new dhtmlXTreeObject(a,"100%","100%",0);f=[];for(b in e)f[b.toLowerCase()]=b;b=a.attributes;for(var g=0;g<b.length;g++)if(0==
b[g].name.indexOf("set")||0==b[g].name.indexOf("enable")){var k=b[g].name;e[k]||(k=f[b[g].name]);e[k].apply(e,b[g].value.split(","))}if("object"==typeof d){e.XMLloadingWarning=1;for(f=0;f<d.length;f++)b=e.insertNewItem(d[f][0],d[f][3],d[f][1]),d[f][2]&&e._setCheck(b,d[f][2]);e.XMLloadingWarning=0;e.lastLoadedXMLId=0;e._redrawFrom(e)}else e.loadXMLString("<tree id='0'>"+d+"</tree>");window[c]=e;(a=a.getAttribute("oninit"))&&eval(a);return e}
function dhx_init_trees(){for(var a=document.getElementsByTagName("div"),b=0;b<a.length;b++)"dhtmlxTree"==a[b].className&&dhtmlXTreeFromHTML(a[b])}
function dhx_li2trees(a,b,c){for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(1==e.nodeType&&"li"==e.tagName.toLowerCase()){for(var f="",g=null,k=e.getAttribute("checked"),h=0;h<e.childNodes.length;h++){var l=e.childNodes[h];3==l.nodeType?f+=l.data:"ul"!=l.tagName.toLowerCase()?f+=dhx_outer_html(l):g=l}b[b.length]=[c,f,k,e.id||b.length+1];g&&(b=dhx_li2trees(g,b,e.id||b.length))}}return b}
function dhx_outer_html(a){if(a.outerHTML)return a.outerHTML;var b=document.createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML}window.addEventListener?window.addEventListener("load",dhx_init_trees,!1):window.attachEvent&&window.attachEvent("onload",dhx_init_trees);function dhtmlXWindowsSngl(){}function dhtmlXWindowsBtn(){}
function dhtmlXWindows(){if(window.dhtmlXContainer){this.engine="dhx";var a="_"+this.engine+"_Engine";if(this[a]){this[a]();this._isIPad=0<=navigator.userAgent.search(/iPad/gi);var b=this;this.pathPrefix="dhxwins_";this.imagePath=dhtmlx.image_path||"codebase/imgs/";this.setImagePath=function(a){this.imagePath=a};this.skin="undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue";this.skinParams={dhx_black:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2},
dhx_blue:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2},dhx_skyblue:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2}};this.setSkin=function(a){this.skin=a;this._engineRedrawSkin()};this.isWindow=function(a){return null!=this.wins[a]};this.findByText=function(a){var b=[],c;for(c in this.wins)0<=this.wins[c].getText().search(a,"gi")&&(b[b.length]=this.wins[c]);return b};this.window=function(a){var b=null;null!=this.wins[a]&&(b=this.wins[a]);
return b};this.forEachWindow=function(a){for(var b in this.wins)a(this.wins[b])};this.getBottommostWindow=function(){var a=this.getTopmostWindow(),b;for(b in this.wins)this.wins[b].zi<a.zi&&(a=this.wins[b]);return 0!=a.zi?a:null};this.getTopmostWindow=function(a){var b={zi:0},c;for(c in this.wins)this.wins[c].zi>b.zi&&(!0==a&&!this._isWindowHidden(this.wins[c])&&(b=this.wins[c]),!0!=a&&(b=this.wins[c]));return 0!=b.zi?b:null};this.wins={};for(var c in this.wins)delete this.wins[c];this.autoViewport=
!0;this._createViewport=function(){this.vp=document.body;this._clearVPCss();this.vp._css=0<String(this.vp.className).length?this.vp.className:"";this.vp.className+=" dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":"");this.modalCoverI=document.createElement("IFRAME");this.modalCoverI.frameBorder="0";this.modalCoverI.className="dhx_modal_cover_ifr";this.modalCoverI.setAttribute("src","javascript:false;");this.modalCoverI.style.display="none";this.modalCoverI.style.zIndex=0;this.vp.appendChild(this.modalCoverI);
this.modalCoverD=document.createElement("DIV");this.modalCoverD.className="dhx_modal_cover_dv";this.modalCoverD.style.display="none";this.modalCoverD.style.zIndex=0;this.vp.appendChild(this.modalCoverD);this._vpcover=document.createElement("DIV");this._vpcover.className="dhx_content_vp_cover";this._vpcover.style.display="none";this.vp.appendChild(this._vpcover);this._carcass=document.createElement("DIV");this._carcass.className="dhx_carcass_resmove";this._carcass.style.display="none";_isIE&&(this._carcass.innerHTML=
"<iframe border=0 frameborder=0 style='filter: alpha(opacity=0); width: 100%; height:100%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; z-index:1;'></iframe><div style='position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;z-index:2;background:white;filter:alpha(opacity=0);opacity:0;'></div>",0<=navigator.userAgent.indexOf("MSIE 10")||this._carcass.childNodes[0].setAttribute("src","javascript:false;"));this._carcass.onselectstart=function(a){a=a||event;a.returnValue=
!1};this.vp.appendChild(this._carcass)};this._clearVPCss=function(){this.vp.className=String(this.vp.className).replace(/[a-z_]{1,}/gi,function(a){return 1=={dhtmlx_skin_dhx_skyblue:1,dhtmlx_skin_dhx_blue:1,dhtmlx_skin_dhx_black:1,dhtmlx_skin_dhx_web:1,dhtmlx_skin_dhx_terrace:1}[a]?"":a})};this._autoResizeViewport=function(){for(var a in this.wins)this.wins[a]._isFullScreened&&(this.wins[a].adjustContent(document.body,0,0,!1,0),this.wins[a].updateNestedObjects()),this.wins[a]._isMaximized&&"none"!=
this.wins[a].style.display&&(this._restoreWindow(a),this._maximizeWindow(a));if(this.vp!=document.body&&!1!=this.autoViewport)for(a in this.vp.style.width=(_isIE?document.body.offsetWidth-4:window.innerWidth)+"px",this.vp.style.height=(_isIE?document.body.offsetHeight-4:window.innerHeight)+"px",this.wins){var b=this.wins[a],c=!1,g=!1;b.x>this.vp.offsetWidth-10&&(b.x=this.vp.offsetWidth-10,c=!0);var k=null!=b._skinParams?b._skinParams:this.skinParams[this.skin];b.y+k.header_height>this.vp.offsetHeight&&
(b.y=this.vp.offsetHeight-k.header_height,g=!0);(c||g)&&this._engineRedrawWindowPos(b)}};this.enableAutoViewport=function(a){this.vp==document.body&&(this.autoViewport=a,!1==a)&&(this.vp==document.body&&(document.body.className=this.vp._css),this.vp.removeChild(this.modalCoverI),this.vp.removeChild(this.modalCoverD),this.vp.removeChild(this._vpcover),this.vp.removeChild(this._carcass),this.vp=null,this.vp=document.createElement("DIV"),this.vp.autocreated=!0,this.vp.className="dhtmlx_winviewport dhtmlx_skin_"+
this.skin+(this._r?" dhx_wins_rtl":""),this.vp.style.left="0px",this.vp.style.top="0px",document.body.appendChild(this.vp),this.vp.ax=0,this.vp.ay=0,this._autoResizeViewport(),this.vp.appendChild(this.modalCoverI),this.vp.appendChild(this.modalCoverD),this.vp.appendChild(this._vpcover),this.vp.appendChild(this._carcass))};this.attachViewportTo=function(a){!1==this.autoViewport&&(this.vp.removeChild(this.modalCoverI),this.vp.removeChild(this.modalCoverD),this.vp.removeChild(this._vpcover),this.vp.removeChild(this._carcass),
this.vp!=document.body&&this.vp.parentNode.removeChild(this.vp),this.vp=null,this.vp="string"==typeof a?document.getElementById(a):a,this.vp.autocreated=!1,this._clearVPCss(),this.vp.className+=" dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":""),this.vp.style.position="relative",this.vp.style.overflow="hidden",this.vp.ax=0,this.vp.ay=0,this.vp.appendChild(this.modalCoverI),this.vp.appendChild(this.modalCoverD),this.vp.appendChild(this._vpcover),this.vp.appendChild(this._carcass))};this.setViewport=
function(a,b,c,g,k){!1==this.autoViewport&&(this.vp.style.left=a+"px",this.vp.style.top=b+"px",this.vp.style.width=c+"px",this.vp.style.height=g+"px",null!=k&&k.appendChild(this.vp),this.vp.ax=getAbsoluteLeft(this.vp),this.vp.ay=getAbsoluteTop(this.vp))};this._effects={move:!1,resize:!1};this.setEffect=function(a,b){null!=this._effects[a]&&"boolean"==typeof b&&(this._effects[a]=b)};this.getEffect=function(a){return this._effects[a]};this.createWindow=function(a,c,f,g,k){var h=document.createElement("DIV");
h.className="dhtmlx_window_inactive";h.dir="ltr";for(var l in this.wins)if(this.wins[l].zi+=this.zIndexStep,this.wins[l].style.zIndex=this.wins[l].zi,this.iframeMode&&this.wins[l].ifr)this.wins[l].ifr.style.zIndex=this.wins[l].style.zIndex-1;h.zi=this.zIndexStep;h.style.zIndex=h.zi;h.active=!1;h._isWindow=!0;h.isWindow=!0;h.w=Number(g);h.h=Number(k);h.x=c;h.y=f;this._engineFixWindowPosInViewport(h);h._isModal=!1;h._allowResize=!0;h.maxW="auto";h.maxH="auto";h.minW=200;h.minH=140;h.iconsPresent=!0;
h.icons=[this.imagePath+this.pathPrefix+this.skin+"/active/icon_normal.gif",this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_normal.gif"];h._allowMove=!0;h._allowMoveGlobal=!0;h._allowResizeGlobal=!0;h._keepInViewport=!1;h.idd=a;this.vp.appendChild(h);this._engineSetWindowBody(h);this._engineRedrawWindowPos(h);this._engineRedrawWindowSize(h);this._engineUpdateWindowIcon(h,h.icons[0]);this._engineDiableOnSelectInWindow(h,!0);this.wins[a]=h;dhtmlxEventable(h);this._engineGetWindowHeader(h)[this._isIPad?
"ontouchstart":"onmousedown"]=function(a){a=a||event;var c=b.wins[this.idd];c.isOnTop()||c.bringToTop();if(!b._engineGetWindowHeaderState(c)&&b._engineCheckHeaderMouseDown(c,a)&&c._allowMove&&c._allowMoveGlobal)return b._wasMoved=!1,c.moveOffsetX=c.x-(b._isIPad?a.touches[0].clientX:a.clientX),c.moveOffsetY=c.y-(b._isIPad?a.touches[0].clientY:a.clientY),b.movingWin=c,!1==b._effects.move&&(b._carcass.x=b.movingWin.x,b._carcass.y=b.movingWin.y,b._carcass.w=parseInt(b.movingWin.style.width)+(_isIE?0:
-2),b._carcass.h=parseInt(b.movingWin.style.height)+(_isIE?0:-2),b._carcass.style.left=b._carcass.x+"px",b._carcass.style.top=b._carcass.y+"px",b._carcass.style.width=b._carcass.w+"px",b._carcass.style.height=b._carcass.h+"px",b._carcass.style.zIndex=b._getTopZIndex(!0)+1,b._carcass._keepInViewport=h._keepInViewport),b._blockSwitcher(!0),b._vpcover.style.zIndex=b.movingWin.style.zIndex-1,b._vpcover.style.display="",a.returnValue=!1,a.cancelBubble=!0,!1};this._engineGetWindowHeader(h).ondblclick=function(a){var c=
b.wins[this.idd];b._engineCheckHeaderMouseDown(c,a||event)&&c._allowResizeGlobal&&!c._isParked&&(!0==c._isMaximized?b._restoreWindow(c.idd):b._maximizeWindow(c.idd))};h.setText=function(a){b._engineGetWindowLabel(this).innerHTML=a};h.getText=function(){return b._engineGetWindowLabel(this).innerHTML};h.getId=function(){return this.idd};h.show=function(){b._showWindow(this)};h.hide=function(){b._hideWindow(this)};h.minimize=function(){b._restoreWindow(this.idd)};h.maximize=function(){b._maximizeWindow(this.idd)};
h.close=function(){b._closeWindow(this.idd)};h.park=function(){this._isParkedAllowed&&b._parkWindow(this.idd)};h.stick=function(){b._stickWindow(this.idd)};h.unstick=function(){b._unstickWindow(this.idd)};h.isSticked=function(){return this._isSticked};h.setIcon=function(a,c){b._setWindowIcon(h,a,c)};h.getIcon=function(){return b._getWindowIcon(this)};h.clearIcon=function(){b._clearWindowIcons(this)};h.restoreIcon=function(){b._restoreWindowIcons(this)};h.keepInViewport=function(a){this._keepInViewport=
a};h.setModal=function(a){!0==a?null!=b.modalWin||b.modalWin==this||b._setWindowModal(this,!0):b.modalWin==this&&b._setWindowModal(this,!1)};h.isModal=function(){return this._isModal};h.isHidden=function(){return b._isWindowHidden(this)};h.isMaximized=function(){return this._isMaximized};h.isParked=function(){return this._isParked};h.allowPark=function(){b._allowParking(this)};h.denyPark=function(){b._denyParking(this)};h.isParkable=function(){return this._isParkedAllowed};h.allowResize=function(){b._allowReszieGlob(this)};
h.denyResize=function(){b._denyResize(this)};h.isResizable=function(){return this._allowResizeGlobal};h.allowMove=function(){this._isMaximized||(this._allowMove=!0);this._allowMoveGlobal=!0};h.denyMove=function(){this._allowMoveGlobal=!1};h.isMovable=function(){return this._allowMoveGlobal};h.bringToTop=function(){b._bringOnTop(this);b._makeActive(this)};h.bringToBottom=function(){b._bringOnBottom(this)};h.isOnTop=function(){return b._isWindowOnTop(this)};h.isOnBottom=function(){return b._isWindowOnBottom(this)};
h.setPosition=function(a,c){this.x=a;this.y=c;b._engineFixWindowPosInViewport(this);b._engineRedrawWindowPos(this)};h.getPosition=function(){return[this.x,this.y]};h.setDimension=function(a,c){null!=a&&("auto"!=this.maxW&&a>this.maxW&&(a=this.maxW),a<this.minW&&(a=this.minW),this.w=a);null!=c&&("auto"!=this.maxH&&c>this.maxH&&(c=this.maxH),c<this.minH&&(c=this.minH),this.h=c);b._fixWindowDimensionInViewport(this);b._engineFixWindowPosInViewport(this);b._engineRedrawWindowSize(this);this.updateNestedObjects()};
h.getDimension=function(){return[this.w,this.h]};h.setMaxDimension=function(a,c){this.maxW=isNaN(a)?"auto":a;this.maxH=isNaN(c)?"auto":c;b._engineRedrawWindowSize(this)};h.getMaxDimension=function(){return[this.maxW,this.maxH]};h.setMinDimension=function(a,c){null!=a&&(this.minW=a);null!=c&&(this.minH=c);b._fixWindowDimensionInViewport(this);b._engineRedrawWindowPos(this)};h.getMinDimension=function(){return[this.minW,this.minH]};h._adjustToContent=function(a,c){b._engineAdjustWindowToContent(this,
a,c)};h._doOnAttachMenu=function(){b._engineRedrawWindowSize(this);this.updateNestedObjects()};h._doOnAttachToolbar=function(){b._engineRedrawWindowSize(this);this.updateNestedObjects()};h._doOnAttachStatusBar=function(){b._engineRedrawWindowSize(this);this.updateNestedObjects()};h._doOnFrameMouseDown=function(){this.bringToTop()};h._doOnFrameContentLoaded=function(){b.callEvent("onContentLoaded",[this])};h.addUserButton=function(a,c,d,e){return b._addUserButton(this,a,c,d,e)};h.removeUserButton=
function(a){a=String(a).toLowerCase();"minmax1"==a||"minmax2"==a||"park"==a||"close"==a||"stick"==a||"unstick"==a||"help"==a||null!=btn&&b._removeUserButton(this,a)};h.progressOn=function(){b._engineSwitchWindowProgress(this,!0)};h.progressOff=function(){b._engineSwitchWindowProgress(this,!1)};h.setToFullScreen=function(a){b._setWindowToFullScreen(this,a)};h.showHeader=function(){b._engineSwitchWindowHeader(this,!0)};h.hideHeader=function(){b._engineSwitchWindowHeader(this,!1)};h.progressOff();h.canStartResize=
!1;h.onmousemove=function(a){if(_isIE&&this._isMaximized)return!0;a=a||event;var c=a.target||a.srcElement;0>String(c.className).search("dhtmlx_wins_resizer")&&(c=null);if(!this._allowResize||!1==this._allowResizeGlobal||!c)return c&&"default"!=c.style.cursor&&(c.style.cursor="default"),"default"!=this.style.cursor&&(this.style.cursor="default"),this.canStartResize=!1,!0;if(null==b.resizingWin&&null==b.movingWin&&!this._isParked){if(b._isIPad)var d=a.touches[0].clientX,e=a.touches[0].clientY;else d=
_isIE||_isOpera?a.offsetX:a.layerX,e=_isIE||_isOpera?a.offsetY:a.layerY;d=b._engineAllowWindowResize(h,c,d,e);if(null==d)this.canStartResize=!1,"default"!=c.style.cursor&&(c.style.cursor="default"),"default"!=this.style.cursor&&(this.style.cursor="default");else{b.resizingDirs=d;d=a.clientX;e=a.clientY;switch(b.resizingDirs){case "border_left":c.style.cursor="w-resize";this.resizeOffsetX=this.x-d;break;case "border_right":c.style.cursor="e-resize";this.resizeOffsetXW=this.x+this.w-d;break;case "border_top":c.style.cursor=
"n-resize";this.resizeOffsetY=this.y-e;break;case "border_bottom":c.style.cursor="n-resize";this.resizeOffsetYH=this.y+this.h-e;break;case "corner_left":c.style.cursor="sw-resize";this.resizeOffsetX=this.x-a.clientX;this.resizeOffsetYH=this.y+this.h-e;break;case "corner_up_left":c.style.cursor="nw-resize";this.resizeOffsetY=this.y-e;this.resizeOffsetX=this.x-d;break;case "corner_right":c.style.cursor="nw-resize";this.resizeOffsetXW=this.x+this.w-d;this.resizeOffsetYH=this.y+this.h-e;break;case "corner_up_right":c.style.cursor=
"sw-resize",this.resizeOffsetY=this.y-e,this.resizeOffsetXW=this.x+this.w-d}this.canStartResize=!0;this.style.cursor=c.style.cursor;a.cancelBubble=!0;return a.returnValue=!1}}};h.onmousedown=function(a){b._getActive()!=this&&b._makeActive(this);b._bringOnTop(this);this.canStartResize&&(b._blockSwitcher(!0),b.resizingWin=this,b._effects.resize||(b._carcass.x=b.resizingWin.x,b._carcass.y=b.resizingWin.y,b._carcass.w=Number(b.resizingWin.w)+(_isIE?0:-2),b._carcass.h=Number(b.resizingWin.h)+(_isIE?0:
-2),b._carcass.style.left=b._carcass.x+"px",b._carcass.style.top=b._carcass.y+"px",b._carcass.style.width=b._carcass.w+"px",b._carcass.style.height=b._carcass.h+"px",b._carcass.style.zIndex=b._getTopZIndex(!0)+1,b._carcass.style.cursor=this.style.cursor,b._carcass._keepInViewport=this._keepInViewport,b._carcass.style.display=""),b._vpcover.style.zIndex=b.resizingWin.style.zIndex-1,b._vpcover.style.display="",this.vs[this.av].layout&&this.callEvent("_onBeforeTryResize",[this]))};this._addDefaultButtons(h.idd);
h.button=function(a){a=String(a).toLowerCase();var b=null;null!=this.btns[a]&&(b=this.btns[a]);return b};h.center=function(){b._centerWindow(this,!1)};h.centerOnScreen=function(){b._centerWindow(this,!0)};h._attachContent("empty",null);h._redraw=function(){b._engineRedrawWindowSize(this)};h.bringToTop();this._engineRedrawWindowSize(h);return this.wins[a]};this.zIndexStep=50;this._getTopZIndex=function(a){var b=0,c;for(c in this.wins)!0==a?this.wins[c].zi>b&&(b=this.wins[c].zi):this.wins[c].zi>b&&
!this.wins[c]._isSticked&&(b=this.wins[c].zi);return b};this.movingWin=null;this._moveWindow=function(a){if(null!=this.movingWin){if(!this.movingWin._allowMove||!this.movingWin._allowMoveGlobal)return;!0==this._effects.move?("move"!=this._engineGetWindowHeader(this.movingWin).style.cursor&&(this._engineGetWindowHeader(this.movingWin).style.cursor="move"),this._wasMoved=!0,this.movingWin.x=(this._isIPad?a.touches[0].clientX:a.clientX)+this.movingWin.moveOffsetX,this.movingWin.y=(this._isIPad?a.touches[0].clientY:
a.clientY)+this.movingWin.moveOffsetY,this._engineFixWindowPosInViewport(this.movingWin),this._engineRedrawWindowPos(this.movingWin)):(""!=this._carcass.style.display&&(this._carcass.style.display=""),"move"!=this._carcass.style.cursor&&(this._carcass.style.cursor="move"),"move"!=this._engineGetWindowHeader(this.movingWin).style.cursor&&(this._engineGetWindowHeader(this.movingWin).style.cursor="move"),this._carcass.x=(this._isIPad?a.touches[0].clientX:a.clientX)+this.movingWin.moveOffsetX,this._carcass.y=
(this._isIPad?a.touches[0].clientY:a.clientY)+this.movingWin.moveOffsetY,this._wasMoved=!0,this._engineFixWindowPosInViewport(this._carcass),this._carcass.style.left=this._carcass.x+"px",this._carcass.style.top=this._carcass.y+"px")}if(null!=this.resizingWin&&this.resizingWin._allowResize){var b=a.clientX;a=a.clientY;if("border_left"==this.resizingDirs||"corner_left"==this.resizingDirs||"corner_up_left"==this.resizingDirs)if(this._effects.resize){var c=b+this.resizingWin.resizeOffsetX,g=c>this.resizingWin.x?
-1:1;newW=this.resizingWin.w+Math.abs(c-this.resizingWin.x)*g;newW<this.resizingWin.minW&&0>g?(this.resizingWin.x=this.resizingWin.x+this.resizingWin.w-this.resizingWin.minW,this.resizingWin.w=this.resizingWin.minW):(this.resizingWin.w=newW,this.resizingWin.x=c);this._engineRedrawWindowPos(this.resizingWin);this._engineRedrawWindowSize(this.resizingWin)}else c=b+this.resizingWin.resizeOffsetX,g=c>this._carcass.x?-1:1,newW=this._carcass.w+Math.abs(c-this._carcass.x)*g,newW>this.resizingWin.maxW&&(newW=
this.resizingWin.maxW,c=this._carcass.x+this._carcass.w-this.resizingWin.maxW),newW<this.resizingWin.minW&&0>g?(this._carcass.x=this._carcass.x+this._carcass.w-this.resizingWin.minW,this._carcass.w=this.resizingWin.minW):(this._carcass.w=newW,this._carcass.x=c),this._carcass.style.left=this._carcass.x+"px",this._carcass.style.width=this._carcass.w+"px";if("border_right"==this.resizingDirs||"corner_right"==this.resizingDirs||"corner_up_right"==this.resizingDirs)this._effects.resize?(c=b-(this.resizingWin.x+
this.resizingWin.w)+this.resizingWin.resizeOffsetXW,newW=this.resizingWin.w+c,newW<this.resizingWin.minW&&(newW=this.resizingWin.minW),this.resizingWin.w=newW,this._engineRedrawWindowPos(this.resizingWin),this._engineRedrawWindowSize(this.resizingWin)):(c=b-(this._carcass.x+this._carcass.w)+this.resizingWin.resizeOffsetXW,newW=this._carcass.w+c,newW<this.resizingWin.minW&&(newW=this.resizingWin.minW),"auto"!=this.resizingWin.maxW&&newW>this.resizingWin.maxW&&(newW=this.resizingWin.maxW),this._carcass.w=
newW,this._carcass.style.width=this._carcass.w+"px");if("border_bottom"==this.resizingDirs||"corner_left"==this.resizingDirs||"corner_right"==this.resizingDirs)this._effects.resize?(c=a-(this.resizingWin.y+this.resizingWin.h)+this.resizingWin.resizeOffsetYH,newH=this.resizingWin.h+c,newH<this.resizingWin.minH&&(newH=this.resizingWin.minH),this.resizingWin.h=newH,this._engineRedrawWindowPos(this.resizingWin),this._engineRedrawWindowSize(this.resizingWin)):(c=a-(this._carcass.y+this._carcass.h)+this.resizingWin.resizeOffsetYH,
newH=this._carcass.h+c,newH<this.resizingWin.minH&&(newH=this.resizingWin.minH),newH>this.resizingWin.maxH&&(newH=this.resizingWin.maxH),this._carcass.h=newH,this._carcass.style.height=this._carcass.h+"px");"border_top"!=this.resizingDirs&&"corner_up_right"!=this.resizingDirs&&"corner_up_left"!=this.resizingDirs||this._effects.resize||(c=a+this.resizingWin.resizeOffsetY,g=c>this.resizingWin.y?-1:1,newH=this.resizingWin.h+Math.abs(c-this.resizingWin.y)*g,newH>this.resizingWin.maxH&&(newH=this.resizingWin.maxH,
c=this.resizingWin.y+this.resizingWin.h-this.resizingWin.maxH),newH<this.resizingWin.minH&&0>g?(this._carcass.y=this._carcass.y+this._carcass.h-this.resizingWin.minH,this._carcass.h=this.resizingWin.minH):(this._carcass.h=newH+(_isIE?0:-2),this._carcass.y=c),this._carcass.style.top=this._carcass.y+"px",this._carcass.style.height=this._carcass.h+"px")}};this._stopMove=function(){if(null!=this.movingWin){if(this._effects.move){var a=this.movingWin;this.movingWin=null;this._blockSwitcher(!1);this._engineGetWindowHeader(a).style.cursor=
"";_isFF&&(a.h++,b._engineRedrawWindowPos(a),a.h--,b._engineRedrawWindowPos(a))}else this._carcass.style.cursor="",this._carcass.style.display="none",a=this.movingWin,this._engineGetWindowHeader(a).style.cursor="",this.movingWin=null,this._blockSwitcher(!1),a.setPosition(parseInt(this._carcass.style.left),parseInt(this._carcass.style.top));this._vpcover.style.display="none";this._wasMoved&&(a.checkEvent("onMoveFinish")?a.callEvent("onMoveFinish",[a]):this.callEvent("onMoveFinish",[a]));this._wasMoved=
!1}null!=this.resizingWin&&(a=this.resizingWin,this.resizingWin=null,this._blockSwitcher(!1),this._effects.resize?a.updateNestedObjects():(this._carcass.style.display="none",a.setDimension(this._carcass.w+(_isIE?0:2),this._carcass.h+(_isIE?0:2)),a.setPosition(this._carcass.x,this._carcass.y)),a.vs[a.av].layout&&a.vs[a.av].layout.callEvent("onResize",[]),this._vpcover.style.display="none",a.checkEvent("onResizeFinish")?a.callEvent("onResizeFinish",[a]):this.callEvent("onResizeFinish",[a]))};this._fixWindowDimensionInViewport=
function(a){a.w<a.minW&&(a.w=a.minW);!a._isParked&&a.h<a.minH&&(a.h=a.minH)};this._bringOnTop=function(a){var b=a.zi,c=this._getTopZIndex(a._isSticked),g;for(g in this.wins)this.wins[g]!=a&&(a._isSticked||!a._isSticked&&!this.wins[g]._isSticked)&&this.wins[g].zi>b&&(this.wins[g].zi-=this.zIndexStep,this.wins[g].style.zIndex=this.wins[g].zi,this.iframeMode&&this.wins[g].ifr)&&(this.wins[g].ifr.style.zIndex=this.wins[g].style.zIndex-1);a.zi=c;a.style.zIndex=a.zi;this.iframeMode&&a.ifr&&(a.ifr.style.zIndex=
c-1)};this._makeActive=function(a,b){for(var c in this.wins)if(this.wins[c]==a){var g=!1;"dhtmlx_window_active"!=this.wins[c].className&&!b&&(g=!0);this.wins[c].className="dhtmlx_window_active";this._engineUpdateWindowIcon(this.wins[c],this.wins[c].icons[0]);!0==g&&(a.checkEvent("onFocus")?a.callEvent("onFocus",[a]):this.callEvent("onFocus",[a]))}else this.wins[c].className="dhtmlx_window_inactive",this._engineUpdateWindowIcon(this.wins[c],this.wins[c].icons[1])};this._getActive=function(){var a=
null,b;for(b in this.wins)"dhtmlx_window_active"==this.wins[b].className&&(a=this.wins[b]);return a};this._centerWindow=function(a,b){if(!0!=a._isMaximized){if(!0==b)var c=_isIE?document.body.offsetWidth:window.innerWidth,g=_isIE?document.body.offsetHeight:window.innerHeight;else c=this.vp==document.body?document.body.offsetWidth:Number(parseInt(this.vp.style.width))&&-1==String(this.vp.style.width).search("%")?parseInt(this.vp.style.width):this.vp.offsetWidth,g=this.vp==document.body?document.body.offsetHeight:
Number(parseInt(this.vp.style.height))&&-1==String(this.vp.style.height).search("%")?parseInt(this.vp.style.height):this.vp.offsetHeight;c=Math.round(c/2-a.w/2);g=Math.round(g/2-a.h/2);a.x=c;a.y=g;this._engineFixWindowPosInViewport(a);this._engineRedrawWindowPos(a)}};this._addDefaultButtons=function(a){a=this.wins[a];var c=this._engineGetWindowButton(a,"stick");c.title=this.i18n.stick;c.isVisible=!1;c.style.display="none";c._isEnabled=!0;c.isPressed=!1;c.label="stick";c._doOnClick=function(){this.isPressed=
!0;b._stickWindow(this.winId)};var f=this._engineGetWindowButton(a,"sticked");f.title=this.i18n.unstick;f.isVisible=!1;f.style.display="none";f._isEnabled=!0;f.isPressed=!1;f.label="sticked";f._doOnClick=function(){this.isPressed=!1;b._unstickWindow(this.winId)};var g=this._engineGetWindowButton(a,"help");g.title=this.i18n.help;g.isVisible=!1;g.style.display="none";g._isEnabled=!0;g.isPressed=!1;g.label="help";g._doOnClick=function(){b._needHelp(this.winId)};var k=this._engineGetWindowButton(a,"park");
k.titleIfParked=this.i18n.parkdown;k.titleIfNotParked=this.i18n.parkup;k.title=k.titleIfNotParked;k.isVisible=!0;k._isEnabled=!0;k.isPressed=!1;k.label="park";k._doOnClick=function(){b._parkWindow(this.winId)};var h=this._engineGetWindowButton(a,"minmax1");h.title=this.i18n.maximize;h.isVisible=!0;h._isEnabled=!0;h.isPressed=!1;h.label="minmax1";h._doOnClick=function(){b._maximizeWindow(this.winId)};var l=this._engineGetWindowButton(a,"minmax2");l.title=this.i18n.restore;l.isVisible=!1;l.style.display=
"none";l._isEnabled=!0;l.isPressed=!1;l.label="minmax2";l._doOnClick=function(){b._restoreWindow(this.winId)};var m=this._engineGetWindowButton(a,"close");m.title=this.i18n.close;m.isVisible=!0;m._isEnabled=!0;m.isPressed=!1;m.label="close";m._doOnClick=function(){b._closeWindow(this.winId)};var n=this._engineGetWindowButton(a,"dock");n.title=this.i18n.dock;n.style.display="none";n.isVisible=!1;n._isEnabled=!0;n.isPressed=!1;n.label="dock";n._doOnClick=function(){};a._isSticked=!1;a._isParked=!1;
a._isParkedAllowed=!0;a._isMaximized=!1;a._isDocked=!1;a.btns={};a.btns.stick=c;a.btns.sticked=f;a.btns.help=g;a.btns.park=k;a.btns.minmax1=h;a.btns.minmax2=l;a.btns.close=m;a.btns.dock=n;for(var s in a.btns)a.btns[s].winId=a.idd,this._attachEventsOnButton(a.idd,s);a=c=f=g=k=h=l=m=n=null};this._attachEventsOnButton=function(a,c){var f=this.wins[a].btns[c];this._isIPad?(f.ontouchstart=function(a){a.cancelBubble=!0;return a.returnValue=!1},f.ontouchend=function(a){a.cancelBubble=!0;a.returnValue=!1;
if(!this._isEnabled)return!1;this.checkEvent("onClick")?this.callEvent("onClick",[b.wins[this.winId],this]):this._doOnClick();return!1}):(f.onmouseover=function(){this.className=this._isEnabled?"dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_"+(this.isPressed?"pressed":"default"):"dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"},f.onmouseout=function(){this._isEnabled?(this.isPressed=!1,this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_default"):this.className=
"dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"},f.onmousedown=function(){this._isEnabled?(this.isPressed=!0,this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_pressed"):this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"},f.onmouseup=function(){if(this._isEnabled){var a=this.isPressed;this.isPressed=!1;this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_default";a&&(this.checkEvent("onClick")?this.callEvent("onClick",
[b.wins[this.winId],this]):this._doOnClick())}else this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"});f.show=function(){b._showButton(b.wins[this.winId],this.label,!0)};f.hide=function(){b._hideButton(b.wins[this.winId],this.label,!0)};f.enable=function(){b._enableButton(b.wins[this.winId],this.label)};f.disable=function(){b._disableButton(b.wins[this.winId],this.label)};f.isEnabled=function(){return this._isEnabled};f.isHidden=function(){return!this.isVisible};dhtmlxEventable(f);
f=null};this._parkWindow=function(a,b){var c=this.wins[a];if(c._isParkedAllowed||b)if(!this.enableParkEffect||!c.parkBusy)if(c._isParked)this.enableParkEffect&&!b?(c.parkBusy=!0,this._doParkDown(c)):(c.h=c.lastParkH,this._engineRedrawWindowSize(c),this._engineDoOnWindowParkDown(c),c.updateNestedObjects(),c.btns.park.title=c.btns.park.titleIfNotParked,!0==c._allowResizeGlobal&&(this._enableButton(c,"minmax1"),this._enableButton(c,"minmax2")),c._isParked=!1,b||(c.checkEvent("onParkDown")?c.callEvent("onParkDown",
[c]):this.callEvent("onParkDown",[c])));else if(this.enableParkEffect&&!b)if(c.lastParkH=-1==String(c.h).search(/\%$/)?c.h:c.offsetHeight,!0==c._allowResizeGlobal&&(this._disableButton(c,"minmax1"),this._disableButton(c,"minmax2")),this.enableParkEffect)c.parkBusy=!0,this._doParkUp(c);else{var g=null!=c._skinParams?c._skinParams:this.skinParams[this.skin];c.h=g.header_height+g.border_bottom_height;c.btns.park.title=c.btns.park.titleIfParked}else c.lastParkH=-1==String(c.h).search(/\%$/)?c.h:c.offsetHeight,
c.h=this._engineGetWindowParkedHeight(c),this._engineRedrawWindowSize(c),this._engineDoOnWindowParkUp(c),c.btns.park.title=c.btns.park.titleIfParked,c._isParked=!0,b||(c.checkEvent("onParkUp")?c.callEvent("onParkUp",[c]):this.callEvent("onParkUp",[c]))};this._allowParking=function(a){a._isParkedAllowed=!0;this._enableButton(a,"park")};this._denyParking=function(a){a._isParkedAllowed=!1;this._disableButton(a,"park")};this.enableParkEffect=!1;this.parkSpeed=this.parkStartSpeed=80;this.parkTM=null;this.parkTMTime=
5;this._doParkUp=function(a){-1!=String(a.h).search(/\%$/)&&(a.h=a.offsetHeight);a.h-=this.parkSpeed;var c=this._engineGetWindowParkedHeight(a);a.h<=c?(a.h=c,this._engineGetWindowButton(a,"park").title=this._engineGetWindowButton(a,"park").titleIfParked,a._isParked=!0,a.parkBusy=!1,this._engineRedrawWindowSize(a),this._engineDoOnWindowParkUp(a),a.checkEvent("onParkUp")?a.callEvent("onParkUp",[a]):this.callEvent("onParkUp",[a])):(this._engineRedrawWindowSize(a),this.parkTM=window.setTimeout(function(){b._doParkUp(a)},
this.parkTMTime))};this._doParkDown=function(a){a.h+=this.parkSpeed;a.h>=a.lastParkH?(a.h=a.lastParkH,this._engineGetWindowButton(a,"park").title=this._engineGetWindowButton(a,"park").titleIfNotParked,!0==a._allowResizeGlobal&&(this._enableButton(a,"minmax1"),this._enableButton(a,"minmax2")),a._isParked=!1,a.parkBusy=!1,this._engineRedrawWindowSize(a),a.updateNestedObjects(),this._engineDoOnWindowParkDown(a),a.checkEvent("onParkDown")?a.callEvent("onParkDown",[a]):this.callEvent("onParkDown",[a])):
(this._engineRedrawWindowSize(a),this.parkTM=window.setTimeout(function(){b._doParkDown(a)},this.parkTMTime))};this._enableButton=function(a,b){var c=this._engineGetWindowButton(a,b);c&&(c._isEnabled=!0,c.className="dhtmlx_wins_btns_button dhtmlx_button_"+c.label+"_default")};this._disableButton=function(a,b){var c=this._engineGetWindowButton(a,b);c&&(c._isEnabled=!1,c.className="dhtmlx_wins_btns_button dhtmlx_button_"+a.btns[b].label+"_disabled")};this._allowReszieGlob=function(a){a._allowResizeGlobal=
!0;this._enableButton(a,"minmax1");this._enableButton(a,"minmax2")};this._denyResize=function(a){a._allowResizeGlobal=!1;this._disableButton(a,"minmax1");this._disableButton(a,"minmax2")};this._maximizeWindow=function(a){a=this.wins[a];if(!1!=a._allowResizeGlobal){var b=a._isParked;b&&this._parkWindow(a.idd,!0);a.lastMaximizeX=a.x;a.lastMaximizeY=a.y;a.lastMaximizeW=a.w;a.lastMaximizeH=a.h;"auto"!=a.maxW&&"auto"!=a.maxW?(a.x=Math.round(a.x+(a.w-a.maxW)/2),a.y=Math.round(a.y+(a.h-a.maxH)/2),a._allowMove=
!0):(a.x=0,a.y=0,a._allowMove=!1);a._isMaximized=!0;a._allowResize=!1;a.w="auto"==a.maxW?this.vp==document.body?"100%":""!=this.vp.style.width&&-1==String(this.vp.style.width).search("%")?parseInt(this.vp.style.width):this.vp.offsetWidth:a.maxW;a.h="auto"==a.maxH?this.vp==document.body?"100%":""!=this.vp.style.height&&-1==String(this.vp.style.width).search("%")?parseInt(this.vp.style.height):this.vp.offsetHeight:a.maxH;this._hideButton(a,"minmax1");this._showButton(a,"minmax2");this._engineRedrawWindowPos(a);
b?this._parkWindow(a.idd,!0):(this._engineRedrawWindowSize(a),a.updateNestedObjects());a.checkEvent("onMaximize")?a.callEvent("onMaximize",[a]):this.callEvent("onMaximize",[a])}};this._restoreWindow=function(a){a=this.wins[a];if(!1!=a._allowResizeGlobal){a.layout&&a.layout._defineWindowMinDimension(a);var b=a._isParked;b&&this._parkWindow(a.idd,!0);"auto"!=a.maxW&&"auto"!=a.maxW?(a.x=Math.round(a.x+(a.w-a.lastMaximizeW)/2),a.y=Math.round(a.y+(a.h-a.lastMaximizeH)/2)):(a.x=a.lastMaximizeX,a.y=a.lastMaximizeY);
a.w=a.lastMaximizeW;a.h=a.lastMaximizeH;a._isMaximized=!1;a._allowMove=a._allowMoveGlobal;a._allowResize=!0;this._fixWindowDimensionInViewport(a);this._hideButton(a,"minmax2");this._showButton(a,"minmax1");this._engineRedrawWindowPos(a);b?this._parkWindow(a.idd,!0):(this._engineRedrawWindowSize(a),a.updateNestedObjects());a.checkEvent("onMinimize")?a.callEvent("onMinimize",[a]):this.callEvent("onMinimize",[a])}};this._showButton=function(a,b,c){!(b=this._engineGetWindowButton(a,b))||!c&&b._userHide||
!0===b.isVisible||(b.isVisible=!0,b.style.display="",b.style.visibility="visible",b._userHide=!0!=c,this._engineRedrawWindowTitle(a))};this._hideButton=function(a,b,c){(b=this._engineGetWindowButton(a,b))&&(c||!1!==b.isVisible)&&(b.isVisible=!1,b.style.display="none",b.style.visibility="hidden",b._userHide=!0==c,this._engineRedrawWindowTitle(a))};this._showWindow=function(a){a.style.display="";a.checkEvent("onShow")?a.callEvent("onShow",[a]):this.callEvent("onShow",[a]);var b=this._getActive();null==
b?(this._bringOnTop(a),this._makeActive(a)):this._isWindowHidden(b)&&(this._bringOnTop(a),this._makeActive(a));this.iframeMode&&a.ifr&&(a.ifr.style.display="")};this._hideWindow=function(a){a.style.display="none";a.checkEvent("onHide")?a.callEvent("onHide",[a]):this.callEvent("onHide",[a]);var b=this.getTopmostWindow(!0);null!=b&&(this._bringOnTop(b),this._makeActive(b));this.iframeMode&&a.ifr&&(a.ifr.style.display="none")};this._isWindowHidden=function(a){return"none"==a.style.display};this._closeWindow=
function(a){var b=this.wins[a];this._focusFixIE&&(this._focusFixIE.style.top=(this.vp==document.body?0:getAbsoluteTop(this.vp))+Number(b.y)+"px",this._focusFixIE.focus());if(b.checkEvent("onClose")){if(!b.callEvent("onClose",[b]))return}else if(!this.callEvent("onClose",[b]))return;this._removeWindowGlobal(a);a={zi:0};for(var c in this.wins)this.wins[c].zi>a.zi&&(a=this.wins[c]);null!=a&&this._makeActive(a)};this._needHelp=function(a){a=this.wins[a];a.checkEvent("onHelp")?a.callEvent("onHelp",[a]):
this.callEvent("onHelp",[a])};this._setWindowIcon=function(a,b,c){a.iconsPresent=!0;a.icons[0]=this.imagePath+b;a.icons[1]=this.imagePath+c;this._engineUpdateWindowIcon(a,a.icons[a.isOnTop()?0:1])};this._getWindowIcon=function(a){return a.iconsPresent?[a.icons[0],a.icons[1]]:[null,null]};this._clearWindowIcons=function(a){a.iconsPresent=!1;a.icons[0]=this.imagePath+this.pathPrefix+this.skin+"/active/icon_blank.gif";a.icons[1]=this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_blank.gif";this._engineUpdateWindowIcon(a,
a.icons[a.isOnTop()?0:1])};this._restoreWindowIcons=function(a){a.iconsPresent=!0;a.icons[0]=this.imagePath+this.pathPrefix+this.skin+"/active/icon_normal.gif";a.icons[1]=this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_normal.gif";this._engineUpdateWindowIcon(a,a.icons["dhtmlx_window_active"==a.className?0:1])};this._attachWindowContentTo=function(a,b,c,g){var k=this._engineGetWindowContent(a).parentNode;k.parentNode.removeChild(k);a.hide();k.style.left="0px";k.style.top="0px";k.style.width=
(null!=c?c:b.offsetWidth)+"px";k.style.height=(null!=g?g:b.offsetHeight)+"px";k.style.position="relative";b.appendChild(k);this._engineGetWindowContent(a).style.width=k.style.width;this._engineGetWindowContent(a).style.height=k.style.height};this._setWindowToFullScreen=function(a,b){!0!=b||a._isFullScreened||(a._p1=a.vs[a.av].dhxcont.nextSibling,a._p1.parentNode.removeChild(a.vs[a.av].dhxcont),a.hide(),a._isFullScreened=!0,a._FSoffsetHeight=a._offsetHeight,a._FSoffsetHeightSaved=a._offsetHeightSaved,
a._FSoffsetLeft=a._offsetLeft,a._FSoffsetWidth=a._offsetWidth,a._offsetHeight=0,a._offsetHeightSaved=0,a._offsetLeft=0,a._offsetWidth=0,a.vs[a.av].dhxcont.style.position="absolute",document.body.appendChild(a.vs[a.av].dhxcont),a.adjustContent(document.body,0,0,!1,0),a.updateNestedObjects());!1==b&&a._isFullScreened&&(a._p1.parentNode.insertBefore(a.vs[a.av].dhxcont,a._p1),a._p1=null,a._isFullScreened=!1,a._offsetHeight=a._FSoffsetHeight,a._offsetHeightSaved=a._FSoffsetHeightSaved,a._offsetLeft=a._FSoffsetLeft,
a._offsetWidth=a._FSoffsetWidth,a._FSoffsetHeight=a._FSoffsetHeightSaved=a._FSoffsetLeft=a._FSoffsetWidth=null,a.show(),a.setDimension(a.w,a.h),a.bringToTop())};this._isWindowOnTop=function(a){return this.getTopmostWindow()==a};this._bringOnBottom=function(a){for(var b in this.wins)this.wins[b].zi<a.zi&&(this.wins[b].zi+=this.zIndexStep,this.wins[b].style.zIndex=this.wins[b].zi);a.zi=50;a.style.zIndex=a.zi;this._makeActive(this.getTopmostWindow())};this._isWindowOnBottom=function(a){var b=!0,c;for(c in this.wins)this.wins[c]!=
a&&(b=b&&this.wins[c].zi>a.zi);return b};this._stickWindow=function(a){a=this.wins[a];a._isSticked=!0;this._hideButton(a,"stick");this._showButton(a,"sticked");this._bringOnTop(a)};this._unstickWindow=function(a){a=this.wins[a];a._isSticked=!1;this._hideButton(a,"sticked");this._showButton(a,"stick");this._bringOnTopAnyStickedWindows()};this._addUserButton=function(a,b,c,g){b=String(b).toLowerCase();c=this._engineAddUserButton(a,b,c);c.title=g;c.isVisible=!0;c._isEnabled=!0;c.isPressed=!1;c.label=
b;a.btns[b]=c;a.btns[b].winId=a.idd;a.btns[b]._doOnClick=function(){};this._attachEventsOnButton(a.idd,b);c=null};this._removeUserButton=function(a,b){this._removeButtonGlobal(a,b)};this._blockSwitcher=function(a){for(var b in this.wins)!0==a?this.wins[b].showCoverBlocker():this.wins[b].hideCoverBlocker()};this.modalWin=this.resizingWin=null;this.resizingDirs="none";_isIE&&(this._focusFixIE=document.createElement("INPUT"),this._focusFixIE.className="dhx_windows_ieonclosefocusfix",this._focusFixIE.style.position=
"absolute",this._focusFixIE.style.width="1px",this._focusFixIE.style.height="1px",this._focusFixIE.style.border="none",this._focusFixIE.style.background="none",this._focusFixIE.style.left="-10px",this._focusFixIE.style.fontSize="1px",document.body.appendChild(this._focusFixIE));this._createViewport();this._doOnMouseUp=function(){null!=b&&b._stopMove()};this._doOnMoseMove=function(a){a=a||event;null!=b&&b._moveWindow(a)};this._resizeTM=null;this._resizeTMTime=200;this._lw=null;this._doOnResize=function(){b._lw!=
document.documentElement.clientHeight&&(window.clearTimeout(b._resizeTM),b._resizeTM=window.setTimeout(function(){b._autoResizeViewport()},b._resizeTMTime));b._lw=document.documentElement.clientHeight};this._doOnUnload=function(){b.unload()};this._doOnSelectStart=function(a){a=a||event;if(null!=b.movingWin||null!=b.resizingWin)a.returnValue=!1};_isIE&&document.body.attachEvent("onselectstart",this._doOnSelectStart);dhtmlxEvent(window,"resize",this._doOnResize);dhtmlxEvent(document.body,"unload",this._doOnUnload);
this._isIPad?(document.addEventListener("touchmove",this._doOnMoseMove,!1),document.addEventListener("touchend",this._doOnMouseUp,!1)):(dhtmlxEvent(document.body,"mouseup",this._doOnMouseUp),dhtmlxEvent(this.vp,"mousemove",this._doOnMoseMove),dhtmlxEvent(this.vp,"mouseup",this._doOnMouseUp));this._setWindowModal=function(a,b){!0==b?(this._makeActive(a),this._bringOnTop(a),this.modalWin=a,a._isModal=!0,this.modalCoverI.style.zIndex=a.zi-2,this.modalCoverI.style.display="",this.modalCoverD.style.zIndex=
a.zi-2,this.modalCoverD.style.display=""):(this.modalWin=null,a._isModal=!1,this.modalCoverI.style.zIndex=0,this.modalCoverI.style.display="none",this.modalCoverD.style.zIndex=0,this.modalCoverD.style.display="none")};this._bringOnTopAnyStickedWindows=function(){var a=[],b;for(b in this.wins)this.wins[b]._isSticked&&(a[a.length]=this.wins[b]);for(var c=0;c<a.length;c++)this._bringOnTop(a[c]);if(0==a.length)for(b in this.wins)"dhtmlx_window_active"==this.wins[b].className&&this._bringOnTop(this.wins[b])};
this.unload=function(){this._clearAll()};this._removeButtonGlobal=function(a,b){if(this.wins[a]&&this.wins[a].btns[b]){var c=this.wins[a].btns[b];c.title=null;c.isVisible=null;c._isEnabled=null;c.isPressed=null;c.label=null;c._doOnClick=null;c.detachAllEvents();c.attachEvent=null;c.callEvent=null;c.checkEvent=null;c.detachEvent=null;c.detachAllEvents=null;c.disable=null;c.enable=null;c.eventCatcher=null;c.hide=null;c.isEnabled=null;c.isHidden=null;c.show=null;c.onmousedown=null;c.onmouseout=null;
c.onmouseover=null;c.onmouseup=null;c.ontouchstart=null;c.ontouchend=null;c.parentNode&&c.parentNode.removeChild(c);this.wins[a].btns[b]=null;delete this.wins[a].btns[b]}};this._removeWindowGlobal=function(a){var b=this.wins[a];this.modalWin==b&&this._setWindowModal(b,!1);this.iframeMode&&b.ifr&&(b.ifr.parentNode.removeChild(b.ifr),b.ifr=null);b.coverBlocker().onselectstart=null;this._engineDiableOnSelectInWindow(b,!1);b._dhxContDestruct();this._engineGetWindowHeader(b).onmousedown=null;this.resizingWin=
this.movingWin=this._engineGetWindowHeader(b).ondblclick=null;for(var c in b.btns)this._removeButtonGlobal(b,c);b.btns=null;b.detachAllEvents();b._adjustToContent=null;b._doOnAttachMenu=null;b._doOnAttachStatusBar=null;b._doOnAttachToolbar=null;b._doOnFrameMouseDown=null;b._doOnFrameContentLoaded=null;b._redraw=null;b.addUserButton=null;b.allowMove=null;b.allowPark=null;b.allowResize=null;b.attachEvent=null;b.bringToBottom=null;b.bringToTop=null;b.callEvent=null;b.center=null;b.centerOnScreen=null;
b.checkEvent=null;b.clearIcon=null;b.close=null;b.denyMove=null;b.denyPark=null;b.denyResize=null;b.detachEvent=null;b.detachAllEvents=null;b.eventCatcher=null;b.getDimension=null;b.getIcon=null;b.getId=null;b.getMaxDimension=null;b.getMinDimension=null;b.getPosition=null;b.getText=null;b.hide=null;b.hideHeader=null;b.isHidden=null;b.isMaximized=null;b.isModal=null;b.isMovable=null;b.isOnBottom=null;b.isOnTop=null;b.isParkable=null;b.isParked=null;b.isResizable=null;b.isSticked=null;b.keepInViewport=
null;b.maximize=null;b.minimize=null;b.park=null;b.progressOff=null;b.progressOn=null;b.removeUserButton=null;b.restoreIcon=null;b.setDimension=null;b.setIcon=null;b.setMaxDimension=null;b.setMinDimension=null;b.setModal=null;b.setPosition=null;b.setText=null;b.setToFullScreen=null;b.show=null;b.showHeader=null;b.stick=null;b.unstick=null;b.onmousemove=null;b.onmousedown=null;b.icons=null;b.button=null;b._dhxContDestruct=null;b.dhxContGlobal.obj=null;b.dhxContGlobal.setContent=null;b.dhxContGlobal.dhxcont=
null;b.dhxContGlobal=null;if(b._frame){for(;0<b._frame.childNodes.length;)b._frame.removeChild(b._frame.childNodes[0]);b._frame=null}this._parseNestedForEvents(b);b._content=null;b.innerHTML="";b.parentNode.removeChild(b);this.wins[a]=null;delete this.wins[a]};this._removeEvents=function(a){a.onmouseover=null;a.onmouseout=null;a.onmousemove=null;a.onclick=null;a.ondblclick=null;a.onmouseenter=null;a.onmouseleave=null;a.onmouseup=null;a.onmousewheel=null;a.onmousedown=null;a.onselectstart=null;a.onfocus=
null;a.style.display=""};this._parseNestedForEvents=function(a){this._removeEvents(a);for(var b=0;b<a.childNodes.length;b++)null!=a.childNodes[b].tagName&&this._parseNestedForEvents(a.childNodes[b])};this._clearAll=function(){this._clearDocumentEvents();for(var a in this.wins)this._removeWindowGlobal(a);this.wins=null;for(this._parseNestedForEvents(this._carcass);0<this._carcass.childNodes.length;)this._carcass.removeChild(this._carcass.childNodes[0]);this._carcass.onselectstart=null;this._carcass.parentNode.removeChild(this._carcass);
this._carcass=null;this._parseNestedForEvents(this._vpcover);this._vpcover.parentNode.removeChild(this._vpcover);this._vpcover=null;this._parseNestedForEvents(this.modalCoverD);this.modalCoverD.parentNode.removeChild(this.modalCoverD);this.modalCoverD=null;this._parseNestedForEvents(this.modalCoverI);this.modalCoverI.parentNode.removeChild(this.modalCoverI);this.modalCoverI=null;!0==this.vp.autocreated&&this.vp.parentNode.removeChild(this.vp);this.vp=null;for(a in this.skinParams)delete this.skinParams[a];
b=this.window=this.unload=this.setViewport=this.setSkin=this.setImagePath=this.setEffect=this.isWindow=this.getTopmostWindow=this.getEffect=this.getBottommostWindow=this.forEachWindow=this.findByText=this.eventCatcher=this.enableAutoViewport=this.detachEvent=this.createWindow=this.checkEvent=this.callEvent=this.attachViewportTo=this.attachEvent=this._unstickWindow=this._stopMove=this._stickWindow=this._showWindow=this._showButton=this._setWindowToFullScreen=this._setWindowModal=this._setWindowIcon=
this._restoreWindowIcons=this._restoreWindow=this._removeWindowGlobal=this._removeUserButton=this._removeEvents=this._removeButtonGlobal=this._parseNestedForEvents=this._parkWindow=this._needHelp=this._moveWindow=this._maximizeWindow=this._makeActive=this._isWindowOnTop=this._isWindowOnBottom=this._isWindowHidden=this._hideWindow=this._hideButton=this._getWindowIcon=this._getTopZIndex=this._getActive=this._genStr=this._fixWindowDimensionInViewport=this._engineUpdateWindowIcon=this._engineSwitchWindowProgress=
this._engineSwitchWindowHeader=this._engineSetWindowBody=this._engineRedrawWindowTitle=this._engineRedrawWindowSize=this._engineRedrawWindowPos=this._engineRedrawSkin=this._engineGetWindowParkedHeight=this._engineGetWindowLabel=this._engineGetWindowHeaderState=this._engineGetWindowHeader=this._engineGetWindowContent=this._engineGetWindowButton=this._engineFixWindowPosInViewport=this._engineDoOnWindowParkUp=this._engineDoOnWindowParkDown=this._engineDiableOnSelectInWindow=this._engineCheckHeaderMouseDown=
this._engineAllowWindowResize=this._engineAdjustWindowToContent=this._engineAddUserButton=this._enableButton=this._doParkUp=this._doParkDown=this._doOnUnload=this._doOnSelectStart=this._doOnResize=this._doOnMouseUp=this._doOnMoseMove=this._disableButton=this._dhx_Engine=this._denyResize=this._denyParking=this._createViewport=this._closeWindow=this._clearWindowIcons=this._clearDocumentEvents=this._clearAll=this._centerWindow=this._bringOnTopAnyStickedWindows=this._bringOnTop=this._bringOnBottom=this._blockSwitcher=
this._autoResizeViewport=this._attachWindowContentTo=this._attachEventsOnButton=this._allowReszieGlob=this._allowParking=this._addUserButton=this._addDefaultButtons=this._engineSkinParams=this._effects=this.skinParams=null};this._clearDocumentEvents=function(){_isIE?(window.detachEvent("onresize",this._doOnResize),document.body.detachEvent("onselectstart",this._doOnSelectStart),document.body.detachEvent("onmouseup",this._doOnMouseUp),document.body.detachEvent("onunload",this._doOnUnload),this.vp.detachEvent("onmousemove",
this._doOnMoseMove),this.vp.detachEvent("onmouseup",this._doOnMouseUp)):(window.removeEventListener("resize",this._doOnResize,!1),document.body.removeEventListener("mouseup",this._doOnMouseUp,!1),document.body.removeEventListener("unload",this._doOnUnload,!1),this.vp.removeEventListener("mousemove",this._doOnMoseMove,!1),this.vp.removeEventListener("mouseup",this._doOnMouseUp,!1))};this._genStr=function(a){for(var b="",c=0;c<a;c++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.round(61*
Math.random()));return b};dhtmlxEventable(this);return this}alert(this.i18n.noenginealert)}else alert(this.i18n.dhx)}
dhtmlXWindows.prototype._dhx_Engine=function(){this._engineEnabled=!0;this._engineName="dhx";this._engineSkinParams={dhx_blue:{hh:21,lbw:2,rbw:2,lch:2,lcw:14,rch:14,rcw:14,bbh:2,mnh:23,tbh:25,sbh:20,noh_t:null,noh_h:null},dhx_black:{hh:21,lbw:2,rbw:2,lch:2,lcw:14,rch:14,rcw:14,bbh:2,mnh:23,tbh:25,sbh:20,noh_t:null,noh_h:null},dhx_skyblue:{hh:29,lbw:2,rbw:2,lch:2,lcw:14,rch:14,rcw:14,bbh:2,mnh:23,tbh:25,sbh:20,noh_t:5,noh_h:-10},dhx_web:{hh:27,lbw:5,rbw:5,lch:5,lcw:14,rch:14,rcw:14,bbh:5,mnh:23,tbh:25,
sbh:20,noh_t:5,noh_h:-10},dhx_terrace:{hh:37,lbw:5,rbw:5,lch:5,lcw:14,rch:14,rcw:14,bbh:5,mnh:23,tbh:25,sbh:20,noh_t:5,noh_h:-10}};this._isIE6=!1;_isIE&&(this._isIE6=null==window.XMLHttpRequest?!0:!1);this._engineSetWindowBody=function(a){a.innerHTML="<div iswin='1' class='dhtmlx_wins_body_outer' style='position: relative;'>"+(this._isIE6?"<iframe src='javascript:false;' frameborder='0' class='dhtmlx_wins_ie6_cover_fix' onload='this.contentWindow.document.body.style.overflow=\"hidden\";'></iframe>":
"")+"<div class='dhtmlx_wins_icon'></div><div class='dhtmlx_wins_progress'></div><div class='dhtmlx_wins_title'>dhtmlxWindow</div><div class='dhtmlx_wins_btns'><div class='dhtmlx_wins_btns_button dhtmlx_button_sticked_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_stick_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_help_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_park_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_minmax2_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_minmax1_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_close_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_dock_default'></div></div><div class='dhtmlx_wins_body_inner'></div><div winResT='yes' class='dhtmlx_wins_resizer_t' style='display:none;'></div><div winResL='yes' class='dhtmlx_wins_resizer_l'></div><div winResR='yes' class='dhtmlx_wins_resizer_r'></div><div winResB='yes' class='dhtmlx_wins_resizer_b'></div><div class='white_line'></div><div class='white_line2'></div></div>";
a.dhxContGlobal=new dhtmlXContainer(a);"dhx_skyblue"==this.skin&&(a.dhxContGlobal.obj._offsetWidth=-10,a.dhxContGlobal.obj._offsetHeight=-5,a.dhxContGlobal.obj._offsetLeft=5,a.dhxContGlobal.obj._offsetHeightSaved=a.dhxContGlobal.obj._offsetHeight);"dhx_web"==this.skin&&(a.dhxContGlobal.obj._offsetWidth=-10,a.dhxContGlobal.obj._offsetHeight=-5,a.dhxContGlobal.obj._offsetLeft=5,a.dhxContGlobal.obj._offsetHeightSaved=a.dhxContGlobal.obj._offsetHeight);a.skin=this.skin;a.dhxContGlobal.setContent(a.childNodes[0].childNodes[this._isIE6?
5:4]);var b=a.coverBlocker();b.onselectstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0};b=null;this.iframeMode&&(a.ifr=document.createElement("IFRAME"),a.ifr.style.position="absolute",a.ifr.style.left=a.style.left,a.ifr.style.top=a.style.top,a.ifr.style.width=a.style.width,a.ifr.style.height=a.style.height,a.ifr.style.zIndex=a.style.zIndex-1,a.ifr.style.backgroundColor="white",a.ifr.frameBorder=0,a.ifr.setAttribute("src","javascript:false;"),a.parentNode.appendChild(a.ifr))};this._engineDiableOnSelectInWindow=
function(a,b){var c=[];c[0]=a.childNodes[0].childNodes[this._isIE6?1:0];c[1]=a.childNodes[0].childNodes[this._isIE6?2:1];c[2]=a.childNodes[0].childNodes[this._isIE6?3:2];c[3]=a.childNodes[0].childNodes[this._isIE6?4:3];c[4]=a.childNodes[0].childNodes[this._isIE6?6:5];c[5]=a.childNodes[0].childNodes[this._isIE6?7:6];c[6]=a.childNodes[0].childNodes[this._isIE6?8:7];c[7]=a.childNodes[0].childNodes[this._isIE6?9:8];for(var d=0;d<c.length;d++)c[d].onselectstart=b?function(a){a=a||event;return a.returnValue=
!1}:null,c[d]=null;c=null};this._engineGetWindowHeader=function(a){a.childNodes[0].idd=a.idd;return a.childNodes[0]};this._engineRedrawWindowSize=function(a){a.style.width=-1==String(a.w).search("%")?a.w+"px":a.w;a.style.height=-1==String(a.h).search("%")?a.h+"px":a.h;var b=a.childNodes[0];b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.offsetWidth>a.clientWidth&&(b.style.width=2*a.clientWidth-b.offsetWidth+"px");if(b.offsetHeight>a.clientHeight){var c=2*a.clientHeight-b.offsetHeight;
0>c&&(c=0);b.style.height=c+"px"}c=!0==a._noHeader?a._hdrSize:this._engineSkinParams[this.skin].hh;this.iframeMode&&a.ifr&&(a.ifr.style.width=a.style.width,a.ifr.style.height=a.style.height);this._engineRedrawWindowTitle(a);a.adjustContent(b,c)};this._engineRedrawWindowPos=function(a){!a._isFullScreened&&(a.style.left=a.x+"px",a.style.top=a.y+"px",this.iframeMode&&a.ifr)&&(a.ifr.style.top=a.style.top,a.ifr.style.left=a.style.left)};this._engineFixWindowPosInViewport=function(a){var b=!0==a._noHeader?
a._hdrSize:this._engineSkinParams[this.skin].hh;a._keepInViewport?(0>a.x&&(a.x=0),a.x+a.w>this.vp.offsetWidth&&(a.x=this.vp.offsetWidth-a.w),a.y+a.h>this.vp.offsetHeight&&(a.y=this.vp.offsetHeight-a.h),0>a.y&&(a.y=0)):(a.y+b>this.vp.offsetHeight&&(a.y=this.vp.offsetHeight-b),0>a.y&&(a.y=0),0>a.x+a.w-10&&(a.x=10-a.w),a.x>this.vp.offsetWidth-10&&(a.x=this.vp.offsetWidth-10))};this._engineCheckHeaderMouseDown=function(a,b){if(this._isIPad){var c=b.touches[0].clientY,d=b.target||b.srcElement;return d==
a.childNodes[0]||d==a.childNodes[0].childNodes[0]||d==a.childNodes[0].childNodes[2]||d==a.childNodes[0].childNodes[3]?!0:!1}c=_isIE||_isOpera?b.offsetY:b.layerY;d=b.target||b.srcElement;return c<=(!0==a._noHeader?a._hdrSize:this._engineSkinParams[this.skin].hh)&&(d==a.childNodes[0]||d==a.childNodes[0].childNodes[this._isIE6?1:0]||d==a.childNodes[0].childNodes[this._isIE6?3:2]||d==a.childNodes[0].childNodes[this._isIE6?4:3])?!0:!1};this._engineGetWindowContent=function(){alert("_engineGetWindowContent")};
this._engineGetWindowButton=function(a,b){b=String(b).toLowerCase();for(var c=null,d="dhtmlx_button_"+b+"_",e=0;e<a.childNodes[0].childNodes[this._isIE6?4:3].childNodes.length;e++){var f=a.childNodes[0].childNodes[this._isIE6?4:3].childNodes[e];-1!=String(f.className).search(d)&&(c=f)}return c};this._engineAddUserButton=function(a,b,c){isNaN(c)&&(c=0);var d=document.createElement("DIV");d.className="dhtmlx_wins_btns_button dhtmlx_button_"+b+"_default";b=a.childNodes[0].childNodes[this._isIE6?4:3];
c=b.childNodes.length-c;0>c&&(c=0);c>=b.childNodes.length?b.appendChild(d):b.insertBefore(d,b.childNodes[c]);this._engineRedrawWindowTitle(a);return d};this._engineGetWindowParkedHeight=function(){return this._engineSkinParams[this.skin].hh+1};this._engineDoOnWindowParkDown=function(a){a.childNodes[0].childNodes[this._isIE6?6:5].style.display=!0==a._noHeader?"":"none";a.childNodes[0].childNodes[this._isIE6?7:6].style.display="";a.childNodes[0].childNodes[this._isIE6?8:7].style.display="";a.childNodes[0].childNodes[this._isIE6?
9:8].style.display=""};this._engineDoOnWindowParkUp=function(a){a.childNodes[0].childNodes[this._isIE6?6:5].style.display="none";a.childNodes[0].childNodes[this._isIE6?7:6].style.display="none";a.childNodes[0].childNodes[this._isIE6?8:7].style.display="none";a.childNodes[0].childNodes[this._isIE6?9:8].style.display="none"};this._engineUpdateWindowIcon=function(a,b){a.childNodes[0].childNodes[this._isIE6?1:0].style.backgroundImage="url('"+b+"')"};this._engineAllowWindowResize=function(a,b,c,d){if(b.getAttribute){var e=
this._engineSkinParams[this.skin],f=!0==a._noHeader?a._hdrSize:this._engineSkinParams[this.skin].hh;return null!=b.getAttribute("winResL")&&"yes"==b.getAttribute("winResL")&&d>=f?d>=a.h-e.lch?"corner_left":d<=e.lch&&!0==a._noHeader?"corner_up_left":"border_left":null!=b.getAttribute("winResR")&&"yes"==b.getAttribute("winResR")&&d>=f?d>=a.h-e.rch?"corner_right":d<=e.rch&&!0==a._noHeader?"corner_up_right":"border_right":null!=b.getAttribute("winResT")&&"yes"==b.getAttribute("winResT")&&!0==a._noHeader?
c<=e.lcw?"corner_up_left":c>=a.w-e.rcw?"corner_up_right":"border_top":null!=b.getAttribute("winResB")&&"yes"==b.getAttribute("winResB")?c<=e.lcw?"corner_left":c>=a.w-e.rcw?"corner_right":"border_bottom":null}};this._engineAdjustWindowToContent=function(a,b,c){a.setDimension(b+a.w-a.vs[a.av].dhxcont.clientWidth,c+a.h-a.vs[a.av].dhxcont.clientHeight)};this._engineRedrawSkin=function(){this.vp.className=(this.vp==document.body&&this.vp._css?this.vp._css+" ":"")+"dhtmlx_winviewport dhtmlx_skin_"+this.skin+
(this._r?" dhx_wins_rtl":"");var a=this._engineSkinParams[this.skin],b;for(b in this.wins)"dhx_skyblue"==this.skin?(this.wins[b].dhxContGlobal.obj._offsetTop=this.wins[b]._noHeader?a.noh_t:null,this.wins[b].dhxContGlobal.obj._offsetWidth=-10,this.wins[b].dhxContGlobal.obj._offsetHeight=this.wins[b]._noHeader?a.noh_h:-5,this.wins[b].dhxContGlobal.obj._offsetLeft=5,this.wins[b].dhxContGlobal.obj._offsetHeightSaved=-5):(this.wins[b].dhxContGlobal.obj._offsetWidth=null,this.wins[b].dhxContGlobal.obj._offsetHeight=
null,this.wins[b].dhxContGlobal.obj._offsetLeft=null,this.wins[b].dhxContGlobal.obj._offsetTop=null,this.wins[b].dhxContGlobal.obj._offsetHeightSaved=null),this.wins[b].skin=this.skin,this._restoreWindowIcons(this.wins[b]),this._engineRedrawWindowSize(this.wins[b])};this._engineSwitchWindowProgress=function(a,b){!0==b?(a.childNodes[0].childNodes[this._isIE6?1:0].style.display="none",a.childNodes[0].childNodes[this._isIE6?2:1].style.display=""):(a.childNodes[0].childNodes[this._isIE6?2:1].style.display=
"none",a.childNodes[0].childNodes[this._isIE6?1:0].style.display="")};this._engineSwitchWindowHeader=function(a,b){a._noHeader||(a._noHeader=!1);if(b==a._noHeader){a._noHeader=!0==b?!1:!0;a._hdrSize=0;a.childNodes[0].childNodes[this._isIE6?5:4].className="dhtmlx_wins_body_inner"+(a._noHeader?" dhtmlx_wins_no_header":"");a.childNodes[0].childNodes[this._isIE6?6:5].style.display=a._noHeader?"":"none";a.childNodes[0].childNodes[this._isIE6?1:0].style.display=a._noHeader?"none":"";a.childNodes[0].childNodes[this._isIE6?
3:2].style.display=a._noHeader?"none":"";a.childNodes[0].childNodes[this._isIE6?4:3].style.display=a._noHeader?"none":"";var c=this._engineSkinParams[this.skin];a._noHeader?(a.dhxContGlobal.obj._offsetHeightSaved=a.dhxContGlobal.obj._offsetHeight,a.dhxContGlobal.obj._offsetHeight=c.noh_h,a.dhxContGlobal.obj._offsetTop=c.noh_t):(a.dhxContGlobal.obj._offsetHeight=a.dhxContGlobal.obj._offsetHeightSaved,a.dhxContGlobal.obj._offsetTop=null);this._engineRedrawWindowSize(a)}};this._engineGetWindowHeaderState=
function(a){return a._noHeader?!0:!1};this._engineGetWindowLabel=function(a){return a.childNodes[0].childNodes[this._isIE6?3:2]};this._engineRedrawWindowTitle=function(a){if(!0!==a._noHeader){var b=a.offsetWidth-a.childNodes[0].childNodes[this._isIE6?1:0].offsetWidth-a.childNodes[0].childNodes[this._isIE6?4:3].offsetWidth-24;0>b?b="100%":b+="px";a.childNodes[0].childNodes[this._isIE6?3:2].style.width=b}}};
dhtmlXWindows.prototype.i18n={dhxcontaler:"dhtmlxcontainer.js is missed on the page",noenginealert:"No dhtmlxWindows engine was found.",stick:"Stick",unstick:"Unstick",help:"Help",parkdown:"Park Down",parkup:"Park Up",maximize:"Maximize",restore:"Restore",close:"Close",dock:"Dock"};
(function(){dhtmlx.extend_api("dhtmlXWindows",{_init:function(){return[]},_patch:function(b){b.old_createWindow=b.createWindow;b.createWindow=function(b){if(1<arguments.length)return this.old_createWindow.apply(this,arguments);var d=this.old_createWindow(b.id,b.x||b.left,b.y||b.top,b.width,b.height);d.allowMoveA=function(a){a?this.allowMove():this.denyMove()};d.allowParkA=function(a){a?this.allowPark():this.denyPark()};d.allowResizeA=function(a){a?this.allowResize():this.denyResize()};for(var e in b)if(a[e])d[a[e]](b[e]);
else 0==e.indexOf("on")&&d.attachEvent(e,b[e]);return d}},animation:"setEffect",image_path:"setImagePath",skin:"setSkin",viewport:"_viewport",wins:"_wins"},{_viewport:function(a){a.object?(this.enableAutoViewport(!1),this.attachViewportTo(a.object)):(this.enableAutoViewport(!1),this.setViewport(a.left,a.top,a.width,a.height,a.parent))},_wins:function(a){for(var c=0;c<a.length;c++){var d=a[c];this.createWindow(d.id,d.left,d.top,d.width,d.height);d.text&&this.window(d.id).setText(d.text);d.keep_in_viewport&&
this.window(d.id).keepInViewport(!0);d.deny_resize&&this.window(d.id).denyResize();d.deny_park&&this.window(d.id).denyPark();d.deny_move&&this.window(d.id).denyMove()}}});var a={move:"allowMoveA",park:"allowParkA",resize:"allowResizeA",center:"center",modal:"setModal",caption:"setText",header:"showHeader"}})();window.dhtmlx||(dhtmlx={});dhtmlx.version="3.0";dhtmlx.codebase="./";dhtmlx.copy=function(a){var b=dhtmlx.copy.hb;b.prototype=a;return new b};dhtmlx.copy.hb=function(){};
dhtmlx.extend=function(a,b){for(var c in b)a[c]=b[c];b.p&&a.p();return a};dhtmlx.proto_extend=function(){for(var a=arguments,b=a[0],c=[],d=a.length-1;0<d;d--){"function"==typeof a[d]&&(a[d]=a[d].prototype);for(var e in a[d])"_init"==e?c.push(a[d][e]):b[e]||(b[e]=a[d][e])}a[0].p&&c.push(a[0].p);b.p=function(){for(var a=0;a<c.length;a++)c[a].apply(this,arguments)};b.base=a[1];d=function(a){this.p(a);this.J&&this.J(a,this.defaults)};d.prototype=b;b=a=null;return d};
dhtmlx.bind=function(a,b){return function(){return a.apply(b,arguments)}};dhtmlx.require=function(a){dhtmlx.A[a]||(dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+a).responseText),dhtmlx.A[a]=!0)};dhtmlx.A={};dhtmlx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};dhtmlx.methodPush=function(a,b){return function(){return a[b].apply(a,arguments)}};dhtmlx.isNotDefined=function(a){return"undefined"==typeof a};
dhtmlx.delay=function(a,b,c,d){setTimeout(function(){var d=a.apply(b,c);a=b=c=null;return d},d||1)};dhtmlx.uid=function(){this.W||(this.W=(new Date).valueOf());this.W++;return this.W};dhtmlx.toNode=function(a){return"string"==typeof a?document.getElementById(a):a};dhtmlx.toArray=function(a){return dhtmlx.extend(a||[],dhtmlx.PowerArray)};dhtmlx.toFunctor=function(a){return"string"==typeof a?eval(a):a};dhtmlx.q={};
dhtmlx.event=function(a,b,c,d){a=dhtmlx.toNode(a);var e=dhtmlx.uid();dhtmlx.q[e]=[a,b,c];d&&(c=dhtmlx.bind(c,d));a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c);return e};dhtmlx.eventRemove=function(a){if(a){var b=dhtmlx.q[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.q[a]}};
dhtmlx.EventSystem={p:function(){this.q={};this.ba={};this.U={}},block:function(){this.q.ka=!0},unblock:function(){this.q.ka=!1},mapEvent:function(a){dhtmlx.extend(this.U,a)},callEvent:function(a,b){if(this.q.ka)return!0;a=a.toLowerCase();var c=this.q[a.toLowerCase()],d=!0;if(c)for(var e=0;e<c.length;e++)!1===c[e].apply(this,b||[])&&(d=!1);this.U[a]&&!this.U[a].callEvent(a,b)&&(d=!1);return d},attachEvent:function(a,b,c){a=a.toLowerCase();c=c||dhtmlx.uid();b=dhtmlx.toFunctor(b);var d=this.q[a]||dhtmlx.toArray();
d.push(b);this.q[a]=d;this.ba[c]={f:b,t:a};return c},detachEvent:function(a){this.ba[a]&&(this.q[this.ba[a].t].remove(this.ba[a].f),delete this.ba[a])}};
dhtmlx.PowerArray={removeAt:function(a,b){0<=a&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(b||0===b){var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}else this.push(a)},find:function(a){for(i=0;i<this.length;i++)if(a==this[i])return i;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}};dhtmlx.env={};
-1!=navigator.userAgent.indexOf("Opera")?dhtmlx.Bd=!0:(dhtmlx.z=!!document.all,dhtmlx.hc=!document.all,dhtmlx.Cd=-1!=navigator.userAgent.indexOf("KHTML"),-1!=navigator.appVersion.indexOf("MSIE 8.0")&&"BackCompat"!=document.compatMode&&(dhtmlx.z=8),-1!=navigator.appVersion.indexOf("MSIE 9.0")&&"BackCompat"!=document.compatMode&&(dhtmlx.z=9));dhtmlx.env={};
(function(){dhtmlx.env.transform=!1;dhtmlx.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","oTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","oTransition"]},b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(;p=a[a.names[c]].pop();)"undefined"!=typeof b.style[p]&&(dhtmlx.env[a.names[c]]=!0)})();
dhtmlx.env.transform_prefix=function(){var a;dhtmlx.Bd?a="-o-":(a="",dhtmlx.hc&&(a="-moz-"),dhtmlx.Cd&&(a="-webkit-"));return a}();dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();dhtmlx.zIndex={drag:1E4};
dhtmlx.html={create:function(a,b,c){b=b||{};a=document.createElement(a);for(var d in b)a.setAttribute(d,b[d]);b.style&&(a.style.cssText=b.style);b["class"]&&(a.className=b["class"]);c&&(a.innerHTML=c);return a},getValue:function(a){return(a=dhtmlx.toNode(a))?dhtmlx.isNotDefined(a.value)?a.innerHTML:a.value:""},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b?b.parentNode.insertBefore(a,
b):c.appendChild(a))},locate:function(a,b){a=a||event;for(var c=a.target||a.srcElement;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,d=a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0),b=a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0);return{y:Math.round(d),x:Math.round(b)}}for(b=
d=0;a;)d+=parseInt(a.offsetTop,10),b+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:d,x:b}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=dhtmlx.z&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();dhtmlx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=!0;return!1},addCss:function(a,
b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(b,"g"),"")}};(function(){var a=document.getElementsByTagName("SCRIPT");a.length&&(a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhtmlx.codebase=a.slice(0,a.length).join("/")+"/")})();dhtmlx.ui||(dhtmlx.ui={});
dhtmlx.Template={Va:{},empty:function(){return""},setter:function(a){return dhtmlx.Template.fromHTML(a)},obj_setter:function(a){var b=dhtmlx.Template.setter(a),c=this;return function(){return b.apply(c,arguments)}},fromHTML:function(a){if("function"==typeof a)return a;if(this.Va[a])return this.Va[a];a=(a||"").toString();a=a.replace(/[\r\n]+/g,"\\n");a=a.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');a=a.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"');a=a.replace(/\{common\.([^\}\(]*)\(\)\}/g,
'"+(common.$1?common.$1(obj):"")+"');a=a.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"');a=a.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"');a=a.replace(/\{obj\}/g,'"+obj+"');a=a.replace(/\{-obj/g,"{obj");a=a.replace(/\{-common/g,"{common");a='return "'+a+'";';return this.Va[a]=Function("obj","common",a)}};
dhtmlx.Type={add:function(a,b){!a.types&&a.prototype.types&&(a=a.prototype);var c=b.name||"default";this.Cb(b);this.Cb(b,"edit");this.Cb(b,"loading");a.types[c]=dhtmlx.extend(dhtmlx.extend({},a.types[c]||this.Qc),b);return c},Qc:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},Cb:function(a,b){b="template"+(b?"_"+b:"");var c=a[b];if(c&&"string"==typeof c){if(-1!=c.indexOf("->"))switch(c=
c.split("->"),c[0]){case "html":c=dhtmlx.html.getValue(c[1]).replace(/\"/g,'\\"');break;case "http":c=(new dhtmlx.ajax).sync().get(c[1],{uid:(new Date).valueOf()}).responseText}a[b]=dhtmlx.Template.fromHTML(c)}}};
dhtmlx.Settings={p:function(){this.e=this.config={}},define:function(a,b){return"object"==typeof a?this.ea(a):this.na(a,b)},na:function(a,b){var c=this[a+"_setter"];return this.e[a]=c?c.call(this,b):b},ea:function(a){if(a)for(var b in a)this.na(b,a[b])},J:function(a,b){var c=dhtmlx.extend({},b);"object"==typeof a&&!a.tagName&&dhtmlx.extend(c,a);this.ea(c)},N:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.N(a[c]||{},b[c]);break;case "undefined":a[c]=b[c]}return a},sb:function(a,
b,c){"object"!=typeof a||a.tagName||(a=a.container);this.g=this.$view=dhtmlx.toNode(a);!this.g&&c&&(this.g=c(a));this.g.className+=" "+b;this.g.onselectstart=function(){return!1};this.j=this.g},Yd:function(a){if("object"==typeof a)return this.type_setter(a);this.type=dhtmlx.extend({},this.types[a]);this.customize()},customize:function(a){a&&dhtmlx.extend(this.type,a);this.type.kc=dhtmlx.Template.fromHTML(this.template_item_start(this.type));this.type.jc=this.template_item_end(this.type);this.render()},
type_setter:function(a){this.Yd("object"==typeof a?dhtmlx.Type.add(this,a):a);return a},template_setter:function(a){return this.type_setter({template:a})},css_setter:function(a){this.g.className+=" "+a;return a}};dhtmlx.Destruction={p:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){};this.P=this.n=null;this.B&&document.body.appendChild(this.B);this.B=null;this.g&&(this.g.innerHTML="",this.g.n=null);this.data=this.g=this.j=null;this.q=this.ba={}}};
dhtmlx.destructors=[];dhtmlx.event(window,"unload",function(){if(dhtmlx.destructors){for(var a=0;a<dhtmlx.destructors.length;a++)dhtmlx.destructors[a].destructor();dhtmlx.destructors=[]}for(var b in dhtmlx.q)a=dhtmlx.q[b],a[0].removeEventListener?a[0].removeEventListener(a[1],a[2],!1):a[0].detachEvent&&a[0].detachEvent("on"+a[1],a[2]),delete dhtmlx.q[b]});
dhtmlx.ui.pager=function(a){this.name="Pager";dhtmlx.extend(this,dhtmlx.Settings);this.sb(a,"dhx_pager");dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.SingleRender);dhtmlx.extend(this,dhtmlx.MouseEvents);this.J(a,{size:10,page:-1,group:5,count:0,type:"default"});this.data=this.e;this.refresh()};
dhtmlx.ui.pager.prototype={w:"dhx_p_id",on_click:{dhx_pager_item:function(a,b){this.select(b)}},select:function(a){switch(a){case "next":a=this.e.page+1;break;case "prev":a=this.e.page-1;break;case "first":a=0;break;case "last":a=this.e.limit-1}0>a&&(a=0);a>=this.data.limit&&(a=this.data.limit-1);this.callEvent("onBeforePageChange",[this.e.page,a])&&(this.data.page=1*a,this.refresh(),this.callEvent("onAfterPageChange",[a]))},types:{"default":{template:dhtmlx.Template.fromHTML("{common.pages()}"),
pages:function(a){var b="";if(-1==a.page)return"";a.min=a.page-Math.round((a.group-1)/2);a.max=a.min+a.group-1;0>a.min&&(a.max+=-1*a.min,a.min=0);a.max>=a.limit&&(a.min-=Math.min(a.min,a.max-a.limit+1),a.max=a.limit-1);for(var c=a.min||0;c<=a.max;c++)b+=this.button({id:c,index:c+1,selected:c==a.page?"_selected":""});return b},page:function(a){return a.page+1},first:function(){return this.button({id:"first",index:" &lt;&lt; ",selected:""})},last:function(){return this.button({id:"last",index:" &gt;&gt; ",
selected:""})},prev:function(){return this.button({id:"prev",index:"&lt;",selected:""})},next:function(){return this.button({id:"next",index:"&gt;",selected:""})},button:dhtmlx.Template.fromHTML("<div dhx_p_id='{obj.id}' class='dhx_pager_item{obj.selected}'>{obj.index}</div>")}},refresh:function(){var a=this.e;a.limit=Math.ceil(a.count/a.size);a.limit&&a.limit!=a.old_limit&&(a.page=Math.min(a.limit-1,a.page));var b=a.page;if(-1!=b&&b!=a.old_page||a.limit!=a.old_limit)this.render(),this.callEvent("onRefresh",
[]),a.old_limit=a.limit,a.old_page=a.page},template_item_start:dhtmlx.Template.fromHTML("<div>"),template_item_end:dhtmlx.Template.fromHTML("</div>")};dhtmlx.SingleRender={p:function(){},fa:function(a){return this.type.kc(a,this.type)+this.type.template(a,this.type)+this.type.jc},render:function(){if(!this.callEvent||this.callEvent("onBeforeRender",[this.data]))this.data&&(this.j.innerHTML=this.fa(this.data)),this.callEvent&&this.callEvent("onAfterRender",[])}};
dhtmlx.ui.Tooltip=function(a){this.name="Tooltip";this.version="3.0";"string"==typeof a&&(a={template:a});dhtmlx.extend(this,dhtmlx.Settings);dhtmlx.extend(this,dhtmlx.SingleRender);this.J(a,{type:"default",dy:0,dx:20});this.j=this.g=document.createElement("DIV");this.g.className="dhx_tooltip";dhtmlx.html.insertBefore(this.g,document.body.firstChild)};
dhtmlx.ui.Tooltip.prototype={show:function(a,b){this.Ob||(this.data!=a&&(this.data=a,this.render(a)),this.g.style.top=b.y+this.e.dy+"px",this.g.style.left=b.x+this.e.dx+"px",this.g.style.display="block")},hide:function(){this.data=null;this.g.style.display="none"},disable:function(){this.Ob=!0},enable:function(){this.Ob=!1},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty};
dhtmlx.AutoTooltip={tooltip_setter:function(a){var b=new dhtmlx.ui.Tooltip(a);this.attachEvent("onMouseMove",function(a,d){b.show(this.get(a),dhtmlx.html.pos(d))});this.attachEvent("onMouseOut",function(){b.hide()});this.attachEvent("onMouseMoving",function(){b.hide()});return b}};dhtmlx.compat=function(a,b){if(dhtmlx.compat[a])dhtmlx.compat[a](b)};
(function(){if(!window.dhtmlxError){var a=function(){};window.dhtmlxError={catchError:a,throwError:a};window.convertStringToBoolean=function(a){return!!a};window.dhtmlxEventable=function(a){dhtmlx.extend(a,dhtmlx.EventSystem)};var b={getXMLTopNode:function(){},doXPath:function(a){return dhtmlx.DataDriver.xml.xpath(this.xml,a)},xmlDoc:{responseXML:!0}};dhtmlx.compat.dataProcessor=function(a){a._sendData=function(a,c){if(a){c&&(this._in_progress[c]=(new Date).valueOf());if(!this.callEvent("onBeforeDataSending",
c?[c,this.getState(c)]:[]))return!1;var f=this,g=this.serverProcessor;"POST"!=this._tMode?dhtmlx.ajax().get(g+(-1!=g.indexOf("?")?"&":"?")+this.serialize(a,c),"",function(a,c){b.xml=dhtmlx.DataDriver.xml.checkResponse(a,c);f.afterUpdate(f,null,null,null,b)}):dhtmlx.ajax().post(g,this.serialize(a,c),function(a,c){b.xml=dhtmlx.DataDriver.xml.checkResponse(a,c);f.afterUpdate(f,null,null,null,b)});this._waitMode++}}}}})();
dhtmlx.DataProcessor={Sc:function(a){a._methods=["setItemStyle","","changeId","remove"];this.attachEvent("onAfterAdd",function(b){a.setUpdated(b,!0,"inserted")});this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(a,c){a.getUserData&&a.getUserData(c,this.ha)},this));this.attachEvent("onBeforeDelete",function(b){if(a.me)return!0;var c=a.getState(b);if("inserted"==c)return a.setUpdated(b,!1),!0;if("deleted"==c)return!1;if("true_deleted"==c)return!0;a.setUpdated(b,!0,"deleted");return!1});this.attachEvent("onAfterEditStop",
function(b){a.setUpdated(b,!0,"updated")});this.attachEvent("onBindUpdate",function(b){window.setTimeout(function(){a.setUpdated(b.id,!0,"updated")},1)});a._getRowData=function(a){a=this.obj.data.get(a);var c={},d;for(d in a)0!==d.indexOf("_")&&(c[d]=a[d]);return c};a._clearUpdateFlag=function(){};this.ha={};a.attachEvent("insertCallback",this.Qb);a.attachEvent("updateCallback",this.Qb);a.attachEvent("deleteCallback",function(a,c){this.obj.setUserData(c,this.action_param,"true_deleted");this.obj.remove(c)});
dhtmlx.compat("dataProcessor",a)},Qb:function(a,b){this.obj.data.set(b,dhtmlx.DataDriver.xml.getDetails(a.firstChild));this.obj.data.refresh(b)},setItemStyle:function(a,b){var c=this.C(a);c&&(c.style.cssText+=";"+b)},changeId:function(a,b){this.data.changeId(a,b);this.refresh()},setUserData:function(a,b,c){a?this.data.get(a)[b]=c:this.ha[b]=c},getUserData:function(a,b){return a?this.data.get(a)[b]:this.ha[b]}};(function(){dhtmlx.DataProcessor._dp_init=dhtmlx.DataProcessor.Sc})();
dhtmlx.compat.dnd=function(){if(window.dhtmlDragAndDropObject){var a=dhtmlDragAndDropObject.prototype.checkLanding;dhtmlDragAndDropObject.prototype.checkLanding=function(b,c,d){a.apply(this,arguments);if(!d){var e=dhtmlx.DragControl.F=dhtmlx.DragControl.F||{};e.from||(e.from=this.dragStartObject);dhtmlx.DragControl.Ba(b,c,!0)}};var b=dhtmlDragAndDropObject.prototype.stopDrag;dhtmlDragAndDropObject.prototype.stopDrag=function(a,d,e){!e&&dhtmlx.DragControl.s&&(dhtmlx.DragControl.D=c.dragStartNode,dhtmlx.DragControl.Qa(a,
!0));b.apply(this,arguments)};var c=new dhtmlDragAndDropObject,d=dhtmlx.DragControl.Ab;dhtmlx.DragControl.Ab=function(){d.apply(this,arguments);var a=dhtmlx.DragControl.F;if(a){for(var b=[],e=[],f=0;f<a.source.length;f++)b[f]={idd:a.source[f]},e.push(a.source[f]);c.dragStartNode={parentNode:{},parentObject:{idd:b,id:1==e.length?e[0]:e,treeNod:{object:a.from}}};c.dragStartNode.parentObject.treeNod._dragged=b;c.dragStartObject=a.from}};var e=dhtmlx.DragControl.Ba;dhtmlx.DragControl.Ba=function(a,b,
d){e.apply(this,arguments);this.s||d||(a=c.checkLanding(a,b,!0))};var f=dhtmlx.DragControl.Qa;dhtmlx.DragControl.Qa=function(a,b){f.apply(this,arguments);c.lastLanding&&!b&&c.stopDrag(a,!1,!0)};var g=dhtmlx.DragControl.getMaster;dhtmlx.DragControl.getMaster=function(a){var b=null;a&&(b=g.apply(this,arguments));if(!b){for(var b=c.dragStartObject,d=[],e=b._dragged,f=0;f<e.length;f++)d.push(e[f].idd||e[f].id);dhtmlx.DragControl.F.source=d}return b}}};
dhtmlx.DataMove={p:function(){},copy:function(a,b,c,d){if(a=this.get(a))return c&&(a=c.externalData(a)),c=c||this,c.add(c.externalData(a,d),b)},move:function(a,b,c,d){if(a instanceof Array)for(d=0;d<a.length;d++){var e=(c||this).indexById(this.move(a[d],b,c,dhtmlx.uid()));a[d+1]&&(b=e+(this.indexById(a[d+1])<e?0:1))}else if(nid=a,!(0>b))if(e=this.get(a))return c&&c!=this?(nid=c.add(c.externalData(e,d),b),this.remove(a)):this.data.move(this.indexById(a),b),nid},moveUp:function(a,b){return this.move(a,
this.indexById(a)-(b||1))},moveDown:function(a,b){return this.moveUp(a,-1*(b||1))},moveTop:function(a){return this.move(a,0)},moveBottom:function(a){return this.move(a,this.data.dataCount()-1)},externalData:function(a,b){var c=dhtmlx.extend({},a);c.id=b||dhtmlx.uid();c.$selected=c.$template=null;return c}};
dhtmlx.DragControl={G:dhtmlx.toArray(["dummy"]),addDrop:function(a,b,c){a=dhtmlx.toNode(a);a.dhx_drop=this.ac(b);c&&(a.dhx_master=!0)},ac:function(a){a=a||dhtmlx.DragControl;var b=this.G.find(a);0>b&&(b=this.G.length,this.G.push(a));return b},addDrag:function(a,b){a=dhtmlx.toNode(a);a.dhx_drag=this.ac(b);dhtmlx.event(a,"mousedown",this.Od,a)},Od:function(a){dhtmlx.DragControl.D&&(dhtmlx.DragControl.Ja(),dhtmlx.DragControl.destroyDrag());dhtmlx.DragControl.D=this;dhtmlx.DragControl.yc={x:a.pageX,y:a.pageY};
dhtmlx.DragControl.oa=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.Ab);dhtmlx.DragControl.pa=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Ja);dhtmlx.DragControl.Nb=dhtmlx.event(this,"scroll",dhtmlx.DragControl.Ja);a.cancelBubble=!0;return!1},Ja:function(){dhtmlx.DragControl.oa=dhtmlx.eventRemove(dhtmlx.DragControl.oa);dhtmlx.DragControl.pa=dhtmlx.eventRemove(dhtmlx.DragControl.pa);dhtmlx.DragControl.Nb=dhtmlx.eventRemove(dhtmlx.DragControl.Nb)},Ab:function(a){var b=a.pageY;
5>Math.abs(a.pageX-dhtmlx.DragControl.yc.x)&&5>Math.abs(b-dhtmlx.DragControl.yc.y)||(dhtmlx.DragControl.Ja(),!dhtmlx.DragControl.createDrag(a))||(dhtmlx.DragControl.sendSignal("start"),dhtmlx.DragControl.oa=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.mc),dhtmlx.DragControl.pa=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Qa),dhtmlx.DragControl.mc(a))},Qa:function(a){dhtmlx.DragControl.oa=dhtmlx.eventRemove(dhtmlx.DragControl.oa);dhtmlx.DragControl.pa=dhtmlx.eventRemove(dhtmlx.DragControl.pa);
dhtmlx.DragControl.s&&(dhtmlx.DragControl.onDrop(dhtmlx.DragControl.D,dhtmlx.DragControl.s,this.T,a),dhtmlx.DragControl.onDragOut(dhtmlx.DragControl.D,dhtmlx.DragControl.s,null,a));dhtmlx.DragControl.destroyDrag();dhtmlx.DragControl.sendSignal("stop")},mc:function(a){var b=dhtmlx.html.pos(a);dhtmlx.DragControl.B.style.top=b.y+dhtmlx.DragControl.top+"px";dhtmlx.DragControl.B.style.left=b.x+dhtmlx.DragControl.left+"px";dhtmlx.DragControl.wc?dhtmlx.DragControl.wc=!1:dhtmlx.DragControl.Ba(a.srcElement||
a.target,a);a.cancelBubble=!0;return!1},Ba:function(a,b){for(;a&&"BODY"!=a.tagName;){if(a.dhx_drop){if(this.s&&(this.s!=a||a.dhx_master))this.onDragOut(this.D,this.s,a,b);if(!this.s||this.s!=a||a.dhx_master)if(this.s=null,this.T=this.onDragIn(dhtmlx.DragControl.D,a,b))this.s=a;return}a=a.parentNode}this.s&&(this.s=this.T=this.onDragOut(this.D,this.s,null,b))},sendSignal:function(a){dhtmlx.DragControl.active="start"==a},getMaster:function(a){return this.G[a.dhx_drag||a.dhx_drop]},getContext:function(){return this.F},
createDrag:function(a){var b=dhtmlx.DragControl.D,c=this.G[b.dhx_drag];if(c.onDragCreate)a=c.onDragCreate(b,a),a.style.position="absolute",a.style.zIndex=dhtmlx.zIndex.drag,a.onmousemove=dhtmlx.DragControl.xc;else{b=dhtmlx.DragControl.onDrag(b,a);if(!b)return!1;a=document.createElement("DIV");a.innerHTML=b;a.className="dhx_drag_zone";a.onmousemove=dhtmlx.DragControl.xc;document.body.appendChild(a)}dhtmlx.DragControl.B=a;return!0},xc:function(){dhtmlx.DragControl.wc=!0},destroyDrag:function(){var a=
dhtmlx.DragControl.D,b=this.G[a.dhx_drag];if(b&&b.onDragDestroy)b.onDragDestroy(a,dhtmlx.DragControl.B);else dhtmlx.html.remove(dhtmlx.DragControl.B);dhtmlx.DragControl.T=dhtmlx.DragControl.D=dhtmlx.DragControl.s=dhtmlx.DragControl.B=null},top:5,left:5,onDragIn:function(a,b,c){var d=this.G[b.dhx_drop];if(d.onDragIn&&d!=this)return d.onDragIn(a,b,c);b.className+=" dhx_drop_zone";return b},onDragOut:function(a,b,c,d){var e=this.G[b.dhx_drop];if(e.onDragOut&&e!=this)return e.onDragOut(a,b,c,d);b.className=
b.className.replace("dhx_drop_zone","");return null},onDrop:function(a,b,c,d){var e=this.G[b.dhx_drop];dhtmlx.DragControl.F.from=dhtmlx.DragControl.getMaster(a);if(e.onDrop&&e!=this)return e.onDrop(a,b,c,d);b.appendChild(a)},onDrag:function(a,b){var c=this.G[a.dhx_drag];if(c.onDrag&&c!=this)return c.onDrag(a,b);dhtmlx.DragControl.F={source:a,from:a};return"<div style='"+a.style.cssText+"'>"+a.innerHTML+"</div>"}};
dhtmlx.DragItem={p:function(){!this.e||this.e.drag?dhtmlx.DragItem.gc(this):this.e&&(this.drag_setter=function(a){a&&(this.gc(this),delete this.drag_setter);return a});this.dragMarker&&(this.attachEvent("onBeforeDragIn",this.dragMarker),this.attachEvent("onDragOut",this.dragMarker))},gc:function(a){dhtmlx.DragControl.addDrop(a.g,a,!0);dhtmlx.DragControl.addDrag(a.g,a)},onDragIn:function(a,b,c){b=this.locate(c)||null;var d=dhtmlx.DragControl.F;a=dhtmlx.DragControl.getMaster(a);var e=this.C(b)||this.g;
if(e==dhtmlx.DragControl.T)return e;d.target=b;d.to=a;if(!this.callEvent("onBeforeDragIn",[d,c]))return d.id=null;dhtmlx.html.addCss(e,"dhx_drag_over");return e},onDragOut:function(a,b,c,d){a=this.locate(d)||null;c!=this.j&&(a=null);if((this.C(a)||(c?dhtmlx.DragControl.getMaster(c).g:window.undefined))==dhtmlx.DragControl.T)return null;c=dhtmlx.DragControl.F;dhtmlx.html.removeCss(dhtmlx.DragControl.T,"dhx_drag_over");c.target=c.to=null;this.callEvent("onDragOut",[c,d]);return null},onDrop:function(a,
b,c,d){a=dhtmlx.DragControl.F;a.to=this;a.index=a.target?this.indexById(a.target):this.dataCount();a.new_id=dhtmlx.uid();this.callEvent("onBeforeDrop",[a,d])&&(a.from==a.to?this.move(a.source,a.index):a.from&&a.from.move(a.source,a.index,a.to,a.new_id),this.callEvent("onAfterDrop",[a,d]))},onDrag:function(a,b){var c=this.locate(b),d=[c];if(c){if(this.getSelected){var e=this.getSelected();-1!=dhtmlx.PowerArray.find.call(e,c)&&(d=e)}d=dhtmlx.DragControl.F={source:d,start:c};d.from=this;if(this.callEvent("onBeforeDrag",
[d,b]))return d.html||this.fa(this.get(c))}return null}};
dhtmlx.EditAbility={p:function(){this.sa=this.K=null;this.attachEvent("onEditKeyPress",function(a,b,c){13!=a||c?27==a&&this.stopEdit(!0):this.stopEdit()});this.attachEvent("onBeforeRender",function(){this.stopEdit()})},isEdit:function(){return this.K},edit:function(a){if(this.stopEdit(!1,a)&&this.callEvent("onBeforeEditStart",[a])){var b=this.data.get(a);b.$template||(b.$template="edit",this.data.refresh(a),this.K=a,this.Xd(a),this.sa(!0,b),this.callEvent("onAfterEditStart",[a]))}},stopEdit:function(a,
b){if(!this.K)return!0;if(this.K==b)return!1;var c={};a?c=null:this.sa(!1,c);if(!this.callEvent("onBeforeEditStop",[this.K,c]))return!1;var d=this.data.get(this.K);d.$template=null;a||this.sa(!1,d);d=this.K;this.sa=this.K=null;this.data.refresh(d);this.callEvent("onAfterEditStop",[d,c]);return!0},Xd:function(a){a=this.C(a);var b="",c="",d=[];if(a){a=a.getElementsByTagName("*");for(var e="",f=0;f<a.length;f++)1==a[f].nodeType&&(e=a[f].getAttribute("bind"))&&(b+="els["+d.length+"].value="+e+";",c+=
e+"=els["+d.length+"].value;",d.push(a[f]),a[f].className+=" dhx_allow_selection",a[f].onselectstart=this.Hc);a=null}b=Function("obj","els",b);c=Function("obj","els",c);this.sa=function(a,e){a?(b(e,d),d.length&&d[0].select&&d[0].select()):c(e,d)}},Hc:function(a){return(a||event).cancelBubble=!0}};dhtmlx.KeyEvents={p:function(){dhtmlx.event(this.g,"keypress",this.Kd,this)},Kd:function(a){a=a||event;this.callEvent(this.K?"onEditKeyPress":"onKeyPress",[a.which||a.keyCode,a.ctrlKey,a.shiftKey,a])}};
dhtmlx.MouseEvents={p:function(){this.on_click&&(dhtmlx.event(this.g,"click",this.Hd,this),dhtmlx.event(this.g,"contextmenu",this.Id,this));this.on_dblclick&&dhtmlx.event(this.g,"dblclick",this.Jd,this);this.on_mouse_move&&(dhtmlx.event(this.g,"mousemove",this.oc,this),dhtmlx.event(this.g,dhtmlx.z?"mouseleave":"mouseout",this.oc,this))},Hd:function(a){return this.pb(a,this.on_click,"ItemClick")},Jd:function(a){return this.pb(a,this.on_dblclick,"ItemDblClick")},Id:function(a){var b=dhtmlx.html.locate(a,
this.w);if(b&&!this.callEvent("onBeforeContextMenu",[b,a]))return dhtmlx.html.preventEvent(a)},oc:function(a){dhtmlx.z&&(a=document.createEventObject(event));this.lc&&window.clearTimeout(this.lc);this.callEvent("onMouseMoving",[a]);this.lc=window.setTimeout(dhtmlx.bind(function(){"mousemove"==a.type?this.Ld(a):this.Md(a)},this),500)},Ld:function(a){this.pb(a,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[a||event])},Md:function(a){this.callEvent("onMouseOut",[a||event])},pb:function(a,
b,c){a=a||event;for(var d=a.target||a.srcElement,e="",f=null,g=!1;d&&d.parentNode;){if(!g&&d.getAttribute&&(f=d.getAttribute(this.w))){d.getAttribute("userdata")&&this.callEvent("onLocateData",[f,d]);if(!this.callEvent("on"+c,[f,a,d]))return;g=!0}if(e=d.className)if(e=e.split(" "),e=e[0]||e[1],b[e])return b[e].call(this,a,f||dhtmlx.html.locate(a,this.w),d);d=d.parentNode}return g}};
dhtmlx.SelectionModel={p:function(){this.l=dhtmlx.toArray();this.data.attachEvent("onStoreUpdated",dhtmlx.bind(this.Pc,this));this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Oc,this));this.data.attachEvent("onAfterFilter",dhtmlx.bind(this.Nc,this));this.data.attachEvent("onIdChange",dhtmlx.bind(this.yd,this))},yd:function(a,b){for(var c=this.l.length-1;0<=c;c--)this.l[c]==a&&(this.l[c]=b)},Nc:function(){for(var a=this.l.length-1;0<=a;a--){if(0>this.data.indexById(this.l[a]))var b=this.l[a];var c=
this.item(b);c&&delete c.$selected;this.l.splice(a,1);this.callEvent("onSelectChange",[b])}},Pc:function(a,b,c){"delete"==c?this.l.remove(a):this.data.dataCount()||this.data.h||(this.l=dhtmlx.toArray())},Oc:function(){this.e.select&&this.data.each(function(a){a.$selected&&this.select(a.id)},this)},Na:function(a,b,c){if(!c&&!this.callEvent("onBeforeSelect",[a,b]))return!1;this.data.item(a).$selected=b;c?c.push(a):(b?this.l.push(a):this.l.remove(a),this.ub(a));return!0},select:function(a,b,c){if(!a)return this.selectAll();
if(a instanceof Array)for(var d=0;d<a.length;d++)this.select(a[d],b,c);else if(this.data.exists(a)){if(c&&this.l.length)return this.selectAll(this.l[this.l.length-1],a);b||1==this.l.length&&this.l[0]==a||(this.vc=!0,this.unselectAll(),this.vc=!1);this.isSelected(a)?b&&this.unselect(a):this.Na(a,!0)&&this.callEvent("onAfterSelect",[a])}},unselect:function(a){if(!a)return this.unselectAll();this.isSelected(a)&&this.Na(a,!1)},selectAll:function(a,b){var c=[];(a||b?this.data.getRange(a||null,b||null):
this.data.getRange()).each(function(a){this.data.item(a.id).$selected||(this.l.push(a.id),this.Na(a.id,!0,c));return a.id},this);this.ub(c)},unselectAll:function(){var a=[];this.l.each(function(b){this.Na(b,!1,a)},this);this.l=dhtmlx.toArray();this.ub(a)},isSelected:function(a){return-1!=this.l.find(a)},getSelected:function(a){switch(this.l.length){case 0:return a?[]:"";case 1:return a?[this.l[0]]:this.l[0];default:return[].concat(this.l)}},Dd:function(a){return 100<a.length||a.length>this.data.dataCount/
2},ub:function(a){"object"!=typeof a&&(a=[a]);if(a.length){if(this.Dd(a))this.data.refresh();else for(var b=0;b<a.length;b++)this.render(a[b],this.data.item(a[b]),"update");this.vc||this.callEvent("onSelectChange",[a])}}};
dhtmlx.RenderStack={p:function(){this.B=document.createElement("DIV")},fa:function(a){this.callEvent("onItemRender",[a]);return this.type.kc(a,this.type)+(a.$template?this.type["template_"+a.$template]:this.type.template)(a,this.type)+this.type.jc},Db:function(a){this.B.innerHTML=this.fa(a);return this.B.firstChild},C:function(a){if(this.n)return this.n[a];this.n={};for(var b=this.j.childNodes,c=0;c<b.length;c++){var d=b[c].getAttribute(this.w);d&&(this.n[d]=b[c])}return this.C(a)},locate:function(a){return dhtmlx.html.locate(a,
this.w)},show:function(a){if(a=this.C(a))this.j.scrollTop=a.offsetTop-this.j.offsetTop},render:function(a,b,c){if(a){var d=this.C(a);switch(c){case "update":if(!d)return;b=this.n[a]=this.Db(b);dhtmlx.html.insertBefore(b,d);dhtmlx.html.remove(d);break;case "delete":if(!d)return;dhtmlx.html.remove(d);delete this.n[a];break;case "add":b=this.n[a]=this.Db(b);dhtmlx.html.insertBefore(b,this.C(this.data.next(a)),this.j);break;case "move":this.render(a,b,"delete"),this.render(a,b,"add")}}else this.callEvent("onBeforeRender",
[this.data])&&(this.j.innerHTML=this.data.getRange().map(this.fa,this).join(""),this.n=null);this.callEvent("onAfterRender",[])},pager_setter:function(a){this.attachEvent("onBeforeRender",function(){var a=this.e.pager.e;if(-1==a.page)return!1;this.data.min=a.page*a.size;this.data.max=(a.page+1)*a.size-1;return!0});var b=new dhtmlx.ui.pager(a);a=dhtmlx.bind(function(){this.data.refresh()},this);b.attachEvent("onRefresh",a);this.data.attachEvent("onStoreUpdated",function(){var a=this.dataCount();a!=
b.e.count&&(b.e.count=a,-1==b.e.page&&(b.e.page=0),b.refresh())});return b},height_setter:function(a){"auto"==a&&(this.attachEvent("onAfterRender",this.Kb),dhtmlx.event(window,"resize",dhtmlx.bind(this.Kb,this)));return a},Kb:function(){this.j.style.overflow="hidden";this.j.style.height="1px";var a=this.j.scrollHeight;this.j.style.height=a+"px";if(dhtmlx.hc){var b=this.j.scrollHeight;b!=a&&(this.j.style.height=b+"px")}this.g.style.height=this.j.style.height},ib:function(){var a=this.type,b=(a.border||
0)+2*(a.padding||0)+2*(a.margin||0);return{x:a.width+b,y:a.height+b}},x_count_setter:function(a){var b=this.ib(),c=dhtmlx.$customScroll?0:18;this.j.style.width=b.x*a+("auto"!=this.e.height?c:0)+"px";return a},y_count_setter:function(a){var b=this.ib();this.j.style.height=b.y*a+"px";return a}};
dhtmlx.VirtualRenderStack={p:function(){this.n={};this.j.style.overflowY="scroll";dhtmlx.event(this.j,"scroll",dhtmlx.bind(this.xb,this));dhtmlx.event(window,"resize",dhtmlx.bind(function(){this.render()},this));this.data.ga=[];this.data.getIndexRange=this.rd},C:function(a){return this.n[a]},show:function(a){range=this.mb();a=this.data.indexById(a);this.j.scrollTop=Math.floor(a/range.fb)*range.Sa},rd:function(a,b){0!==b&&(b=Math.min(b||Infinity,this.dataCount()-1));for(var c=dhtmlx.toArray(),d=a||
0;d<=b;d++){var e=this.item(this.order[d]);this.order.length>d&&(e?"loading"==e.$template&&this.ga.push(this.order[d]):(this.order[d]=dhtmlx.uid(),e={id:this.order[d],$template:"loading"},this.ga.push(this.order[d])),c.push(e))}return c},render:function(a,b,c){if(a){var d=this.C(a);switch(c){case "update":if(!d)break;a=this.n[a]=this.Db(b);dhtmlx.html.insertBefore(a,d);dhtmlx.html.remove(d);break;default:this.Vd()}}else this.callEvent("onBeforeRender",[this.data])&&(this.n={},this.xb(null,!0),this.Bc=
!1,this.callEvent("onAfterRender",[]))},Vd:function(){this.Bc||(this.Bc=!0,window.setTimeout(dhtmlx.bind(function(){this.render()},this),1))},ab:function(a){var b=document.createElement("DIV");b.style.cssText="height:"+a+"px; width:100%; overflow:hidden;";return b},xb:function(a,b){this.data.ga=[];var c=this.mb();if(!this.j.firstChild||b)this.j.innerHTML="",this.j.appendChild(this.ab(c.Ed)),this.P=[this.j.firstChild];for(var d=Math.max(c.r,0),e=this.data.max||0===this.data.max?this.data.max:Infinity;d<=
c.nb;){for(;this.P[d]&&this.P[d].ld&&d<=c.nb;)d++;if(d>c.nb)break;for(var f=d;!this.P[f];)f--;var g=this.P[f],k=d*c.fb+(this.data.min||0);if(k>e)break;var h=Math.min(k+c.fb-1,e),l=this.ab(c.Sa),h=this.data.getIndexRange(k,h);if(!h.length)break;l.innerHTML=h.map(this.fa,this).join("");for(var m=0;m<h.length;m++)this.n[this.data.idByIndex(k+m)]=l.childNodes[m];k=parseInt(g.style.height,10);f=(d-f)*c.Sa;k=k-f-c.Sa;dhtmlx.html.insertBefore(l,f?g.nextSibling:g,this.j);this.P[d]=l;l.ld=!0;if(0>=f&&0<k)g.style.height=
k+"px",this.P[d+1]=g;else if(0>f?dhtmlx.html.remove(g):g.style.height=f+"px",0<k)g=this.P[d+1]=this.ab(k),dhtmlx.html.insertBefore(g,l.nextSibling,this.j);d++}if(this.data.ga.length&&(d=this.indexById(this.data.ga[0]),e=this.indexById(this.data.ga.pop())+1,e>d)){if(!this.callEvent("onDataRequest",[d,e-d]))return!1;this.data.feed.call(this,d,e-d)}dhtmlx.z&&this.mb().r!=c.r&&this.xb()},mb:function(){var a=dhtmlx.$customScroll?0:18,b=this.j.scrollTop,c=Math.max(this.j.scrollWidth,this.j.offsetWidth)-
a,d=this.j.offsetHeight,a=this.ib(),c=Math.floor(c/a.x)||1,e=Math.floor(b/a.y),d=Math.ceil((d+b)/a.y)-1,f=this.data.max?this.data.max-this.data.min:this.data.dataCount(),f=Math.ceil(f/c)*a.y;return{r:e,nb:d,oe:b,Ed:f,Sa:a.y,fb:c}}};dhtmlx.ajax=function(a,b,c){if(0!==arguments.length){var d=new dhtmlx.ajax;c&&(d.master=c);d.get(a,null,b)}return this.getXHR?this:new dhtmlx.ajax};
dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx.z?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();"function"==typeof c&&(c=[c]);if("object"==typeof b){var e=[],f;for(f in b){var g=b[f];if(null===g||g===dhtmlx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}b&&!this.post&&(a=a+(-1!=a.indexOf("?")?"&":"?")+b,b=null);d.open(this.post?"POST":"GET",a,!this.Bb);this.post&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var k=this;d.onreadystatechange=function(){if(!d.readyState||4==d.readyState){if(c&&k)for(var a=0;a<c.length;a++)c[a]&&c[a].call(k.master||k,d.responseText,d.responseXML,d);c=k=k.master=null}};d.send(b||null);return d},get:function(a,b,c){this.post=!1;return this.send(a,b,c)},post:function(a,b,c){this.post=!0;return this.send(a,b,c)},sync:function(){this.Bb=!0;return this}};
dhtmlx.AtomDataLoader={p:function(a){this.data={};a&&(this.e.datatype=a.datatype||"json",this.ge.push(this.ob))},ob:function(){this.wa=!0;this.e.url&&this.url_setter(this.e.url);this.e.data&&this.data_setter(this.e.data)},url_setter:function(a){if(!this.wa)return a;this.load(a,this.e.datatype);return a},data_setter:function(a){if(!this.wa)return a;this.parse(a,this.e.datatype);return!0},load:function(a,b,c){this.callEvent("onXLS",[]);"string"==typeof b?(this.data.driver=dhtmlx.DataDriver[b],b=c):
this.data.driver=dhtmlx.DataDriver.xml;dhtmlx.ajax(a,[this.V,b],this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhtmlx.DataDriver[b||"xml"];this.V(a,null)},V:function(a,b){var c=this.data.driver,d=c.getRecords(c.toObject(a,b))[0];this.data=c?c.getDetails(d):a;this.callEvent("onXLE",[])},la:function(a){if(!this.e.dataFeed||this.ca||!a)return!0;var b=this.e.dataFeed;if("function"==typeof b)return b.call(this,a.id||a,a);b=b+(-1==b.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(a.id||
a);this.callEvent("onXLS",[]);dhtmlx.ajax(b,function(a){this.ca=!0;this.setValues(dhtmlx.DataDriver.json.toObject(a)[0]);this.ca=!1;this.callEvent("onXLE",[])},this);return!1}};dhtmlx.DataDriver={};dhtmlx.DataDriver.json={toObject:function(a){a||(a="[]");return"string"==typeof a?(eval("dhtmlx.temp="+a),dhtmlx.temp):a},getRecords:function(a){return!a||a instanceof Array?a:[a]},getDetails:function(a){return a},getInfo:function(a){return{v:a.total_count||0,r:a.pos||0,M:a.dhx_security}}};
dhtmlx.DataDriver.json_ext={toObject:function(a){a||(a="[]");if("string"==typeof a){eval("temp="+a);dhtmlx.temp=[];a=(void 0).header;for(var b=0;b<(void 0).data.length;b++){for(var c={},d=0;d<a.length;d++)"undefined"!=typeof(void 0).data[b][d]&&(c[a[d]]=(void 0).data[b][d]);dhtmlx.temp.push(c)}return dhtmlx.temp}return a},getRecords:function(a){return!a||a instanceof Array?a:[a]},getDetails:function(a){return a},getInfo:function(a){return{v:a.total_count||0,r:a.pos||0}}};
dhtmlx.DataDriver.html={toObject:function(a){if("string"==typeof a){var b=null;-1==a.indexOf("<")&&(b=dhtmlx.toNode(a));b||(b=document.createElement("DIV"),b.innerHTML=a);return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){return a.tagName?a.childNodes:a},getDetails:function(a){return dhtmlx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{v:0,r:0}},tag:"LI"};
dhtmlx.DataDriver.jsarray={toObject:function(a){return"string"==typeof a?(eval("dhtmlx.temp="+a),dhtmlx.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{v:0,r:0}}};
dhtmlx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){a=this.stringToArray(a);for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{v:0,r:0}},stringToArray:function(a){a=a.split(this.cell);for(var b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhtmlx.DataDriver.xml={toObject:function(a,b){return b&&(b=this.checkResponse(a,b))?b:"string"==typeof a?this.fromString(a):a},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){return{v:a.documentElement.getAttribute("total_count")||0,r:a.documentElement.getAttribute("pos")||0,M:a.documentElement.getAttribute("dhx_security")}},xpath:function(a,b){if(window.XPathResult){var c=a;-1==a.nodeName.indexOf("document")&&
(a=a.ownerDocument);for(var d=[],c=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null),e=c.iterateNext();e;)d.push(e),e=c.iterateNext();return d}d=!0;try{"undefined"==typeof a.selectNodes&&(d=!1)}catch(f){}if(d)return a.selectNodes(b);d=b.split("/").pop();return a.getElementsByTagName(d)},tagToObject:function(a,b){b=b||{};var c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}d=a.childNodes;for(e=0;e<d.length;e++)1==d[e].nodeType&&(c=d[e].tagName,"undefined"!=typeof b[c]?
(b[c]instanceof Array||(b[c]=[b[c]]),b[c].push(this.tagToObject(d[e],{}))):b[d[e].tagName]=this.tagToObject(d[e],{}),c=!0);if(!c)return this.nodeValue(a);b.value=this.nodeValue(a);return b},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){if(window.DOMParser&&!dhtmlx.z)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}},checkResponse:function(a,b){if(b&&b.firstChild&&
"parsererror"!=b.firstChild.tagName)return b;var c=this.fromString(a.replace(/^[\s]+/,""));if(c)return c}};
dhtmlx.DataLoader={p:function(a){this.name="DataStore";this.data=(a||"").datastore||new dhtmlx.DataStore;this.tb=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Xa,this))},load:function(a,b){dhtmlx.AtomDataLoader.load.apply(this,arguments);this.data.feed||(this.data.feed=function(b,d){if(this.H)return this.H=[b,d];this.H=!0;this.load(a+(-1==a.indexOf("?")?"?":"&")+"posStart="+b+"&count="+d,function(){var a=this.H;this.H=!1;"object"==typeof a&&this.data.feed.apply(this,a)})})},V:function(a,b){this.data.rb(this.data.driver.toObject(a,
b));this.callEvent("onXLE",[]);this.tb&&(this.data.detachEvent(this.tb),this.tb=null)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(a,c){if(this.e.dataFeed){var d={};if(a||d){if("function"==typeof a){if(!c)return;a(c,d)}else d={text:c};this.clearAll();var e=this.e.dataFeed;if("function"==typeof e)return e.call(this,c,d);var f=[],g;for(g in d)f.push("dhx_filter["+g+"]="+encodeURIComponent(d[g]));this.load(e+(0>e.indexOf("?")?"?":"&")+f.join("&"),this.e.datatype);
return!1}}},this));return a},Xa:function(){if(this.e.ready){var a=dhtmlx.toFunctor(this.e.ready);a&&a.call&&a.apply(this,arguments)}}};dhtmlx.DataStore=function(){this.name="DataStore";dhtmlx.extend(this,dhtmlx.EventSystem);this.setDriver("xml");this.pull={};this.order=dhtmlx.toArray()};
dhtmlx.DataStore.prototype={setDriver:function(a){this.driver=dhtmlx.DataDriver[a]},rb:function(a){this.callEvent("onParse",[this.driver,a]);this.h&&this.filter();var b=this.driver.getInfo(a);b.M&&(dhtmlx.security_key=b.M);var c=this.driver.getRecords(a),d=1*(b.r||0);0===d&&this.order[0]&&(d=this.order.length);for(var e=0,f=0;f<c.length;f++){var g=this.driver.getDetails(c[f]),k=this.id(g);this.pull[k]||(this.order[e+d]=k,e++);this.pull[k]=g;this.extraParser&&this.extraParser(g);this.o&&(this.o.$init?
this.o.$update(g):this.o.$update&&this.o.$update(g))}for(f=0;f<b.v;f++)this.order[f]||(k=dhtmlx.uid(),g={id:k,$template:"loading"},this.pull[k]=g,this.order[f]=k);this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},id:function(a){return a.id||(a.id=dhtmlx.uid())},changeId:function(a,b){this.pull[b]=this.pull[a];this.pull[b].id=b;this.order[this.order.find(a)]=b;this.h&&(this.h[this.h.find(a)]=b);this.callEvent("onIdChange",[a,b]);this.wb&&this.wb(a,b)},get:function(a){return this.item(a)},
set:function(a,b){return this.update(a,b)},item:function(a){return this.pull[a]},update:function(a,b){this.o&&this.o.$update&&this.o.$update(b);if(!1===this.callEvent("onBeforeUpdate",[a,b]))return!1;this.pull[a]=b;this.refresh(a)},refresh:function(a){this.ya||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a){this.ya=!0;a.call(this);this.ya=!1},getRange:function(a,b){a=a?this.indexById(a):this.startOffset||0;b?b=this.indexById(b):
(b=Math.min(this.endOffset||Infinity,this.dataCount()-1),0>b&&(b=0));if(a>b){var c=b;b=a;a=c}return this.getIndexRange(a,b)},getIndexRange:function(a,b){b=Math.min(b||Infinity,this.dataCount()-1);for(var c=dhtmlx.toArray(),d=a||0;d<=b;d++)c.push(this.item(this.order[d]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(!(0>a||0>b)){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,
b));this.callEvent("onStoreUpdated",[c,d,"move"])}},scheme:function(a){this.o=a},sync:function(a,b,c){"function"!=typeof b&&(c=b,b=null);dhtmlx.debug_bind&&(this.debug_sync_master=a);var d=a;"DataStore"!=a.name&&(a=a.data);var e=dhtmlx.bind(function(d,e,k){if("update"!=k||b)d=null;d||(this.order=dhtmlx.toArray([].concat(a.order)),this.h=null,this.pull=a.pull,b&&this.silent(b),this.Ia&&this.Ia());c?c=!1:this.refresh(d)},this);a.attachEvent("onStoreUpdated",e);this.feed=function(a,b){d.loadNext(b,a)};
e()},add:function(a,b){if(this.o){a=a||{};for(var c in this.o)a[c]=a[c]||this.o[c];this.o&&(this.o.$init?this.o.$update(a):this.o.$update&&this.o.$update(a))}c=this.id(a);var d=this.dataCount();if(dhtmlx.isNotDefined(b)||0>b)b=d;b>d&&(b=Math.min(this.order.length,b));if(!1===this.callEvent("onBeforeAdd",[c,a,b]))return!1;if(this.exists(c))return null;this.pull[c]=a;this.order.insertAt(c,b);this.h&&(d=this.h.length,!b&&this.order.length&&(d=0),this.h.insertAt(c,d));this.callEvent("onafterAdd",[c,b]);
this.callEvent("onStoreUpdated",[c,a,"add"]);return c},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(!1===this.callEvent("onBeforeDelete",[a]))return!1;if(!this.exists(a))return null;b=this.item(a);this.order.remove(a);this.h&&this.h.remove(a);delete this.pull[a];this.callEvent("onafterdelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=dhtmlx.toArray();this.h=this.feed=null;this.callEvent("onClearAll",
[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){return this.order.find(a)},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;"function"==typeof a?d={as:a,dir:b}:"string"==typeof a&&(d={by:a,dir:b,as:c});a=[d.by,d.dir,d.as];this.callEvent("onbeforesort",a)&&
(this.order.length&&(d=dhtmlx.sort.create(d),b=this.getRange(this.first(),this.last()),b.sort(d),this.order=b.map(function(a){return this.id(a)},this)),this.refresh(),this.callEvent("onaftersort",a))},filter:function(a,b){if(this.callEvent("onBeforeFilter",[a,b])&&(this.h&&(this.order=this.h,delete this.h),this.order.length)){if(a){var c=a;b=b||"";"string"==typeof a&&(a=dhtmlx.Template.fromHTML(a),b=b.toString().toLowerCase(),c=function(b,c){return-1!=a(b).toLowerCase().indexOf(c)});for(var d=dhtmlx.toArray(),
e=0;e<this.order.length;e++){var f=this.order[e];c(this.item(f),b)&&d.push(f)}this.h=this.order;this.order=d}this.refresh();this.callEvent("onAfterFilter",[])}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},provideApi:function(a,b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c="get set sort add remove exists idByIndex indexById item update refresh dataCount filter next previous clearAll first last serialize".split(" "),
d=0;d<c.length;d++)a[c[d]]=dhtmlx.methodPush(this,c[d])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++)b.push(this.pull[a[c]]);return b}};
dhtmlx.sort={create:function(a){return dhtmlx.sort.dir(a.dir,dhtmlx.sort.by(a.by,a.as))},as:{"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},by:function(a,b){if(!a)return b;"function"!=typeof b&&(b=dhtmlx.sort.as[b||"string"]);a=dhtmlx.Template.fromHTML(a);return function(c,d){return b(a(c),a(d))}},dir:function(a,
b){return"asc"==a?b:function(a,d){return-1*b(a,d)}}};dhtmlx.attaches||(dhtmlx.attaches={});dhtmlx.attaches.attachAbstract=function(a,b){var c=document.createElement("DIV");c.id="CustomObject_"+dhtmlx.uid();c.style.width="100%";c.style.height="100%";c.cmp="grid";document.body.appendChild(c);this.attachObject(c.id);b.container=c.id;var d=this.vs[this.av];d.grid=new window[a](b);d.gridId=c.id;d.gridObj=c;d.grid.setSizes=function(){this.resize?this.resize():this.render()};return this.vs[this._viewRestore()].grid};
dhtmlx.attaches.attachDataView=function(a){return this.attachAbstract("dhtmlXDataView",a)};dhtmlx.attaches.attachChart=function(a){return this.attachAbstract("dhtmlXChart",a)};dhtmlx.compat.layout=function(){};
dhtmlXDataView=function(a){this.name="DataView";this.version="3.0";dhtmlx.extend(this,dhtmlx.Settings);this.sb(a,"dhx_dataview");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.RenderStack);dhtmlx.extend(this,dhtmlx.SelectionModel);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.KeyEvents);dhtmlx.extend(this,dhtmlx.EditAbility);dhtmlx.extend(this,dhtmlx.DataMove);dhtmlx.extend(this,dhtmlx.DragItem);
dhtmlx.extend(this,dhtmlx.DataProcessor);dhtmlx.extend(this,dhtmlx.AutoTooltip);dhtmlx.extend(this,dhtmlx.Destruction);this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render.apply(this,arguments)},this));this.J(a,{drag:!1,edit:!1,select:"multiselect",type:"default"});"auto"!=this.e.height&&!this.e.renderAll&&dhtmlx.extend(this,dhtmlx.VirtualRenderStack);this.data.provideApi(this,!0);dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this)};
dhtmlXDataView.prototype={bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},dragMarker:function(a){var b=this.C(a.target);this.type.drag_marker&&(this.bb&&(this.bb.style.backgroundImage="",this.bb.style.backgroundRepeat=""),b&&(b.style.backgroundImage="url("+(dhtmlx.image_path||"")+this.type.drag_marker+")",b.style.backgroundRepeat="no-repeat",this.bb=b));if(b&&this.e.auto_scroll){a=b.offsetTop;var b=b.offsetHeight,c=this.g.scrollTop,
d=this.g.offsetHeight;0<=a-b&&a-0.75*b<c?c=Math.max(a-b,0):a+b/0.75>c+d&&(c+=b);this.g.scrollTop=c}return!0},w:"dhx_f_id",on_click:{dhx_dataview_item:function(a,b){this.stopEdit(!1,b)&&this.e.select&&("multiselect"==this.e.select?this.select(b,a.ctrlKey,a.shiftKey):this.select(b))}},on_dblclick:{dhx_dataview_item:function(a,b){this.e.edit&&this.edit(b)}},on_mouse_move:{},types:{"default":{css:"default",template:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>{obj.text}</div>"),
template_edit:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'><textarea style='width:100%; height:100%;' bind='obj.text'></textarea></div>"),template_loading:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>Loading...</div>"),width:210,height:115,margin:0,padding:10,border:1}},template_item_start:dhtmlx.Template.fromHTML("<div dhx_f_id='{-obj.id}' class='dhx_dataview_item dhx_dataview_{obj.css}_item{-obj.$selected?_selected:}' style='width:{obj.width}px; height:{obj.height}px; padding:{obj.padding}px; margin:{obj.margin}px; float:left; overflow:hidden;'>"),
template_item_end:dhtmlx.Template.fromHTML("</div>")};dhtmlx.compat("layout");
dhtmlx.Date={Locale:{month_full:"January February March April May June July August September October November December".split(" "),month_short:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),day_full:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),day_short:"Sun Mon Tue Wed Thu Fri Sat".split(" ")},date_part:function(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},time_part:function(a){return(a.valueOf()/1E3-60*a.getTimezoneOffset())%
86400},week_start:function(a){var b=a.getDay();this.config.start_on_monday&&(0===b?b=6:b--);return this.date_part(this.add(a,-1*b,"day"))},month_start:function(a){a.setDate(1);return this.date_part(a)},year_start:function(a){a.setMonth(0);return this.month_start(a)},day_start:function(a){return this.date_part(a)},add:function(a,b,c){var d=new Date(a.valueOf());switch(c){case "day":d.setDate(d.getDate()+b);break;case "week":d.setDate(d.getDate()+7*b);break;case "month":d.setMonth(d.getMonth()+b);break;
case "year":d.setYear(d.getFullYear()+b);break;case "hour":d.setHours(d.getHours()+b);break;case "minute":d.setMinutes(d.getMinutes()+b);break;default:return dhtmlx.Date["add_"+c](a,b,c)}return d},to_fixed:function(a){return 10>a?"0"+a:a},copy:function(a){return new Date(a.valueOf())},date_to_str:function(a,b){a=a.replace(/%[a-zA-Z]/g,function(a){switch(a){case "%d":return'"+dhtmlx.Date.to_fixed(date.getDate())+"';case "%m":return'"+dhtmlx.Date.to_fixed((date.getMonth()+1))+"';case "%j":return'"+date.getDate()+"';
case "%n":return'"+(date.getMonth()+1)+"';case "%y":return'"+dhtmlx.Date.to_fixed(date.getFullYear()%100)+"';case "%Y":return'"+date.getFullYear()+"';case "%D":return'"+dhtmlx.Date.Locale.day_short[date.getDay()]+"';case "%l":return'"+dhtmlx.Date.Locale.day_full[date.getDay()]+"';case "%M":return'"+dhtmlx.Date.Locale.month_short[date.getMonth()]+"';case "%F":return'"+dhtmlx.Date.Locale.month_full[date.getMonth()]+"';case "%h":return'"+dhtmlx.Date.to_fixed((date.getHours()+11)%12+1)+"';case "%g":return'"+((date.getHours()+11)%12+1)+"';
case "%G":return'"+date.getHours()+"';case "%H":return'"+dhtmlx.Date.to_fixed(date.getHours())+"';case "%i":return'"+dhtmlx.Date.to_fixed(date.getMinutes())+"';case "%a":return'"+(date.getHours()>11?"pm":"am")+"';case "%A":return'"+(date.getHours()>11?"PM":"AM")+"';case "%s":return'"+dhtmlx.Date.to_fixed(date.getSeconds())+"';case "%W":return'"+dhtmlx.Date.to_fixed(dhtmlx.Date.getISOWeek(date))+"';default:return a}});b&&(a=a.replace(/date\.get/g,"date.getUTC"));return new Function("date",'return "'+
a+'";')},str_to_date:function(a,b){for(var c="var temp=date.split(/[^0-9a-zA-Z]+/g);",d=a.match(/%[a-zA-Z]/g),e=0;e<d.length;e++)switch(d[e]){case "%j":case "%d":c+="set[2]=temp["+e+"]||1;";break;case "%n":case "%m":c+="set[1]=(temp["+e+"]||1)-1;";break;case "%y":c+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case "%g":case "%G":case "%h":case "%H":c+="set[3]=temp["+e+"]||0;";break;case "%i":c+="set[4]=temp["+e+"]||0;";break;case "%Y":c+="set[0]=temp["+e+"]||0;";break;case "%a":case "%A":c+=
"set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case "%s":c+="set[5]=temp["+e+"]||0;"}d="set[0],set[1],set[2],set[3],set[4],set[5]";b&&(d=" Date.UTC("+d+")");return new Function("date","var set=[0,0,1,0,0,0]; "+c+" return new Date("+d+");")},getISOWeek:function(a){if(!a)return!1;var b=a.getDay();0===b&&(b=7);var c=new Date(a.valueOf());c.setDate(a.getDate()+(4-b));a=c.getFullYear();c=Math.floor((c.getTime()-(new Date(a,0,1)).getTime())/864E5);return 1+Math.floor(c/7)},getUTCISOWeek:function(a){return this.getISOWeek(a)}};
dhtmlx.math={};dhtmlx.math.ee="0123456789ABCDEF".split("");dhtmlx.math.toHex=function(a,b){a=parseInt(a,10);for(str="";0<a;)str=this.ee[a%16]+str,a=Math.floor(a/16);for(;str.length<b;)str="0"+str;return str};dhtmlx.math.hexToDec=function(a){return parseInt(a,16)};
dhtmlx.math.toRgb=function(a){var b,c,d,e;"string"!=typeof a?(b=a[0],c=a[1],d=a[2]):-1!=a.indexOf("rgb")?(e=a.substr(a.indexOf("(")+1,a.lastIndexOf(")")-a.indexOf("(")-1).split(","),b=e[0],c=e[1],d=e[2]):("#"==a.substr(0,1)&&(a=a.substr(1)),b=this.hexToDec(a.substr(0,2)),c=this.hexToDec(a.substr(2,2)),d=this.hexToDec(a.substr(4,2)));b=parseInt(b,10)||0;c=parseInt(c,10)||0;d=parseInt(d,10)||0;if(0>b||255<b)b=0;if(0>c||255<c)c=0;if(0>d||255<d)d=0;return[b,c,d]};
dhtmlx.math.hsvToRgb=function(a,b,c){var d,e,f,g,k;d=Math.floor(a/60)%6;e=a/60-d;a=c*(1-b);f=c*(1-e*b);b=c*(1-(1-e)*b);k=g=e=0;switch(d){case 0:e=c;g=b;k=a;break;case 1:e=f;g=c;k=a;break;case 2:e=a;g=c;k=b;break;case 3:e=a;g=f;k=c;break;case 4:e=b;g=a;k=c;break;case 5:e=c,g=a,k=f}e=Math.floor(255*e);g=Math.floor(255*g);k=Math.floor(255*k);return[e,g,k]};
dhtmlx.math.rgbToHsv=function(a,b,c){var d,e,f;a/=255;b/=255;c/=255;d=Math.min(a,b,c);e=Math.max(a,b,c);f=0;e==d?f=0:e==a&&b>=c?f=60*(b-c)/(e-d)+0:e==a&&b<c?f=60*(b-c)/(e-d)+360:e==b?f=60*(c-a)/(e-d)+120:e==c&&(f=60*(a-b)/(e-d)+240);return[f,0==e?0:1-d/e,e]};dhtmlx.presets||(dhtmlx.presets={});
dhtmlx.presets.chart={simple:{item:{borderColor:"#ffffff",color:"#2b7100",shadow:!1,borderWidth:2},line:{color:"#8ecf03",width:2}},plot:{color:"#1293f8",item:{borderColor:"#636363",borderWidth:1,color:"#ffffff",type:"r",shadow:!1},line:{color:"#1293f8",width:2}},diamond:{color:"#b64040",item:{borderColor:"#b64040",color:"#b64040",type:"d",radius:3,shadow:!0},line:{color:"#ff9000",width:2}},point:{color:"#fe5916",disableLines:!0,fill:!1,disableItems:!1,item:{color:"#feb916",borderColor:"#fe5916",radius:2,
borderWidth:1,type:"r"},alpha:1},line:{line:{color:"#3399ff",width:2},item:{color:"#ffffff",borderColor:"#3399ff",radius:2,borderWidth:2,type:"d"},fill:!1,disableItems:!1,disableLines:!1,alpha:1},area:{fill:"#3399ff",line:{color:"#3399ff",width:1},disableItems:!0,alpha:0.2,disableLines:!1},round:{item:{radius:3,borderColor:"#3f83ff",borderWidth:1,color:"#3f83ff",type:"r",shadow:!1,alpha:0.6}},square:{item:{radius:3,borderColor:"#447900",borderWidth:2,color:"#69ba00",type:"s",shadow:!1,alpha:1}},column:{color:"RAINBOW",
gradient:!1,width:45,radius:0,alpha:1,border:!0},stick:{width:5,gradient:!1,color:"#67b5c9",radius:2,alpha:1,border:!1},alpha:{color:"#b9a8f9",width:70,gradient:"falling",radius:0,alpha:0.5,border:!0}};dhtmlx.ui.Map=function(a){this.name="Map";this.w="map_"+dhtmlx.uid();this.M=a;this.U=[]};
dhtmlx.ui.Map.prototype={addRect:function(a,b,c){this.Mb(a,"RECT",b,c)},addPoly:function(a,b,c){this.Mb(a,"POLY",b,c)},Mb:function(a,b,c,d){var e="";4==arguments.length&&(e="userdata='"+d+"'");this.U.push("<area "+this.M+"='"+a+"' shape='"+b+"' coords='"+c.join()+"' "+e+"></area>")},addSector:function(a,b,c,d,e,f,g,k){var h=[];h.push(d);for(h.push(Math.floor(e*g));b<c;b+=Math.PI/18)h.push(Math.floor(d+f*Math.cos(b))),h.push(Math.floor((e+f*Math.sin(b))*g));h.push(Math.floor(d+f*Math.cos(c)));h.push(Math.floor((e+
f*Math.sin(c))*g));h.push(d);h.push(Math.floor(e*g));return this.addPoly(a,h,k)},render:function(a){var b=dhtmlx.html.create("DIV");b.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;";a.appendChild(b);var c=dhtmlx.z?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";b.innerHTML="<map id='"+this.w+"' name='"+this.w+"'>"+this.U.join("\n")+"</map><img "+c+" class='dhx_map_img' usemap='#"+this.w+"'>";a.n=b;this.U=
[]}};dhtmlx.chart={};
dhtmlx.chart.scatter={pvt_render_scatter:function(a,b,c,d,e,f){if(!this.e.xValue)return null;var g=this.aa(),k=this.aa("h","xValue");e||(this.canvases.x=new dhtmlx.ui.Canvas(this.g,"axis_x"),this.canvases.y=new dhtmlx.ui.Canvas(this.g,"axis_y"),this.Zb(this.canvases.y.getCanvas(),b,c,d,g.min,g.max),this.Tb(this.canvases.x.getCanvas(),b,c,d,k.min,k.max));var g={min:this.e.yAxis.start,max:this.e.yAxis.end},k={min:this.e.xAxis.start,max:this.e.xAxis.end},h=this.sd(a,b,c,d,k,g);this.Ha=c;for(var l=0;l<
b.length;l++)this.dd(a,f,c,d,h,k,g,b[l],e)},sd:function(a,b,c,d,e,f){a={};a.totalHeight=d.y-c.y;a.totalWidth=d.x-c.x;this.Hb(a,e.min,e.max,a.totalWidth,"X");this.Hb(a,f.min,f.max,a.totalHeight,"Y");return a},dd:function(a,b,c,d,e,f,g,k,h){f=this.Ib(e,d,c,f,k,"X");c=this.Ib(e,c,d,g,k,"Y");this.Da(a,f,c,k,this.e.label.call(this,k),h,b)},Ib:function(a,b,c,d,e,f){e=this.e["X"==f?"xValue":"value"].call(this,e);var g=a["valueFactor"+f],g=(parseFloat(e||0)-d.min)*g;a=a["unit"+f];a=c[f.toLowerCase()]-("X"==
f?-1:1)*Math.floor(a*g);0>g&&(a=c[f.toLowerCase()]);e>d.max&&(a=b[f.toLowerCase()]);e<d.min&&(a=c[f.toLowerCase()]);return a},Hb:function(a,b,c,d,e){b=this.S(b,c);e=e||"";a["relValue"+e]=b[0];a["valueFactor"+e]=b[1];a["unit"+e]=a["relValue"+e]?d/a["relValue"+e]:10}};
dhtmlx.chart.radar={pvt_render_radar:function(a,b,c,d,e,f){this.Ud(a,b,c,d,e,f)},Ud:function(a,b,c,d,e,f){if(b.length){var g=this.jb(c,d);d=this.e.radius?this.e.radius:g.radius;for(var k=this.e.x?this.e.x:g.x,g=this.e.y?this.e.y:g.y,h=[],l=0;l<b.length;l++)h.push(1);h=this.cc(h,b.length);this.Ha=c;e||this.$c(h,k,g,d,b);this.ad(a,h,k,g,d,b,e,f)}},ad:function(a,b,c,d,e,f,g,k){var h,l,m,n,s,u,v,w,A,C,x,y,D,E;m=this.e;s=m.yAxis.start;n=this.S(s,m.yAxis.end);e=(l=n[0])?e/l:e/2;E=n[1];l=C=-Math.PI/2;v=
[];for(n=u=0;n<f.length;n++)D?y=D:(x=m.value(f[n]),y=(parseFloat(x||0)-s)*E),w=Math.floor(e*y),x=m.value(n!=f.length-1?f[n+1]:f[0]),D=(parseFloat(x||0)-s)*E,A=Math.floor(e*D),h=l,l=n!=f.length-1?C+b[n]-1E-4:C,h=u||this.R(h,c,d,w),u=this.R(l,c,d,A),v.push(h);m.fill&&this.kd(a,v,f);m.disableLines||this.ce(a,v,f);m.disableItems||this.bd(a,v,f,g,k)},bd:function(a,b,c,d,e){for(var f=0;f<b.length;f++)this.Da(a,b[f].x,b[f].y,c[f],this.e.label.call(this,c),d,e)},kd:function(a,b,c){var d,e;a.globalAlpha=this.e.alpha.call(this,
{});a.beginPath();for(var f=0;f<b.length;f++)a.fillStyle=this.e.fill.call(this,c[f]),d=b[f],e=b[f+1]||b[0],f||a.moveTo(d.x,d.y),a.lineTo(e.x,e.y);a.fill();a.globalAlpha=1},ce:function(a,b,c){for(var d,e,f=0;f<b.length;f++)d=b[f],e=b[f+1]||b[0],this.m(a,d.x,d.y,e.x,e.y,this.e.line.color.call(this,c[f]),this.e.line.width)},$c:function(a,b,c,d,e){var f=this.e.yAxis,g=this.e.xAxis,k=f.start,h=f.end,l=f.step,m={},n=this.ma;if("undefined"==typeof n.step||"undefined"==typeof n.start||"undefined"==typeof n.end)k=
this.aa(),m=this.Wa(k.min,k.max),k=m.start,h=m.end,l=m.step,f.end=h,f.start=k;var s=[],u,v,w=0,A=d*l/(h-k),C;1>l&&(u=Math.min(this.da(l),0>=k?0:this.da(k)),C=Math.pow(10,-u));var x=[];this.canvases.scale=new dhtmlx.ui.Canvas(this.g,"radar_scale");var y=this.canvases.scale.getCanvas();for(u=h;u>=k;u-=l){m.fixNum&&(u=parseFloat((new Number(u)).toFixed(m.fixNum)));s.push(Math.floor(w*A)+0.5);C&&(u=Math.round(u*C)/C);this.canvases.scale.renderTextAt("middle","left",b,c-d+s[s.length-1],f.template(u.toString()),
"dhx_axis_item_y dhx_radar");if(2>a.length){this.Vb(y,"arc",b,c,d-s[s.length-1],-Math.PI/2,3*Math.PI/2,u);return}var D=-Math.PI/2,E=D,I;for(v=0;v<a.length;v++)u==h&&x.push(E),I=D+a[v]-1E-4,this.Vb(y,n.lineShape||"line",b,c,d-s[s.length-1],E,I,u,v,e[u]),E=I;w++}for(u=0;u<x.length;u++)a=this.R(x[u],b,c,d),g.lines.call(this,e[u],u)&&this.m(y,b,c,a.x,a.y,g?g.lineColor.call(this,e[u]):"#cfcfcf",1),this.cd(y,b,c,d,x[u],g?g.template.call(this,e[u]):"&nbsp;")},Vb:function(a,b,c,d,e,f,g,k,h){var l,m;if(0>
e)return!1;l=this.R(f,c,d,e);m=this.R(g,c,d,e);var n=this.e.yAxis;n.bg&&(a.beginPath(),a.moveTo(c,d),"arc"==b?a.arc(c,d,e,f,g,!1):(a.lineTo(l.x,l.y),a.lineTo(m.x,m.y)),a.fillStyle=n.bg(k,h),a.moveTo(c,d),a.fill(),a.closePath());n.lines.call(this,k)&&(a.lineWidth=1,a.beginPath(),"arc"==b?a.arc(c,d,e,f,g,!1):(a.moveTo(l.x,l.y),a.lineTo(m.x,m.y)),a.strokeStyle=n.lineColor.call(this,k),a.stroke())},cd:function(a,b,c,d,e,f){a=this.canvases.scale.renderText(0,0,f,"dhx_axis_radar_title",1);f=a.scrollWidth;
var g=a.offsetHeight;b=this.R(e,b,c,d+5);d=c=0;if(0>e||e>Math.PI)d=-g;e>Math.PI/2&&(c=-f);if(0.001>Math.abs(e+Math.PI/2)||0.001>Math.abs(e-Math.PI/2))c=-f/2;else if(0.001>Math.abs(e)||0.001>Math.abs(e-Math.PI))d=-g/2;a.style.top=b.y+d+"px";a.style.left=b.x+c+"px";a.style.width=f+"px";a.style.whiteSpace="nowrap"}};
dhtmlx.chart.area={pvt_render_area:function(a,b,c,d,e,f){var g,k,h,l,m,n,s,u,v;n=this.Aa(a,b,c,d,e);k=this.e;l=k.eventRadius||Math.floor(n.cellWidth/2);if(b.length){s=[];u=k.offset?c.x+0.5*n.cellWidth:c.x;for(h=0;h<b.length;h++)m=b[h],h?u+=n.cellWidth:s.push([u,d.y]),(v=this.Ea(m,c,d,n))?(s.push([u,v]),f.addRect(m.id,[u-l-c.x,v-l-c.y,u+l-c.x,v+l-c.y],e),k.yAxis||(g=k.offset||h!=b.length-1?"center":"left",this.canvases[e].renderTextAt(!1,g,u,v-k.labelOffset,k.label(m)))):h||s.push([u,d.y]);s.push([u,
d.y]);s.push([s[0][0],d.y]);a.globalAlpha=this.e.alpha.call(this,b[0]);a.fillStyle=this.e.color.call(this,b[0]);a.beginPath();this.va(a,s);a.fill();k.border&&(a.lineWidth=k.borderWidth||1,k.borderColor?a.strokeStyle=k.borderColor.call(this,b[0]):this.Pa(a,a.fillStyle),a.beginPath(),this.va(a,s),a.stroke());a.lineWidth=1;a.globalAlpha=1}}};
dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(a,b,c,d,e,f){var g,k,h,l,m,n,s,u,v;n=this.Aa(a,b,c,d,e);k=this.e;l=k.eventRadius||Math.floor(n.cellWidth/2);if(b.length){s=[];v=[];u=k.offset?c.x+0.5*n.cellWidth:c.x;var w=function(a,c){return e?b[a].$startY?c-d.y+b[a].$startY:0:c},A=function(a,b,c){c=(c.y-b.y)/(c.x-b.x);return c*a+b.y-c*b.x};for(h=0;h<b.length;h++)m=b[h],h?u+=n.cellWidth:(g=w(h,d.y),s.push([u,g])),g=w(h,this.Ea(m,c,d,n)),v.push(isNaN(g)&&!h?b[h].$startY||d.y:g),g&&(s.push([u,
g]),f.addRect(m.id,[u-l-c.x,g-l-c.y,u+l-c.x,g+l-c.y],e),k.yAxis||this.canvases[e].renderTextAt(!1,"center",u,g-k.labelOffset,k.label(m)));s.push([u,w(h-1,d.y)]);if(e)for(h=b.length-2;0<h;h--)u-=n.cellWidth,(g=b[h].$startY)&&s.push([u,g]);s.push([s[0][0],s[0][1]]);a.globalAlpha=this.e.alpha.call(this,b[0]);a.fillStyle=this.e.color.call(this,b[0]);a.beginPath();this.va(a,s);a.fill();for(h=0;h<b.length;h++){g=v[h];if(!g)for(h==b.length-1&&(g=b[h].$startY),a=h+1;a<b.length;a++)if(v[a]){g={x:c.x,y:v[0]};
a={x:c.x+n.cellWidth*a,y:v[a]};g=A(c.x+n.cellWidth*h,g,a);break}b[h].$startY=g}}}};
dhtmlx.chart.spline={pvt_render_spline:function(a,b,c,d,e,f){var g,k,h,l,m,n,s,u,v;l=this.Aa(a,b,c,d,e);g=this.e;this.Ha=c;h=[];if(b.length){n=g.offset?c.x+0.5*l.cellWidth:c.x;for(k=0;k<b.length;k++)if(s=this.Ea(b[k],c,d,l))m=k?l.cellWidth*k-0.5+n:n,h.push({x:m,y:s,index:k});m=this.td(h);for(k=0;k<h.length;k++){n=h[k].x;u=h[k].y;if(k<h.length-1){s=h[k+1].x;v=h[k+1].y;for(l=n;l<s;l++){var w=this.kb(l,n,k,m.a,m.b,m.c,m.d);w<c.y&&(w=c.y);w>d.y&&(w=d.y);var A=this.kb(l+1,n,k,m.a,m.b,m.c,m.d);A<c.y&&(A=
c.y);A>d.y&&(A=d.y);this.m(a,l,w,l+1,A,g.line.color(b[k]),g.line.width)}this.m(a,s-1,this.kb(l,n,k,m.a,m.b,m.c,m.d),s,v,g.line.color(b[k]),g.line.width)}this.Da(a,n,u,b[h[k].index],g.label(b[h[k].index]),e,f)}}},td:function(a){var b,c,d,e,f,g,k=[];e=[];var h=a.length;for(b=0;b<h-1;b++)k[b]=a[b+1].x-a[b].x,e[b]=(a[b+1].y-a[b].y)/k[b];c=[];d=[];c[0]=0;c[1]=2*(k[0]+k[1]);d[0]=0;d[1]=6*(e[1]-e[0]);for(b=2;b<h-1;b++)c[b]=2*(k[b-1]+k[b])-k[b-1]*k[b-1]/c[b-1],d[b]=6*(e[b]-e[b-1])-k[b-1]*d[b-1]/c[b-1];e=
[];e[h-1]=e[0]=0;for(b=h-2;1<=b;b--)e[b]=(d[b]-k[b]*e[b+1])/c[b];c=[];d=[];f=[];g=[];for(b=0;b<h-1;b++)c[b]=a[b].y,d[b]=-k[b]*e[b+1]/6-k[b]*e[b]/3+(a[b+1].y-a[b].y)/k[b],f[b]=e[b]/2,g[b]=(e[b+1]-e[b])/(6*k[b]);return{a:c,b:d,c:f,d:g}},kb:function(a,b,c,d,e,f,g){return d[c]+(a-b)*(e[c]+(a-b)*(f[c]+(a-b)*g[c]))}};
dhtmlx.chart.barH={pvt_render_barH:function(a,b,c,d,e,f){var g,k,h,l,m,n,s,u,v,w,A,C,x,y,D,E,I;h=(d.y-c.y)/b.length;s=this.aa("h");u=s.max;s=s.min;k=d.x-c.x;I=!!this.e.yAxis;e||this.Sb(a,b,c,d,s,u,h);I&&(u=parseFloat(this.e.xAxis.end),s=parseFloat(this.e.xAxis.start));w=this.S(s,u);g=w[0];w=w[1];y=g?k/g:10;I||(C=10,y=g?(k-C)/g:10);k=parseInt(this.e.width,10);k*this.k.length+4>h&&(k=h/this.k.length-4);g=Math.floor((h-k*this.k.length)/2);A="undefined"!=typeof this.e.radius?parseInt(this.e.radius,10):
Math.round(k/5);v=!1;(m=this.e.gradient)&&"function"!=typeof m?(v=m,m=!1):m&&(m=a.createLinearGradient(c.x,c.y,d.x,c.y),this.e.gradient(m));I||this.m(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",1);for(n=0;n<b.length;n++)if(x=parseFloat(this.e.value(b[n]||0)),x>u&&(x=u),x-=s,x*=w,D=c.x,E=c.y+g+n*h+(k+1)*e,0>x&&"auto"==this.e.origin||this.e.xAxis&&0===x&&!("auto"!=this.e.origin&&this.e.origin>s))this.canvases[e].renderTextAt("middle","right",D+10,E+k/2+g,this.e.label(b[n]));else{0>x&&"auto"!=this.e.origin&&
this.e.origin>s&&(x=0);I||(x+=C/y);l=m||this.e.color.call(this,b[n]);this.e.border&&this.Rb(a,D,E,k,s,A,y,x,l);a.globalAlpha=this.e.alpha.call(this,b[n]);var H=this.Wc(a,d,D,E,k,s,A,y,x,l,m,v);!1!=v&&this.Xc(a,D,E,k,s,A,y,x,l,v);a.globalAlpha=1;H[3]==E?(this.canvases[e].renderTextAt("middle","left",H[0]-5,H[3]+Math.floor(k/2),this.e.label(b[n])),f.addRect(b[n].id,[H[0]-c.x,H[3]-c.y,H[2]-c.x,H[3]+k-c.y],e)):(this.canvases[e].renderTextAt("middle",!1,H[2]+5,H[1]+Math.floor(k/2),this.e.label(b[n])),
f.addRect(b[n].id,[H[0]-c.x,E-c.y,H[2]-c.x,H[3]-c.y],e))}},xa:function(a,b,c,d,e,f,g,k,h){var l=0;e>f*g&&(l=-Math.asin((e-f*g)/e)+Math.PI/2);a.moveTo(b,c+k);var m=b+f*g-e-(e?0:k);e<f*g&&a.lineTo(m,c+k);e&&0<e&&a.arc(m,c+e,e-k,-Math.PI/2+l,0,!1);g=c+d-e-(e?0:k);f=m+e-(e?k:0);a.lineTo(f,g);e&&0<e&&a.arc(m,g,e-k,0,Math.PI/2-l,!1);d=c+d-k;a.lineTo(b,d);h||a.lineTo(b,c+k);return[f,d]},Sb:function(a,b,c,d,e,f,g){a=0;this.e.xAxis&&(this.canvases.x=new dhtmlx.ui.Canvas(this.g),a=this.Tb(this.canvases.x.getCanvas(),
b,c,d,e,f));this.e.yAxis&&(this.canvases.y=new dhtmlx.ui.Canvas(this.g),this.Yc(this.canvases.y.getCanvas(),b,c,d,g,a))},Yc:function(a,b,c,d,e,f){if(this.e.yAxis){var g=parseInt(f?f:c.x,10)-0.5,k=c.y;this.m(a,g,d.y+0.5,g,k,this.e.yAxis.color,1);for(var h=0;h<b.length;h++){var l="auto"!=this.e.origin&&"barH"==this.e.view&&parseFloat(this.e.value(b[h]))<this.e.origin;f=k+e/2+h*e;this.canvases.y.renderTextAt("middle",l?!1:"left",l?g+5:g-5,f,this.e.yAxis.template(b[h]),"dhx_axis_item_y",l?0:g-10);this.e.yAxis.lines.call(this,
b[h])&&this.m(a,c.x,f,d.x,f,this.e.yAxis.lineColor.call(this,b[h]),1)}this.m(a,c.x+0.5,k+0.5,d.x,k+0.5,this.e.yAxis.lineColor.call(this,{}),1);this.tc(c,d)}},Tb:function(a,b,c,d,e,f){var g;b={};var k=this.e.xAxis;if(k){var h=d.y+0.5,l=c.x-0.5,m=d.x-0.5,n=c.x;this.m(a,l,h,m,h,k.color,1);k.step&&(g=parseFloat(k.step));if("undefined"==typeof this.Ca.step||"undefined"==typeof this.Ca.start||"undefined"==typeof this.Ca.end)b=this.Wa(e,f),e=b.start,f=b.end,g=b.step,this.e.xAxis.end=f,this.e.xAxis.start=
e,this.e.xAxis.step=g;if(0!==g){for(var s=(m-l)*g/(f-e),u=0,v=e;v<=f;v+=g){b.fixNum&&(v=parseFloat((new Number(v)).toFixed(b.fixNum)));var w=Math.floor(l+u*s)+0.5;(v!=e||"auto"!=this.e.origin)&&k.lines.call(this,v)&&this.m(a,w,h,w,c.y,this.e.xAxis.lineColor.call(this,v),1);v==this.e.origin&&(n=w+1);this.canvases.x.renderTextAt(!1,!0,w,h+2,k.template(v.toString()),"dhx_axis_item_x");u++}this.canvases.x.renderTextAt(!0,!1,l,d.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",d.x-c.x);
k.lines.call(this,{})||this.m(a,l,c.y-0.5,m,c.y-0.5,this.e.xAxis.color,0.2);return n}}},Za:function(a,b,c,d,e,f,g){var k=b;this.e.yAxis&&"auto"!=this.e.origin&&this.e.origin>g&&(b+=(this.e.origin-g)*e,k=b,d-=this.e.origin-g,0>d&&(d*=-1,a.translate(b,c+f),a.rotate(Math.PI),b=0.5,c=0),b+=0.5);return{value:d,x0:b,y0:c,start:k}},Wc:function(a,b,c,d,e,f,g,k,h,l,m,n){a.save();c=this.Za(a,c,d,h,k,e,f);a.fillStyle=l;a.beginPath();e=this.xa(a,c.x0,c.y0,e,g,k,c.value,this.e.border?1:0);m&&!n&&a.lineTo(b.x,
c.y0+(this.e.border?1:0));a.fill();a.restore();return[c.y0!=d?c.start-e[0]:c.start,c.y0,c.y0!=d?c.start:e[0],c.y0!=d?d:e[1]]},Rb:function(a,b,c,d,e,f,g,k,h){a.save();b=this.Za(a,b,c,k,g,d,e);a.beginPath();this.Pa(a,h);a.globalAlpha=0.9;this.xa(a,b.x0,b.y0,d,f,g,b.value,a.lineWidth/2,1);a.stroke();a.restore()},Xc:function(a,b,c,d,e,f,g,k,h,l){a.save();b=this.Za(a,b,c,k,g,d,e);h=this.Oa(a,b.x0,b.y0+d,b.x0+g*b.value,b.y0,l,h,"x");a.fillStyle=h.gradient;a.beginPath();this.xa(a,b.x0,b.y0+h.offset,d-2*
h.offset,f,g,b.value,h.offset);a.fill();a.globalAlpha=1;a.restore()}};
dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(a,b,c,d,e,f){var g,k,h,l,m=d.x-c.x,n=!!this.e.yAxis;k=this.lb(b);g=k.max;k=k.min;var s=Math.floor((d.y-c.y)/b.length);e||this.Sb(a,b,c,d,k,g,s);n&&(g=parseFloat(this.e.xAxis.end),k=parseFloat(this.e.xAxis.start));h=this.S(k,g);l=h[0];h=h[1];var u=l?m/l:10;if(!n)var v=10,u=l?(m-v)/l:10;l=parseInt(this.e.width,10);l+4>s&&(l=s-4);var w=(s-l)/2,A=!1,C=this.e.gradient;C&&(A=!0);n||this.m(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",1);for(var x=0,y=d=0;y<
this.k.length;y++)y==e&&(d=x),"stackedBarH"==this.k[y].view&&x++;for(y=0;y<b.length;y++){d||(b[y].$startX=c.x);x=parseFloat(this.e.value(b[y]||0));x>g&&(x=g);var x=x-k,x=x*h,D=c.x,E=c.y+w+y*s;d?D=b[y].$startX:b[y].$startX=D;if(0>x||this.e.yAxis&&0===x)this.canvases.y.renderTextAt("middle",!0,D+10,E+l/2,this.e.label(b[y]));else{n||(x+=v/u);var I=this.e.color.call(this,b[y]);a.globalAlpha=this.e.alpha.call(this,b[y]);a.fillStyle=this.e.color.call(this,b[y]);a.beginPath();var H=this.xa(a,D,E,l,0,u,x,
this.e.border?1:0);C&&!A&&a.lineTo(c.x+m,E+(this.e.border?1:0));a.fill();!1!=A&&(H=this.Oa(a,D,E+l,D,E,A,I,"x"),a.fillStyle=H.gradient,a.beginPath(),H=this.xa(a,D,E,l,0,u,x,0),a.fill());this.e.border&&this.Rb(a,D,E,l,k,0,u,x,I);a.globalAlpha=1;this.canvases[e].renderTextAt("middle",!0,b[y].$startX+(H[0]-b[y].$startX)/2-1,E+(H[1]-E)/2,this.e.label(b[y]));f.addRect(b[y].id,[b[y].$startX-c.x,E-c.y,H[0]-c.x,H[1]-c.y],e);b[y].$startX=H[0]}}}};
dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(a,b,c,d,e,f){var g,k,h,l=d.y-c.y;h=!!this.e.yAxis;var m=!!this.e.xAxis;k=this.lb(b);g=k.max;k=k.min;var n=Math.floor((d.x-c.x)/b.length);e||this.eb(b,c,d,k,g,n);h&&(g=parseFloat(this.e.yAxis.end),k=parseFloat(this.e.yAxis.start));g=this.S(k,g);h=g[0];g=g[1];l=h?l/h:10;h=parseInt(this.e.width,10);h+4>n&&(h=n-4);var s=Math.floor((n-h)/2),u=this.e.gradient?this.e.gradient:!1;m||this.m(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(m=0;m<b.length;m++){var v=
parseFloat(this.e.value(b[m]||0));if(v){e||(v-=k);var v=v*g,w=c.x+s+m*n,A=d.y;e?A=b[m].$startY:b[m].$startY=A;if(!(A<c.y+1))if(0>v||this.e.yAxis&&0===v)this.canvases.y.renderTextAt(!0,!0,w+Math.floor(h/2),A,this.e.label(b[m]));else{var C=this.e.color.call(this,b[m]);a.globalAlpha=this.e.alpha.call(this,b[m]);a.fillStyle=this.e.color.call(this,b[m]);a.beginPath();var x=this.zb(a,w-(this.e.border?0.5:0),A,h+(this.e.border?0.5:0),l,v,0,c.y);a.fill();u&&(a.save(),x=this.Oa(a,w,A,w+h,x[1],u,C,"y"),a.fillStyle=
x.gradient,a.beginPath(),x=this.zb(a,w+x.offset,A,h-2*x.offset,l,v,this.e.border?1:0,c.y),a.fill(),a.restore());this.e.border&&(a.save(),this.Pa(a,C),a.beginPath(),this.zb(a,w-0.5,A,h+1,l,v,0,c.y,1),a.stroke(),a.restore());a.globalAlpha=1;this.canvases[e].renderTextAt(!1,!0,w+Math.floor(h/2),x[1]+(A-x[1])/2-7,this.e.label(b[m]));f.addRect(b[m].id,[w-c.x,x[1]-c.y,x[0]-c.x,(b[m].$startY||A)-c.y],e);b[m].$startY=this.e.border?x[1]+1:x[1]}}else e&&b[m].$startY||(b[m].$startY=d.y)}},zb:function(a,b,c,
d,e,f,g,k,h){a.moveTo(b,c);e=c-e*f+g;e<k&&(e=k);a.lineTo(b,e);k=e;a.lineTo(b+d,k);d=b+d;a.lineTo(d,c);h||a.lineTo(b,c);return[d,k-2*g]}};
dhtmlx.chart.line={pvt_render_line:function(a,b,c,d,e,f){var g,k,h,l,m,n,s,u,v;l=this.Aa(a,b,c,d,e);g=this.e;if(b.length){m=g.offset?c.x+0.5*l.cellWidth:c.x;h=[];for(k=0;k<b.length;k++)if(u=this.Ea(b[k],c,d,l))n=k?l.cellWidth*k-0.5+m:m,h.push({x:n,y:u,index:k});this.Ha=c;for(k=1;k<=h.length;k++)n=h[k-1].x,u=h[k-1].y,k<h.length&&(s=h[k].x,v=h[k].y,this.m(a,n,u,s,v,g.line.color.call(this,b[k-1]),g.line.width),g.line&&g.line.shadow)&&(a.globalAlpha=0.3,this.m(a,n+2,u+g.line.width+8,s+2,v+g.line.width+
8,"#eeeeee",g.line.width+3),a.globalAlpha=1),this.Da(a,n,u,b[h[k-1].index],g.label(b[h[k-1].index]),e,f,c)}},Da:function(a,b,c,d,e,f,g){var k=this.e.item,h=parseInt(k.radius.call(this,d),10)||0,l=this.Ha;if(h){a.save();if(k.shadow){a.lineWidth=1;a.strokeStyle="#bdbdbd";a.fillStyle="#bdbdbd";for(var m=[0.1,0.2,0.3],n=m.length-1;0<=n;n--)a.globalAlpha=m[n],a.strokeStyle="#d0d0d0",a.beginPath(),this.Ra(a,b,c+2*h/3,h+n+1,k.type),a.stroke();a.beginPath();a.globalAlpha=0.3;a.fillStyle="#bdbdbd";this.Ra(a,
b,c+2*h/3,h+1,k.type);a.fill()}a.restore();a.lineWidth=k.borderWidth;a.fillStyle=k.color.call(this,d);a.strokeStyle=k.borderColor.call(this,d);a.globalAlpha=k.alpha.call(this,d);a.beginPath();this.Ra(a,b,c,h+1,k.type);a.fill();a.stroke();a.globalAlpha=1}e&&this.canvases[f].renderTextAt(!1,!0,b,c-h-this.e.labelOffset,this.e.label.call(this,d));a=this.e.eventRadius||h+1;g.addRect(d.id,[b-a-l.x,c-a-l.y,b+a-l.x,c+a-l.y],f)},Ra:function(a,b,c,d,e){var f=[];!e||"square"!=e&&"s"!=e?!e||"diamond"!=e&&"d"!=
e?f=!e||"triangle"!=e&&"t"!=e?[[b,c,d,0,2*Math.PI,!0]]:[[b,c-d],[b+Math.sqrt(3)*d/2,c+d/2],[b-Math.sqrt(3)*d/2,c+d/2],[b,c-d]]:(e=1<a.lineWidth?a.lineWidth*Math.sqrt(2)/4:0,f=[[b,c-d],[b+d,c],[b,c+d],[b-d,c],[b+e,c-d-e]]):(d*=Math.sqrt(2)/2,f=[[b-d-a.lineWidth/2,c-d],[b+d,c-d],[b+d,c+d],[b-d,c+d],[b-d,c-d]]);this.va(a,f)},Ea:function(a,b,c,d){var e=d.minValue,f=d.maxValue,g=d.unit,k=d.valueFactor;a=this.e.value(a);k*=parseFloat(a||0)-e;this.e.yAxis||(k+=d.startValue/g);d=c.y-g*k;0>k&&(d=c.y);a>f&&
(d=b.y);a<e&&(d=c.y);return d},Aa:function(a,b,c,d,e){a={};a.totalHeight=d.y-c.y;a.cellWidth=(d.x-c.x)/(this.e.offset?b.length:b.length-1);var f=!!this.e.yAxis,g=-1!=this.e.view.indexOf("stacked")?this.lb(b):this.aa();a.maxValue=g.max;a.minValue=g.min;e||this.eb(b,c,d,a.minValue,a.maxValue,a.cellWidth);f&&(a.maxValue=parseFloat(this.e.yAxis.end),a.minValue=parseFloat(this.e.yAxis.start));c=this.S(a.minValue,a.maxValue);b=c[0];a.valueFactor=c[1];a.unit=b?a.totalHeight/b:10;a.startValue=0;f||(a.startValue=
10,a.unit==a.totalHeight)||(a.unit=b?(a.totalHeight-a.startValue)/b:10);return a}};
dhtmlx.chart.bar={pvt_render_bar:function(a,b,c,d,e,f){var g,k,h,l,m,n,s,u,v,w;g=d.y-c.y;w=!!this.e.yAxis;v=!!this.e.xAxis;k=this.aa();l=k.max;m=k.min;k=(d.x-c.x)/b.length;e||"auto"!=this.e.origin&&!w||this.eb(b,c,d,m,l,k);w&&(l=parseFloat(this.e.yAxis.end),m=parseFloat(this.e.yAxis.start));n=this.S(m,l);h=n[0];n=n[1];u=h?g/h:h;w||"auto"!=this.e.origin&&v||(s=10,u=h?(g-s)/h:s);!e&&"auto"!=this.e.origin&&!w&&this.e.origin>m&&this.Yb(a,b,c,d,k,d.y-u*(this.e.origin-m));g=parseInt(this.e.width,10);var A=
0,C=0;for(h=0;h<this.k.length;h++)h==e&&(C=A),"bar"==this.k[h].view&&A++;this.k&&g*A+4>k&&(g=parseInt(k/A-4,10));var A=(k-g*A)/2,x="undefined"!=typeof this.e.radius?parseInt(this.e.radius,10):Math.round(g/5),y=!1,D=this.e.gradient;D&&"function"!=typeof D?(y=D,D=!1):D&&(D=a.createLinearGradient(0,d.y,0,c.y),this.e.gradient(D));v||this.m(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(h=0;h<b.length;h++){var E=parseFloat(this.e.value(b[h])||0);if(!isNaN(E)){E>l&&(E=l);var E=E-m,E=E*n,I=c.x+A+h*k+(g+1)*C,
H=d.y;if(0>E||this.e.yAxis&&0===E&&!("auto"!=this.e.origin&&this.e.origin>m))this.canvases[e].renderTextAt(!0,!0,I+Math.floor(g/2),H,this.e.label(b[h]));else{w||"auto"!=this.e.origin&&v||(E+=s/u);var J=D||this.e.color.call(this,b[h]);a.globalAlpha=this.e.alpha.call(this,b[h]);var F=this.Tc(a,c,I,H,g,m,x,u,E,J,D,y);y&&this.Vc(a,I,H,g,m,x,u,E,J,y);this.e.border&&this.Uc(a,I,H,g,m,x,u,E,J);a.globalAlpha=1;F[0]!=I?this.canvases[e].renderTextAt(!1,!0,I+Math.floor(g/2),F[1],this.e.label(b[h])):this.canvases[e].renderTextAt(!0,
!0,I+Math.floor(g/2),F[3],this.e.label(b[h]));f.addRect(b[h].id,[I-c.x,F[3]-c.y,F[2]-c.x,F[1]-c.y],e)}}}},$a:function(a,b,c,d,e,f,g){var k=c;this.e.xAxis&&"auto"!=this.e.origin&&this.e.origin>g&&(c-=(this.e.origin-g)*e,k=c,d-=this.e.origin-g,0>d&&(d*=-1,a.translate(b+f,c),a.rotate(Math.PI),c=b=0),c-=0.5);return{value:d,x0:b,y0:c,start:k}},Tc:function(a,b,c,d,e,f,g,k,h,l,m,n){a.save();a.fillStyle=l;d=this.$a(a,c,d,h,k,e,f);e=this.yb(a,d.x0,d.y0,e,g,k,d.value,this.e.border?1:0);m&&!n&&a.lineTo(d.x0+
(this.e.border?1:0),b.y);a.fill();a.restore();return[d.x0,d.x0!=c?d.start-e[1]-d.y0:d.y0,d.x0!=c?c+e[0]:e[0],d.x0!=c?d.start-d.y0:e[1]]},Pa:function(a,b){var c;c=dhtmlx.math.toRgb(b);c=dhtmlx.math.rgbToHsv(c[0],c[1],c[2]);c[2]/=2;b="rgb("+dhtmlx.math.hsvToRgb(c[0],c[1],c[2])+")";a.strokeStyle=b;1==a.globalAlpha&&(a.globalAlpha=0.9)},Uc:function(a,b,c,d,e,f,g,k,h){a.save();b=this.$a(a,b,c,k,g,d,e);this.Pa(a,h);this.yb(a,b.x0,b.y0,d,f,g,b.value,a.lineWidth/2,1);a.stroke();a.restore()},Vc:function(a,
b,c,d,e,f,g,k,h,l){a.save();b=this.$a(a,b,c,k,g,d,e);h=this.Oa(a,b.x0,b.y0,b.x0+d,b.y0-g*b.value+2,l,h,"y");l=this.e.border?1:0;a.fillStyle=h.gradient;this.yb(a,b.x0+h.offset,b.y0,d-2*h.offset,f,g,b.value,h.offset+l);a.fill();a.restore()},yb:function(a,b,c,d,e,f,g,k,h){a.beginPath();var l=0;if(e>f*g){var m=(e-f*g)/e;1>=m&&-1<=m&&(l=-Math.acos(m)+Math.PI/2)}a.moveTo(b+k,c);m=c-Math.floor(f*g)+e+(e?0:k);e<f*g&&a.lineTo(b+k,m);e&&0<e&&a.arc(b+e,m,e-k,-Math.PI+l,-Math.PI/2,!1);g=b+d-e-k;f=m-e+(e?k:0);
a.lineTo(g,f);e&&0<e&&a.arc(g,m,e-k,-Math.PI/2,0-l,!1);d=b+d-k;a.lineTo(d,c);h||a.lineTo(b+k,c);return[d,f]}};
dhtmlx.chart.pie={pvt_render_pie:function(a,b,c,d,e,f){this.vb(a,b,c,d,1,f,e)},vb:function(a,b,c,d,e,f,g){if(b.length){var k=this.jb(c,d);d=this.e.radius?this.e.radius:k.radius;if(!(0>d)){var h=this.ud(b),l=this.dc(h),m=this.cc(h,l),n=this.e.x?this.e.x:k.x,k=this.e.y?this.e.y:k.y;1==e&&this.e.shadow&&this.Cc(a,n,k,d);var k=k/e,s=-Math.PI/2,u=[];a.scale(1,e);this.e.gradient&&this.Zd(a,n,k,d,1!=e?n+d/3:n,1!=e?k+d/3:k);for(var v=0;v<b.length;v++)if(h[v]){a.strokeStyle=this.e.lineColor.call(this,b[v]);
a.beginPath();a.moveTo(n,k);u.push(s);alpha1=-Math.PI/2+m[v]-1E-4;a.arc(n,k,d,s,alpha1,!1);a.lineTo(n,k);var w=this.e.color.call(this,b[v]);a.fillStyle=w;a.fill();this.e.pieInnerText&&this.Wb(n,k,5*d/6,s,alpha1,e,this.e.pieInnerText(b[v],l),!0);this.e.label&&this.Wb(n,k,d+this.e.labelOffset,s,alpha1,e,this.e.label(b[v]));1!=e&&(this.Lb(a,n,k,s,alpha1,d,!0),a.fillStyle="#000000",a.globalAlpha=0.2,this.Lb(a,n,k,s,alpha1,d,!1),a.globalAlpha=1,a.fillStyle=w);f.addSector(b[v].id,s,alpha1,n-c.x,k-c.y/e,
d,e,g);s=alpha1}a.globalAlpha=0.8;for(v=0;v<u.length;v++)c=this.R(u[v],n,k,d),this.m(a,n,k,c.x,c.y,this.e.lineColor.call(this,b[v]),2);1==e&&(a.lineWidth=2,a.strokeStyle="#ffffff",a.beginPath(),a.arc(n,k,d+1,0,2*Math.PI,!1),a.stroke());a.globalAlpha=1;a.scale(1,1/e)}}},ud:function(a){for(var b=[],c=0;c<a.length;c++)b.push(parseFloat(this.e.value(a[c])||0));return b},dc:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b},cc:function(a,b){var c,d=[],e=0;b=b||this.dc(a);for(var f=0;f<a.length;f++)c=
a[f],d[f]=2*Math.PI*(b?(c+e)/b:1/a.length),e+=c;return d},jb:function(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.x+c/2,f=a.y+d/2,c=Math.min(c/2,d/2);return{x:e,y:f,radius:c}},Lb:function(a,b,c,d,e,f,g){a.lineWidth=1;if(0>=d&&0<=e||0<=d&&e<=Math.PI||0.003<Math.abs(d-Math.PI)&&d<=Math.PI&&e>=Math.PI){0>=d&&0<=e&&(d=0,g=!1,this.Xb(a,b,c,f,d,e));d<=Math.PI&&e>=Math.PI&&(e=Math.PI,g=!1,this.Xb(a,b,c,f,d,e));var k=(this.e.height||Math.floor(f/4))/this.e.cant;a.beginPath();a.arc(b,c,f,d,e,!1);a.lineTo(b+f*Math.cos(e),
c+f*Math.sin(e)+k);a.arc(b,c+k,f,e,d,!0);a.lineTo(b+f*Math.cos(d),c+f*Math.sin(d));a.fill();g&&a.stroke()}},Xb:function(a,b,c,d,e,f){a.beginPath();a.arc(b,c,d,e,f,!1);a.stroke()},Cc:function(a,b,c,d){a.globalAlpha=0.5;for(var e="#c4c4c4 #c6c6c6 #cacaca #dcdcdc #dddddd #e0e0e0 #eeeeee #f5f5f5 #f8f8f8".split(" "),f=e.length-1;-1<f;f--)a.beginPath(),a.fillStyle=e[f],a.arc(b+1,c+1,d+f,0,2*Math.PI,!0),a.fill();a.globalAlpha=1},qd:function(a){a.addColorStop(0,"#ffffff");a.addColorStop(0.7,"#7a7a7a");a.addColorStop(1,
"#000000");return a},Zd:function(a,b,c,d,e,f){a.beginPath();var g;"function"!=typeof this.e.gradient?(g=a.createRadialGradient(e,f,d/4,b,c,d),g=this.qd(g)):g=this.e.gradient(g);a.fillStyle=g;a.arc(b,c,d,0,2*Math.PI,!0);a.fill();a.globalAlpha=0.7},Wb:function(a,b,c,d,e,f,g,k){if(g=this.canvases[0].renderText(0,0,g,0,1)){var h=g.scrollWidth;g.style.width=h+"px";h>a&&(h=a);var l=0.2>e-d?4:8;k&&(l=h/1.8);var m=d+(e-d)/2;c-=(l-8)/2;var n=-l,s="right";if(m>=Math.PI/2&&m<Math.PI||m<=3*Math.PI/2&&m>=Math.PI)n=
-h-n+1,s="left";var u=0;!k&&1>f&&0<m&&m<Math.PI&&(u=(this.e.height||Math.floor(c/4))/f);b=(b+Math.floor((c+u)*Math.sin(m)))*f+-8;c=a+Math.floor((c+l/2)*Math.cos(m))+n;e=e<Math.PI/2+0.01;(d=d<Math.PI/2)&&e?c=Math.max(c,a+3):d||e?!k&&(m>=Math.PI/2&&m<Math.PI||m<=3*Math.PI/2&&m>=Math.PI)&&(c+=h/3):c=Math.min(c,a-h);g.style.top=b+"px";g.style.left=c+"px";g.style.width=h+"px";g.style.textAlign=s;g.style.whiteSpace="nowrap"}}};
dhtmlx.chart.pie3D={pvt_render_pie3D:function(a,b,c,d,e,f){this.vb(a,b,c,d,this.e.cant,f)}};dhtmlx.chart.donut={pvt_render_donut:function(a,b,c,d,e,f){b.length&&(this.vb(a,b,c,d,1,f),b=this.e,c=this.jb(c,d),d=b.radius?b.radius:c.radius,d=b.innerRadius&&b.innerRadius<d?b.innerRadius:d/3,e=b.x?b.x:c.x,b=b.y?b.y:c.y,a.fillStyle="#ffffff",a.beginPath(),a.arc(e,b,d,0,2*Math.PI,!0),a.fill())}};
dhtmlx.Group={p:function(){this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(){this.e.group&&this.group(this.e.group,!1)},this));this.attachEvent("onBeforeRender",dhtmlx.bind(function(a){this.e.sort&&(a.block(),a.sort(this.e.sort),a.unblock())},this));this.attachEvent("onBeforeSort",dhtmlx.bind(function(){this.e.sort=null},this))},zd:function(a,b){a.attachEvent("onClearAll",dhtmlx.bind(function(){this.ungroup(!1);this.block();this.clearAll();this.unblock()},b))},sum:function(a,b){a=dhtmlx.Template.setter(a);
b=b||this.data;var c=0;b.each(function(b){c+=1*a(b)});return c},min:function(a,b){a=dhtmlx.Template.setter(a);b=b||this.data;var c=Infinity;b.each(function(b){1*a(b)<c&&(c=1*a(b))});return 1*c},max:function(a,b){a=dhtmlx.Template.setter(a);b=b||this.data;var c=-Infinity;b.each(function(b){1*a(b)>c&&(c=1*a(b))});return c},be:function(a){var b=function(a,b){a=dhtmlx.Template.setter(a);return a(b[0])},c=dhtmlx.Template.setter(a.by);a.map[c]||(a.map[c]=[c,b]);var d={},e=[];this.data.each(function(a){var b=
c(a);d[b]||(e.push({id:b}),d[b]=dhtmlx.toArray());d[b].push(a)});for(var f in a.map){var g=a.map[f][1]||b;"function"!=typeof g&&(g=this[g]);for(var k=0;k<e.length;k++)e[k][f]=g.call(this,a.map[f][0],d[e[k].id])}this.nc=this.data;this.data=new dhtmlx.DataStore;this.data.provideApi(this,!0);this.zd(this.data,this);this.parse(e,"json")},group:function(a,b){this.ungroup(!1);this.be(a);!1!==b&&this.render()},ungroup:function(a){this.nc&&(this.data=this.nc,this.data.provideApi(this,!0));!1!==a&&this.render()},
group_setter:function(a){return a},sort_setter:function(a){"object"!=typeof a&&(a={by:a});this.N(a,{as:"string",dir:"asc"});return a}};dhtmlx.DataDriver.dhtmlxgrid={wd:"_get_cell_value",toObject:function(a){return this.ec=a},getRecords:function(a){return a.rowsBuffer},getDetails:function(a){for(var b={},c=0;c<this.ec.getColumnsNum();c++)b["data"+c]=this.ec[this.wd](a,c);return b},getInfo:function(){return{v:0,r:0}}};dhtmlx.ui.Canvas=function(a,b,c){this.$=[];this.Lc=b;this.g=a;this.pc(a,b,c)};
dhtmlx.ui.Canvas.prototype={pc:function(a,b,c){this.u=dhtmlx.html.create("canvas",{width:a.offsetWidth,height:a.offsetHeight,canvas_id:b,style:c||""});a.appendChild(this.u);!this.u.getContext&&dhtmlx.z&&(dhtmlx.require("thirdparty/excanvas/excanvas.js"),G_vmlCanvasManager.init_(document),G_vmlCanvasManager.initElement(this.u));return this.u},getCanvas:function(a){return(this.u||this.pc()).getContext(a||"2d")},Wd:function(){this.u&&(this.u.setAttribute("width",this.u.parentNode.offsetWidth),this.u.setAttribute("height",
this.u.parentNode.offsetHeight))},renderText:function(a,b,c,d,e){if(c)return a=dhtmlx.html.create("DIV",{"class":"dhx_canvas_text"+(d?" "+d:""),style:"left:"+a+"px; top:"+b+"px;"},c),this.g.appendChild(a),this.$.push(a),e&&(a.style.width=e+"px"),a},renderTextAt:function(a,b,c,d,e,f,g){if(e=this.renderText.call(this,c,d,e,f,g))a&&(e.style.top="middle"==a?parseInt(d-e.offsetHeight/2,10)+"px":d-e.offsetHeight+"px"),b&&(e.style.left="left"==b?c-e.offsetWidth+"px":parseInt(c-e.offsetWidth/2,10)+"px");
return e},clearCanvas:function(a){for(var b=[],b=0;b<this.$.length;b++)this.g.removeChild(this.$[b]);this.$=[];if(!a&&this.g.n){for(b=this.bc();b.length;)b[0].parentNode.removeChild(b[0]),b.splice(0,1);this.g.n.getElementsByTagName("AREA").length||(this.g.n.parentNode.removeChild(this.g.n),this.g.n=null)}this.getCanvas().clearRect(0,0,this.u.offsetWidth,this.u.offsetHeight)},toggleCanvas:function(){this.Eb("none"==this.u.style.display)},showCanvas:function(){this.Eb(!0)},hideCanvas:function(){this.Eb(!1)},
Eb:function(a){var b,c;for(c=0;c<this.$.length;c++)this.$[c].style.display=a?"":"none";if(this.g.n)for(b=this.bc(),c=0;c<b.length;c++)a?b[c].removeAttribute("disabled"):b[c].setAttribute("disabled","true");this.u.style.display=a?"":"none"},bc:function(){var a=[],b,c;b=this.g.n.getElementsByTagName("AREA");for(c=0;c<b.length;c++)b[c].getAttribute("userdata")==this.Lc&&a.push(b[c]);return a}};
dhtmlXChart=function(a){this.name="Chart";this.version="3.0";dhtmlx.extend(this,dhtmlx.Settings);this.sb(a,"dhx_chart");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);this.data.provideApi(this,!0);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.Destruction);dhtmlx.extend(this,dhtmlx.Group);dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var b in dhtmlx.chart)dhtmlx.extend(this,dhtmlx.chart[b]);a.preset&&this.definePreset(a);
this.J(a,this.defaults);this.k=[this.e];this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render()},this));this.attachEvent("onLocateData",this.de)};
dhtmlXChart.prototype={w:"dhx_area_id",on_click:{dhx_chart_legend_item:function(a,b,c){b=c.getAttribute("series_id");if(this.callEvent("onLegendClick",[a,b,c])){a=this.e;var d=a.legend.values;a=d&&d[b].toggle||a.legend.toggle;"undefined"!=typeof b&&1<this.k.length&&a&&(-1!=c.className.indexOf("hidden")?this.showSeries(b):this.hideSeries(b))}}},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},
resize:function(){for(var a in this.canvases)this.canvases[a].Wd();this.render()},view_setter:function(a){"undefined"==typeof this.e.offset&&(this.e.offset=!("area"==a||"stackedArea"==a));"radar"==a&&!this.e.yAxis&&this.define("yAxis",{});"scatter"==a&&(this.e.yAxis||this.define("yAxis",{}),this.e.xAxis||this.define("xAxis",{}));return a},clearCanvas:function(){if(this.canvases&&"object"==typeof this.canvases)for(var a in this.canvases)this.canvases[a].clearCanvas()},render:function(){var a,b,c,d,
e;if(this.callEvent("onBeforeRender",[this.data])){if(this.canvases&&"object"==typeof this.canvases)for(b in this.canvases)this.canvases[b].clearCanvas();else this.canvases={};this.e.legend&&(this.canvases.legend||(this.canvases.legend=new dhtmlx.ui.Canvas(this.g,"legend")),this.cb(this.data.getRange(),this.g.offsetWidth));a=this.od(this.g.offsetWidth,this.g.offsetHeight);d=new dhtmlx.ui.Map(this.w);e=this.e;c=this.pd();for(b=0;b<this.k.length;b++)this.e=this.k[b],this.canvases[b]||(this.canvases[b]=
new dhtmlx.ui.Canvas(this.g,b,"z-index:"+(2+b))),this["pvt_render_"+this.e.view](this.canvases[b].getCanvas(),c,a.start,a.end,b,d);d.render(this.g);this.g.lastChild.style.zIndex=1E3;this.Dc(this.g.lastChild,a);this.callEvent("onAfterRender",[]);this.e=e}},Dc:function(a,b){var c={};c.left=b.start.x;c.top=b.start.y;c.width=b.end.x-b.start.x;c.height=b.end.y-b.start.y;for(var d in c)a.style[d]=c[d]+"px"},pd:function(){var a,b,c,d,e,f;d=this.data.getRange();a=-1!=this.e.view.toLowerCase().indexOf("barh")?
"yAxis":"xAxis";if((b=this.e[a])&&b.units&&"object"==typeof b.units){c=b.units;a=[];if("undefined"!=typeof c.start&&"undefined"!=typeof c.end&&"undefined"!=typeof c.next)for(e=c.start;e<=c.end;)a.push(e),e=c.next.call(this,e);else"[object Array]"===Object.prototype.toString.call(c)&&(a=c);c=[];if(a.length){e=b.value;f={};for(b=0;b<d.length;b++)f[e(d[b])]=b;for(b=0;b<a.length;b++)"undefined"!=typeof f[a[b]]?(d[f[a[b]]].$unit=a[b],c.push(d[f[a[b]]])):c.push({$unit:a[b]})}return c}return d},value_setter:dhtmlx.Template.obj_setter,
xValue_setter:dhtmlx.Template.obj_setter,yValue_setter:function(a){this.define("value",a)},alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,borderColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,gradient_setter:function(a){"function"!=typeof a&&a&&!0===a&&(a="light");return a},colormap:{RAINBOW:function(a){a=Math.floor(this.indexById(a.id)/this.dataCount()*1536);1536==a&&(a-=1);return this.Pd[Math.floor(a/
256)](a%256)}},color_setter:function(a){return this.colormap[a]||dhtmlx.Template.obj_setter(a)},fill_setter:function(a){return a&&0!=a?dhtmlx.Template.obj_setter(a):!1},definePreset:function(a){this.define("preset",a.preset);delete a.preset},preset_setter:function(a){var b,c,d;this.defaults=dhtmlx.extend({},this.defaults);if("object"==typeof dhtmlx.presets.chart[a]){d=dhtmlx.presets.chart[a];for(b in d)if("object"==typeof d[b])if(this.defaults[b]&&"object"==typeof this.defaults[b])for(c in this.defaults[b]=
dhtmlx.extend({},this.defaults[b]),d[b])this.defaults[b][c]=d[b][c];else this.defaults[b]=dhtmlx.extend({},d[b]);else this.defaults[b]=d[b];return a}return!1},legend_setter:function(a){if(!a)return this.legendObj&&(this.legendObj.innerHTML="",this.legendObj=null),!1;"object"!=typeof a&&(a={template:a});this.N(a,{width:150,height:18,layout:"y",align:"left",valign:"bottom",template:"",toggle:-1!=this.e.view.toLowerCase().indexOf("stacked")?"":"hide",marker:{type:"square",width:15,height:15,radius:3},
margin:4,padding:3});a.template=dhtmlx.Template.setter(a.template);return a},defaults:{color:"RAINBOW",alpha:"1",label:!1,value:"{obj.value}",padding:{},view:"pie",lineColor:"#ffffff",cant:0.5,width:30,labelWidth:100,line:{width:2,color:"#1293f8"},item:{radius:3,borderColor:"#636363",borderWidth:1,color:"#ffffff",alpha:1,type:"r",shadow:!1},shadow:!0,gradient:!1,border:!0,labelOffset:20,origin:"auto"},item_setter:function(a){"object"!=typeof a&&(a={color:a,borderColor:a});this.N(a,dhtmlx.extend({},
this.defaults.item));for(var b=["alpha","borderColor","color","radius"],c=0;c<b.length;c++)a[b[c]]=dhtmlx.Template.setter(a[b[c]]);return a},line_setter:function(a){"object"!=typeof a&&(a={color:a});dhtmlx.extend(this.defaults.line,a);a=dhtmlx.extend({},this.defaults.line);a.color=dhtmlx.Template.setter(a.color);return a},padding_setter:function(a){"object"!=typeof a&&(a={left:a,right:a,top:a,bottom:a});this.N(a,{left:50,right:20,top:35,bottom:40});return a},xAxis_setter:function(a){if(!a)return!1;
"object"!=typeof a&&(a={template:a});a.value||(a.value=a.template);this.N(a,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",value:"{obj}",lines:!0});this.Jb(["lineColor","template","lines","value"],a);this.Ca=dhtmlx.extend({},a);return a},yAxis_setter:function(a){this.N(a,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0,bg:"#ffffff"});this.Jb(["lineColor","template","lines","bg"],a);this.ma=dhtmlx.extend({},a);return a},Jb:function(a,b){for(var c=0;c<a.length;c++)b[a[c]]=
dhtmlx.Template.setter(b[a[c]])},eb:function(a,b,c,d,e,f){var g=0;this.e.yAxis&&(this.canvases.y=new dhtmlx.ui.Canvas(this.g,"axis_y"),g=this.Zb(this.canvases.y.getCanvas(),a,b,c,d,e));this.e.xAxis&&(this.canvases.x=new dhtmlx.ui.Canvas(this.g,"axis_x"),this.Yb(this.canvases.x.getCanvas(),a,b,c,f,g));return g},Yb:function(a,b,c,d,e,f){var g=c.x-0.5;f=parseInt(f?f:d.y,10)+0.5;for(var k=d.x,h,l=!0,m=0;m<b.length;m++){!0===this.e.offset?h=g+e/2+m*e:(h=m==b.length-1?d.x:g+m*e,l=!!m);h=Math.ceil(h)-0.5;
var n="auto"!=this.e.origin&&"bar"==this.e.view&&parseFloat(this.e.value(b[m]))<this.e.origin;this.ed(h,f,b[m],l,n);(this.e.offset||m)&&this.e.xAxis.lines.call(this,b[m])&&this.fd(a,h,d.y,c.y,b[m])}this.canvases.x.renderTextAt(!0,!1,g,d.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",d.x-c.x);this.m(a,g,f,k,f,this.e.xAxis.color,1);this.e.xAxis.lines.call(this,{})&&this.e.offset&&this.m(a,k+0.5,d.y,k+0.5,c.y+0.5,this.e.xAxis.color,0.2)},Zb:function(a,b,c,d,e,f){var g;b={};if(this.e.yAxis){var k=
c.x-0.5,h=d.y,l=c.y,m=d.y;this.e.yAxis.step&&(g=parseFloat(this.e.yAxis.step));if("undefined"==typeof this.ma.step||"undefined"==typeof this.ma.start||"undefined"==typeof this.ma.end)b=this.Wa(e,f),e=b.start,f=b.end,g=b.step,this.e.yAxis.end=f,this.e.yAxis.start=e;this.tc(c,d);if(0!==g){if(f==e)return h;for(var n=(h-l)*g/(f-e),s=0,u=e;u<=f;u+=g){b.fixNum&&(u=parseFloat((new Number(u)).toFixed(b.fixNum)));var v=Math.floor(h-s*n)+0.5;(u!=e||"auto"!=this.e.origin)&&this.e.yAxis.lines.call(this,u)&&this.m(a,
k,v,d.x,v,this.e.yAxis.lineColor.call(this,u),1);u==this.e.origin&&(m=v);var w=u;1>g&&(w=Math.min(this.da(g),0>=e?0:this.da(e)),w=Math.pow(10,-w),u=w=Math.round(u*w)/w);this.canvases.y.renderText(0,v-5,this.e.yAxis.template(w.toString()),"dhx_axis_item_y",c.x-5);s++}this.m(a,k,h+1,k,l,this.e.yAxis.color,1);return m}}},tc:function(a,b){var c="dhx_axis_title_y"+(dhtmlx.z&&9!=dhtmlx.z?" dhx_ie_filter":"");if(c=this.canvases.y.renderTextAt("middle",!1,0,parseInt((b.y-a.y)/2+a.y,10),this.e.yAxis.title,
c))c.style.left=(dhtmlx.env.transform?(c.offsetHeight-c.offsetWidth)/2:0)+"px"},Wa:function(a,b){"auto"!=this.e.origin&&this.e.origin<a&&(a=this.e.origin);var c,d,e;c=(b-a)/8||1;var f=Math.floor(this.da(c));e=Math.pow(10,f);c=5<c/e?10:5;c=parseInt(c,10)*e;if(c>Math.abs(a))d=0>a?-c:0;else{e=Math.abs(a);d=Math.floor(this.da(e));var g=e/Math.pow(10,d);d=Math.ceil(10*g)/10*Math.pow(10,d)-c;for(1<e&&0.1<c&&(d=Math.ceil(d));0>a?d<=a:d>=a;)d-=c;0>a&&(d=-d-2*c)}for(e=d;e<b;)e+=c,e=parseFloat((new Number(e)).toFixed(Math.abs(f)));
return{start:d,end:e,step:c,fixNum:Math.abs(f)}},aa:function(a,b){var c,d;d=arguments.length&&"h"==a?this.Ca:this.ma;b=b||"value";if(d&&"undefined"!=typeof d.end&&"undefined"!=typeof d.start&&d.step)c=parseFloat(d.end),d=parseFloat(d.start);else if(c=this.max(this.k[0][b]),d=d&&"undefined"!=typeof d.start?parseFloat(d.start):this.min(this.k[0][b]),1<this.k.length)for(var e=1;e<this.k.length;e++){var f=this.max(this.k[e][b]),g=this.min(this.k[e][b]);f>c&&(c=f);g<d&&(d=g)}return{max:c,min:d}},da:function(a){return Math.floor(Math.log(a)/
Math.LN10)},ed:function(a,b,c,d,e){this.e.xAxis&&(a=this.canvases.x.renderTextAt(e,d,a,b-(e?2:0),this.e.xAxis.template(c)))&&(a.className+=" dhx_axis_item_x")},fd:function(a,b,c,d,e){this.e.xAxis&&this.e.xAxis.lines&&this.m(a,b,c,b,d,this.e.xAxis.lineColor.call(this,e),1)},m:function(a,b,c,d,e,f,g){a.strokeStyle=f;a.lineWidth=g;a.beginPath();a.moveTo(b,c);a.lineTo(d,e);a.stroke();a.lineWidth=1},S:function(a,b){return[b!=a?b-a:a,1]},Pd:[function(a){return"#FF"+dhtmlx.math.toHex(a/2,2)+"00"},function(a){return"#FF"+
dhtmlx.math.toHex(a/2+128,2)+"00"},function(a){return"#"+dhtmlx.math.toHex(255-a,2)+"FF00"},function(a){return"#00FF"+dhtmlx.math.toHex(a,2)},function(a){return"#00"+dhtmlx.math.toHex(255-a,2)+"FF"},function(a){return"#"+dhtmlx.math.toHex(a,2)+"00FF"}],addSeries:function(a){var b=this.e;this.e=dhtmlx.extend({},b);this.J(a,{});this.k.push(this.e);this.e=b},de:function(a,b){var c;this.Fb=b.getAttribute("userdata");if(this.k[this.Fb]){for(var d=0;d<this.k.length;d++)(c=this.k[d].tooltip)&&c.disable();
b.getAttribute("disabled")||(c=this.k[this.Fb].tooltip)&&c.enable()}},hideSeries:function(a){this.canvases[a].hideCanvas();this.e.legend.values&&this.e.legend.values[a]&&(this.e.legend.values[a].$hidden=!0);this.cb()},showSeries:function(a){this.canvases[a].showCanvas();this.e.legend.values&&this.e.legend.values[a]&&delete this.e.legend.values[a].$hidden;this.cb()},cb:function(a,b){var c,d,e,f,g,k=0,h=0,l,m,n;a=a||[];l=this.canvases.legend.getCanvas();d=this.e.legend;f="x"!=this.e.legend.layout?"width:"+
d.width+"px":"";this.legendObj&&(this.legendObj.innerHTML="",this.legendObj.parentNode.removeChild(this.legendObj));this.canvases.legend.clearCanvas(!0);e=dhtmlx.html.create("DIV",{"class":"dhx_chart_legend",style:"left:"+k+"px; top:"+h+"px;"+f},"");d.padding&&(e.style.padding=d.padding+"px");this.legendObj=e;this.g.appendChild(e);f=[];if(d.values)for(c=0;c<d.values.length;c++)f.push(this.Ub(e,d.values[c].text,"undefined"!=typeof d.values[c].id?typeof d.values[c].id:c,d.values[c].$hidden));else for(c=
0;c<a.length;c++)f.push(this.Ub(e,d.template(a[c])));g=e.offsetWidth;c=e.offsetHeight;g<this.g.offsetWidth&&("x"==d.layout&&"center"==d.align&&(k=(this.g.offsetWidth-g)/2),"right"==d.align&&(k=this.g.offsetWidth-g),d.margin&&"center"!=d.align&&(k+=("left"==d.align?1:-1)*d.margin));c<this.g.offsetHeight&&("middle"==d.valign&&"center"!=d.align&&"x"!=d.layout?h=(this.g.offsetHeight-c)/2:"bottom"==d.valign&&(h=this.g.offsetHeight-c),d.margin&&"middle"!=d.valign&&(h+=("top"==d.valign?1:-1)*d.margin));
e.style.left=k+"px";e.style.top=h+"px";l.save();for(c=0;c<f.length;c++)e=f[c],d.values&&d.values[c].$hidden?(n=!0,m=d.values[c].disableColor?d.values[c].disableColor:"#d9d9d9"):(n=!1,m=d.values?d.values[c].color:this.e.color.call(this,a[c])),this.Zc(l,e.offsetLeft+k,e.offsetTop+h,m,e.offsetHeight,n,c);l.restore()},Ub:function(a,b,c,d){var e="";"x"==this.e.legend.layout&&(e="float:left;");e=dhtmlx.html.create("DIV",{style:e+"padding-left:"+(10+this.e.legend.marker.width)+"px","class":"dhx_chart_legend_item"+
(d?" hidden":"")},b);2<arguments.length&&e.setAttribute("series_id",c);a.appendChild(e);return e},Zc:function(a,b,c,d,e,f,g){var k=[],k=this.e.legend.marker,h=this.e.legend.values,h=h&&h[g].markerType?h[g].markerType:k.type;d&&(a.strokeStyle=a.fillStyle=d);a.beginPath();if("round"!=h&&k.radius)if("item"==h){if(this.e.line&&"scatter"!=this.e.view&&!this.e.disableLines){a.beginPath();a.lineWidth=this.k[g].line.width;a.strokeStyle=f?d:this.k[g].line.color.call(this,{});var l=b+5,h=c+e/2;a.moveTo(l,h);
l+=k.width;a.lineTo(l,h);a.stroke()}g=this.k[g].item;if(h=parseInt(g.radius.call(this,{}),10)||0)a.beginPath(),f?(a.lineWidth=g.borderWidth,a.strokeStyle=d,a.fillStyle=d):(a.lineWidth=g.borderWidth,a.fillStyle=g.color.call(this,{}),a.strokeStyle=g.borderColor.call(this,{}),a.globalAlpha=g.alpha.call(this,{})),a.beginPath(),b+=k.width/2+5,this.Ra(a,b,c+e/2,h+1,g.type),a.fill(),a.stroke();a.globalAlpha=1}else a.lineWidth=1,b+=5,c+=e/2-k.height/2,k=[[b+k.radius,c+k.radius,k.radius,Math.PI,3*Math.PI/
2,!1],[b+k.width-k.radius,c],[b+k.width-k.radius,c+k.radius,k.radius,-Math.PI/2,0,!1],[b+k.width,c+k.height-k.radius],[b+k.width-k.radius,c+k.height-k.radius,k.radius,0,Math.PI/2,!1],[b+k.radius,c+k.height],[b+k.radius,c+k.height-k.radius,k.radius,Math.PI/2,Math.PI,!1],[b,c+k.radius]],this.va(a,k);else a.lineWidth=k.height,a.lineCap=h,b+=a.lineWidth/2+5,c+=e/2,a.moveTo(b,c),l=b+k.width-k.height+1,a.lineTo(l,c);a.stroke();a.fill()},od:function(a,b){var c,d,e,f;c=this.e.padding.left;d=this.e.padding.top;
e=a-this.e.padding.right;f=b-this.e.padding.bottom;if(this.e.legend){var g=this.e.legend,k=this.e.legend.width,h=this.e.legend.height;"x"==g.layout?"center"==g.valign?"right"==g.align?e-=k:"left"==g.align&&(c+=k):"bottom"==g.valign?f-=h:d+=h:"right"==g.align?e-=k:"left"==g.align&&(c+=k)}return{start:{x:c,y:d},end:{x:e,y:f}}},lb:function(a){var b,c,d;if(this.e.yAxis&&"undefined"!=typeof this.e.yAxis.end&&"undefined"!=typeof this.e.yAxis.start&&this.e.yAxis.step)c=parseFloat(this.e.yAxis.end),d=parseFloat(this.e.yAxis.start);
else{for(b=0;b<a.length;b++)for(a[b].$sum=0,a[b].$min=Infinity,c=0;c<this.k.length;c++)if(d=parseFloat(this.k[c].value(a[b])||0),!isNaN(d)&&(-1!=this.k[c].view.toLowerCase().indexOf("stacked")&&(a[b].$sum+=d),d<a[b].$min))a[b].$min=d;c=-Infinity;d=Infinity;for(b=0;b<a.length;b++)a[b].$sum>c&&(c=a[b].$sum),a[b].$min<d&&(d=a[b].$min);0<d&&(d=0)}return{max:c,min:d}},Oa:function(a,b,c,d,e,f,g,k){var h,l,m,n,s,u;"light"==f?(h="x"==k?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,c,b,e),u=[[0,
"#FFFFFF"],[0.9,g],[1,g]],l=2):"falling"==f||"rising"==f?(h="x"==k?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,c,b,e),m=dhtmlx.math.toRgb(g),n=dhtmlx.math.rgbToHsv(m[0],m[1],m[2]),n[1]*=0.5,s="rgb("+dhtmlx.math.hsvToRgb(n[0],n[1],n[2])+")","falling"==f?u=[[0,s],[0.7,g],[1,g]]:"rising"==f&&(u=[[0,g],[0.3,g],[1,s]]),l=0):(a.globalAlpha=0.37,l=0,h="x"==k?a.createLinearGradient(b,e,b,c):a.createLinearGradient(b,c,d,c),u=[[0,"#9d9d9d"],[0.3,"#e8e8e8"],[0.45,"#ffffff"],[0.55,"#ffffff"],[0.7,
"#e8e8e8"],[1,"#9d9d9d"]]);this.vd(h,u);return{gradient:h,offset:l}},R:function(a,b,c,d){a*=-1;b+=Math.cos(a)*d;c-=Math.sin(a)*d;return{x:b,y:c}},vd:function(a,b){for(var c=0;c<b.length;c++)a.addColorStop(b[c][0],b[c][1])},va:function(a,b){var c,d;for(c=0;c<b.length;c++)d=c?"lineTo":"moveTo",2<b[c].length&&(d="arc"),a[d].apply(a,b[c])},he:function(a,b,c,d){a.arc(b,c,d,2*Math.PI,!0)},fe:function(a,b,c,d,e){a.addRect(b,[c[0].x-d.x,c[0].y-d.y,c[1].x-d.x,c[1].y-d.y],e)}};dhtmlx.compat("layout");
document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new l(this))}function b(a,b,c){var d=I.call(arguments,2);return function(){return a.apply(b,d.concat(I.call(arguments)))}}function c(a){var b=a.srcElement;switch(a.propertyName){case "width":b.style.width=b.attributes.width.nodeValue+"px";b.getContext().clearRect();break;case "height":b.style.height=b.attributes.height.nodeValue+"px",b.getContext().clearRect()}}function d(a){a=a.srcElement;a.firstChild&&
(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function e(){return[[1,0,0],[0,1,0],[0,0,1]]}function f(a,b){for(var c=e(),d=0;3>d;d++)for(var f=0;3>f;f++){for(var g=0,h=0;3>h;h++)g+=a[d][h]*b[h][f];c[d][f]=g}return c}function g(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;
b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}function k(a){var b,c=1;a=String(a);if("rgb"==a.substring(0,3)){b=a.indexOf("(",3);var d=a.indexOf(")",b+1),d=a.substring(b+1,d).split(",");b="#";for(var e=0;3>e;e++)b+=J[Number(d[e])];4==d.length&&"a"==a.substr(3,1)&&(c=d[3])}else b=a;return{color:b,alpha:c}}function h(a){switch(a){case "butt":return"flat";case "round":return"round";default:return"square"}}function l(a){this.m_=
e();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*D;this.globalAlpha=1;this.canvas=a;var b=a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.overflow="hidden";b.style.position="absolute";a.appendChild(b);this.element_=b;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function m(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",
cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y});a.currentX_=d.x;a.currentY_=d.y}function n(a,b,c){var d;a:{for(d=0;3>d;d++)for(var e=0;2>e;e++)if(!isFinite(b[d][e])||isNaN(b[d][e])){d=!1;break a}d=!0}d&&(a.m_=b,c)&&(a.lineScale_=y(x(b[0][0]*b[1][1]-b[0][1]*b[1][0])))}function s(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function u(){}var v=Math,w=v.round,A=v.sin,C=v.cos,x=v.abs,y=v.sqrt,D=10,E=D/2,I=Array.prototype.slice,H={init:function(a){/MSIE/.test(navigator.userAgent)&&
!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",b(this.init_,this,a)))},init_:function(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_";b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}a=
a.getElementsByTagName("canvas");for(b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(b){if(!b.getContext){b.getContext=a;b.innerHTML="";b.attachEvent("onpropertychange",c);b.attachEvent("onresize",d);var e=b.attributes;e.width&&e.width.specified?b.style.width=e.width.nodeValue+"px":b.width=b.clientWidth;e.height&&e.height.specified?b.style.height=e.height.nodeValue+"px":b.height=b.clientHeight}return b}};H.init();for(var J=[],F=0;16>F;F++)for(var K=0;16>K;K++)J[16*F+K]=F.toString(16)+
K.toString(16);F=l.prototype;F.clearRect=function(){this.element_.innerHTML=""};F.beginPath=function(){this.currentPath_=[]};F.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};F.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};F.bezierCurveTo=function(a,b,c,d,e,f){e=this.getCoords_(e,f);a=this.getCoords_(a,b);c=this.getCoords_(c,
d);m(this,a,c,e)};F.quadraticCurveTo=function(a,b,c,d){a=this.getCoords_(a,b);c=this.getCoords_(c,d);d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};m(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)};F.arc=function(a,b,c,d,e,f){c*=D;var g=f?"at":"wa",h=a+C(d)*c-E,k=b+A(d)*c-E;d=a+C(e)*c-E;e=b+A(e)*c-E;h==d&&!f&&(h+=0.125);a=this.getCoords_(a,b);h=this.getCoords_(h,k);d=this.getCoords_(d,e);this.currentPath_.push({type:g,x:a.x,y:a.y,radius:c,
xStart:h.x,yStart:h.y,xEnd:d.x,yEnd:d.y})};F.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};F.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=e};F.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,
b+d);this.closePath();this.fill();this.currentPath_=e};F.createLinearGradient=function(a,b,c,d){var e=new s("gradient");e.x0_=a;e.y0_=b;e.x1_=c;e.y1_=d;return e};F.createRadialGradient=function(a,b,c,d,e,f){var g=new s("gradientradial");g.x0_=a;g.y0_=b;g.r0_=c;g.x1_=d;g.y1_=e;g.r1_=f;return g};F.drawImage=function(a,b){var c,d,e,f,g,h,k,l;e=a.runtimeStyle.width;f=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var m=a.width,n=a.height;a.runtimeStyle.width=e;a.runtimeStyle.height=
f;if(3==arguments.length)c=arguments[1],d=arguments[2],g=h=0,k=e=m,l=f=n;else if(5==arguments.length)c=arguments[1],d=arguments[2],e=arguments[3],f=arguments[4],g=h=0,k=m,l=n;else if(9==arguments.length)g=arguments[1],h=arguments[2],k=arguments[3],l=arguments[4],c=arguments[5],d=arguments[6],e=arguments[7],f=arguments[8];else throw Error("Invalid number of arguments");var s=this.getCoords_(c,d),u=[];u.push(" <g_vml_:group",' coordsize="',10*D,",",10*D,'"',' coordorigin="0,0"',' style="width:',10,
"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",w(s.x/D),",","Dy=",w(s.y/D),"");var y=this.getCoords_(c+e,d),A=this.getCoords_(c,d+f);c=this.getCoords_(c+e,d+f);s.x=v.max(s.x,y.x,A.x,c.x);s.y=v.max(s.y,y.y,A.y,c.y);u.push("padding:0 ",w(s.x/D),"px ",w(s.y/D),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else u.push("top:",
w(s.y/D),"px;left:",w(s.x/D),"px;");u.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',D*e,"px;"," height:",D*f,'px;"',' cropleft="',g/m,'"',' croptop="',h/n,'"',' cropright="',(m-g-k)/m,'"',' cropbottom="',(n-h-l)/n,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",u.join(""))};F.stroke=function(a){var b=[],c=k(a?this.fillStyle:this.strokeStyle),d=c.color,c=c.alpha*this.globalAlpha;b.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,
"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*D," ",10*D,'"',' stroked="',!a,'"',' path="');for(var e=null,f=null,g=null,l=null,m=0;m<this.currentPath_.length;m++){var n=this.currentPath_[m];switch(n.type){case "moveTo":b.push(" m ",w(n.x),",",w(n.y));break;case "lineTo":b.push(" l ",w(n.x),",",w(n.y));break;case "close":b.push(" x ");n=null;break;case "bezierCurveTo":b.push(" c ",w(n.cp1x),",",w(n.cp1y),",",w(n.cp2x),",",w(n.cp2y),",",w(n.x),",",w(n.y));break;case "at":case "wa":b.push(" ",
n.type," ",w(n.x-this.arcScaleX_*n.radius),",",w(n.y-this.arcScaleY_*n.radius)," ",w(n.x+this.arcScaleX_*n.radius),",",w(n.y+this.arcScaleY_*n.radius)," ",w(n.xStart),",",w(n.yStart)," ",w(n.xEnd),",",w(n.yEnd))}if(n){if(null==e||n.x<e)e=n.x;if(null==g||n.x>g)g=n.x;if(null==f||n.y<f)f=n.y;if(null==l||n.y>l)l=n.y}}b.push(' ">');if(a)if("object"==typeof this.fillStyle){var d=this.fillStyle,s=0,n=c=a=0,u=1;"gradient"==d.type_?(s=d.x1_/this.arcScaleX_,e=d.y1_/this.arcScaleY_,m=this.getCoords_(d.x0_/this.arcScaleX_,
d.y0_/this.arcScaleY_),s=this.getCoords_(s,e),s=180*Math.atan2(s.x-m.x,s.y-m.y)/Math.PI,0>s&&(s+=360),1E-6>s&&(s=0)):(m=this.getCoords_(d.x0_,d.y0_),n=g-e,u=l-f,a=(m.x-e)/n,c=(m.y-f)/u,n/=this.arcScaleX_*D,u/=this.arcScaleY_*D,m=v.max(n,u),n=2*d.r0_/m,u=2*d.r1_/m-n);e=d.colors_;e.sort(function(a,b){return a.offset-b.offset});for(var f=e.length,l=e[0].color,g=e[f-1].color,x=e[0].alpha*this.globalAlpha,y=e[f-1].alpha*this.globalAlpha,A=[],m=0;m<f;m++){var C=e[m];A.push(C.offset*u+n+" "+C.color)}b.push('<g_vml_:fill type="',
d.type_,'"',' method="none" focus="100%"',' color="',l,'"',' color2="',g,'"',' colors="',A.join(","),'"',' opacity="',y,'"',' g_o_:opacity2="',x,'"',' angle="',s,'"',' focusposition="',a,",",c,'" />')}else b.push('<g_vml_:fill color="',d,'" opacity="',c,'" />');else a=this.lineScale_*this.lineWidth,1>a&&(c*=a),b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',h(this.lineCap),'"',' weight="',a,'px"',' color="',d,'" />');b.push("</g_vml_:shape>");
this.element_.insertAdjacentHTML("beforeEnd",b.join(""))};F.fill=function(){this.stroke(!0)};F.closePath=function(){this.currentPath_.push({type:"close"})};F.getCoords_=function(a,b){var c=this.m_;return{x:D*(a*c[0][0]+b*c[1][0]+c[2][0])-E,y:D*(a*c[0][1]+b*c[1][1]+c[2][1])-E}};F.save=function(){var a={};g(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=f(e(),this.m_)};F.restore=function(){g(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};F.translate=function(a,b){n(this,f([[1,
0,0],[0,1,0],[a,b,1]],this.m_),!1)};F.rotate=function(a){var b=C(a);a=A(a);n(this,f([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};F.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;n(this,f([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};F.transform=function(a,b,c,d,e,g){n(this,f([[a,b,0],[c,d,0],[e,g,1]],this.m_),!0)};F.setTransform=function(a,b,c,d,e,f){n(this,[[a,b,0],[c,d,0],[e,f,1]],!0)};F.clip=function(){};F.arcTo=function(){};F.createPattern=function(){return new u};s.prototype.addColorStop=function(a,
b){b=k(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};G_vmlCanvasManager=H;CanvasRenderingContext2D=l;CanvasGradient=s;CanvasPattern=u}();dhtmlx&&dhtmlx.A&&(dhtmlx.A["thirdparty/excanvas/excanvas.js"]=!0);window.dhx||(dhx={});dhx.version="3.0";dhx.codebase="./";dhx.name="Core";dhx.clone=function(a){var b=dhx.clone.hb;b.prototype=a;return new b};dhx.clone.hb=function(){};
dhx.extend=function(a,b,c){if(a.qa)return dhx.PowerArray.insertAt.call(a.qa,b,1),a;for(var d in b)if(!a[d]||c)a[d]=b[d];b.defaults&&dhx.extend(a.defaults,b.defaults);b.$init&&b.$init.call(a);return a};dhx.copy=function(a){if(1<arguments.length){var b=arguments[0];a=arguments[1]}else b=dhx.isArray(a)?[]:{};for(var c in a)a[c]&&"object"==typeof a[c]&&!dhx.isDate(a[c])?(b[c]=dhx.isArray(a[c])?[]:{},dhx.copy(b[c],a[c])):b[c]=a[c];return b};
dhx.single=function(a){var b=null;return function(c){b||(b=new a({}));b.Sd&&b.Sd.apply(b,arguments);return b}};
dhx.protoUI=function(){var a=arguments[0].name,b=function(c){if(!b)return dhx.ui[a].prototype;var d=b.qa;if(d){for(var e=[d[0]],f=1;f<d.length;f++)e[f]=d[f],e[f].qa&&(e[f]=e[f].call(dhx,e[f].name)),e[f].prototype&&e[f].prototype.name&&(dhx.ui[e[f].prototype.name]=e[f]);dhx.ui[a]=dhx.proto.apply(dhx,e);if(b.ra)for(f=0;f<b.ra.length;f++)dhx.Type(dhx.ui[a],b.ra[f]);b=null}return this!=dhx?new dhx.ui[a](c):dhx.ui[a]};b.qa=Array.prototype.slice.call(arguments,0);return dhx.ui[a]=b};
dhx.proto=function(){for(var a=arguments,b=a[0],c=!!b.$init,d=[],e=a.length-1;0<e;e--){"function"==typeof a[e]&&(a[e]=a[e].prototype);a[e].$init&&d.push(a[e].$init);if(a[e].defaults){var f=a[e].defaults;b.defaults||(b.defaults={});for(var g in f)dhx.isUndefined(b.defaults[g])&&(b.defaults[g]=f[g])}if(a[e].type&&b.type)for(g in a[e].type)b.type[g]||(b.type[g]=a[e].type[g]);for(var k in a[e])b[k]||(b[k]=a[e][k])}c&&d.push(b.$init);b.$init=function(){for(var a=0;a<d.length;a++)d[a].apply(this,arguments)};
c=function(a){this.$ready=[];this.$init(a);this.J&&this.J(a,this.defaults);for(a=0;a<this.$ready.length;a++)this.$ready[a].call(this)};c.prototype=b;b=a=null;return c};dhx.bind=function(a,b){return function(){return a.apply(b,arguments)}};
dhx.require=function(a,b,c,d,e){if("string"!=typeof a){var f=a.length||0,g=b;if(f)b=function(){if(f)f--,dhx.require(a[a.length-f-1],b,c);else return g.apply(this,arguments)},b();else{for(var k in a)f++;b=function(){f--;0===f&&g.apply(this,arguments)};for(k in a)dhx.require(k,b,c)}}else!0!==dhx.A[a]&&(".css"==a.substr(-4)?(d=dhx.html.create("LINK",{type:"text/css",rel:"stylesheet",href:dhx.codebase+a}),document.head.appendChild(d),b&&b.call(c||window)):b?dhx.A[a]?dhx.A[a].push([b,c]):(dhx.A[a]=[[b,
c]],dhx.ajax(dhx.codebase+a,function(b){dhx.exec(b);b=dhx.A[a];dhx.A[a]=!0;for(var c=0;c<b.length;c++)b[c][0].call(b[c][1]||window,!c)})):(dhx.exec(dhx.ajax().sync().get(dhx.codebase+a).responseText),dhx.A[a]=!0))};dhx.A={};dhx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};dhx.wrap=function(a,b){return a?function(){var c=a.apply(this,arguments);b.apply(this,arguments);return c}:b};dhx.isUndefined=function(a){return"undefined"==typeof a};
dhx.delay=function(a,b,c,d){return window.setTimeout(function(){var d=a.apply(b,c||[]);a=b=c=null;return d},d||1)};dhx.uid=function(){this.W||(this.W=(new Date).valueOf());this.W++;return this.W};dhx.toNode=function(a){return"string"==typeof a?document.getElementById(a):a};dhx.toArray=function(a){return dhx.extend(a||[],dhx.PowerArray,!0)};dhx.toFunctor=function(a){return"string"==typeof a?eval(a):a};dhx.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};
dhx.isDate=function(a){return a instanceof Date};dhx.q={};dhx.event=function(a,b,c,d){a=dhx.toNode(a);var e=dhx.uid();d&&(c=dhx.bind(c,d));dhx.q[e]=[a,b,c];a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c);return e};dhx.eventRemove=function(a){if(a){var b=dhx.q[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.q[a]}};dhx.debug_code=function(a){a.call(dhx)};
dhx.EventSystem={$init:function(){this.L||(this.L={},this.ta={},this.gb={})},blockEvent:function(){this.L.ka=!0},unblockEvent:function(){this.L.ka=!1},mapEvent:function(a){dhx.extend(this.gb,a,!0)},on_setter:function(a){if(a)for(var b in a)"function"==typeof a[b]&&this.attachEvent(b,a[b])},callEvent:function(a,b){if(this.L.ka)return!0;a=a.toLowerCase();var c=this.L[a.toLowerCase()],d=!0;if(c)for(var e=0;e<c.length;e++)!1===c[e].apply(this,b||[])&&(d=!1);this.gb[a]&&!this.gb[a].callEvent(a,b)&&(d=
!1);return d},attachEvent:function(a,b,c){a=a.toLowerCase();c=c||dhx.uid();b=dhx.toFunctor(b);var d=this.L[a]||dhx.toArray();d.push(b);this.L[a]=d;this.ta[c]={f:b,t:a};return c},detachEvent:function(a){this.ta[a]&&(this.L[this.ta[a].t].remove(this.ta[a].f),delete this.ta[a])},hasEvent:function(a){a=a.toLowerCase();return this.L[a]?!0:!1}};dhx.extend(dhx,dhx.EventSystem);
dhx.PowerArray={removeAt:function(a,b){0<=a&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(b||0===b){var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}else this.push(a)},find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this},filter:function(a,
b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])||(this.splice(c,1),c--);return this}};dhx.env={};
(function(){-1!=navigator.userAgent.indexOf("Mobile")&&(dhx.env.mobile=!0);if(dhx.env.mobile||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android"))dhx.env.touch=!0;-1!=navigator.userAgent.indexOf("Opera")?dhx.env.isOpera=!0:(dhx.env.isIE=!!document.all,dhx.env.isFF=!document.all,dhx.env.isWebKit=-1!=navigator.userAgent.indexOf("KHTML"),dhx.env.isSafari=dhx.env.isWebKit&&-1!=navigator.userAgent.indexOf("Mac"));-1!=navigator.userAgent.toLowerCase().indexOf("android")&&
(dhx.env.isAndroid=!0);dhx.env.transform=!1;dhx.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","OTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","OTransition","msTransition"]},b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(var d=a[a.names[c]],e=0;e<d.length;e++)if("undefined"!=typeof b.style[d[e]]){dhx.env[a.names[c]]=d[e];break}b.style[dhx.env.transform]="translate3d(0,0,0)";
dhx.env.translate=b.style[dhx.env.transform]?"translate3d":"translate";a="";b=!1;dhx.env.isOpera&&(a="-o-",b="O");dhx.env.isFF&&(a="-Moz-");dhx.env.isWebKit&&(a="-webkit-");dhx.env.isIE&&(a="-ms-");dhx.env.transformCSSPrefix=a;dhx.env.transformPrefix=b||dhx.env.transformCSSPrefix.replace(/-/gi,"");dhx.env.transitionEnd="-Moz-"==dhx.env.transformCSSPrefix?"transitionend":dhx.env.transformPrefix+"TransitionEnd"})();
dhx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();
dhx.html={ua:0,denySelect:function(){dhx.ua||(dhx.ua=document.onselectstart);document.onselectstart=dhx.html.stopEvent},allowSelect:function(){0!==dhx.ua&&(document.onselectstart=dhx.ua||null);dhx.ua=0},index:function(a){for(var b=0;a=a.previousSibling;)b++;return b},zc:{},createCss:function(a){var b="",c;for(c in a)b+=c+":"+a[c]+";";(a=this.zc[b])||(a="s"+dhx.uid(),this.addStyle("."+a+"{"+b+"}"),this.zc[b]=a);return a},addStyle:function(a){var b=document.createElement("style");b.setAttribute("type",
"text/css");b.setAttribute("media","screen");b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.getElementsByTagName("head")[0].appendChild(b)},create:function(a,b,c){b=b||{};a=document.createElement(a);for(var d in b)a.setAttribute(d,b[d]);b.style&&(a.style.cssText=b.style);b["class"]&&(a.className=b["class"]);c&&(a.innerHTML=c);return a},getValue:function(a){return(a=dhx.toNode(a))?dhx.isUndefined(a.value)?a.innerHTML:a.value:""},remove:function(a){if(a instanceof
Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b&&b.parentNode?b.parentNode.insertBefore(a,b):c.appendChild(a))},locate:function(a,b){if(a.tagName)var c=a;else a=a||event,c=a.target||a.srcElement;for(;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){a=a.getBoundingClientRect();var b=document.body,c=document.documentElement,d=
a.top+(window.pageYOffset||c.scrollTop||b.scrollTop)-(c.clientTop||b.clientTop||0),b=a.left+(window.pageXOffset||c.scrollLeft||b.scrollLeft)-(c.clientLeft||b.clientLeft||0);return{y:Math.round(d),x:Math.round(b)}}for(b=d=0;a;)d+=parseInt(a.offsetTop,10),b+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:d,x:b}},posRelative:function(a){a=a||event;return dhx.isUndefined(a.offsetX)?{x:a.layerX,y:a.layerY}:{x:a.offsetX,y:a.offsetY}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,
y:a.pageY};var b=dhx.env.isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();return dhx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=!0;return!1},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(" "+b,"g"),"")}};
dhx.ready=function(a){this.Qd?a.call():this.Ka.push(a)};dhx.Ka=[];(function(){var a=document.getElementsByTagName("SCRIPT");a.length&&(a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhx.codebase=a.slice(0,a.length).join("/")+"/");dhx.event(window,"load",function(){dhx.callEvent("onReady",[]);dhx.delay(function(){dhx.Qd=!0;for(var a=0;a<dhx.Ka.length;a++)dhx.Ka[a].call();dhx.Ka=[]})})})();dhx.locale=dhx.locale||{};
dhx.ready(function(){dhx.event(document.body,"click",function(a){dhx.callEvent("onClick",[a||event])})});
(function(){var a={},b=RegExp("(\\r\\n|\\n)","g"),c=RegExp('(\\")',"g");dhx.Template=function(d){if("function"==typeof d)return d;if(a[d])return a[d];d=(d||"").toString();if(-1!=d.indexOf("->"))switch(d=d.split("->"),d[0]){case "html":d=dhx.html.getValue(d[1]);break;case "http":d=(new dhx.ajax).sync().get(d[1],{uid:dhx.uid()}).responseText}d=(d||"").toString();d=d.replace(b,"\\n");d=d.replace(c,'\\"');d=d.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');d=d.replace(/\{common\.([^}\(]*)\}/g,
"\"+(common.$1||'')+\"");d=d.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1.apply(this, arguments):"")+"');d=d.replace(/\{obj\.([^}]*)\}/g,'"+(obj.$1)+"');d=d.replace("{obj}",'"+obj+"');d=d.replace(/#([^#'";, ]+)#/gi,'"+(obj.$1)+"');try{a[d]=Function("obj","common",'return "'+d+'";')}catch(e){}return a[d]};dhx.Template.empty=function(){return""};dhx.Template.bind=function(a){return dhx.bind(dhx.Template(a),this)};dhx.Type=function(a,b){if(a.qa)a.ra||(a.ra=[]),a.ra.push(b);else{"function"==
typeof a&&(a=a.prototype);a.types||(a.types={"default":a.type},a.type.name="default");var c=b.name,g=a.type;c&&(g=a.types[c]=dhx.clone(b.baseType?a.types[b.baseType]:a.type));for(var k in b)g[k]=0===k.indexOf("template")?dhx.Template(b[k]):b[k];return c}}})();
dhx.Settings={$init:function(){this.e=this.config={}},define:function(a,b){return"object"==typeof a?this.ea(a):this.na(a,b)},na:function(a,b){var c=this[a+"_setter"];return this.e[a]=c?c.call(this,b,a):b},ea:function(a){if(a)for(var b in a)this.na(b,a[b])},J:function(a,b){var c={};b&&(c=dhx.extend(c,b));"object"==typeof a&&!a.tagName&&dhx.extend(c,a,!0);this.ea(c)},N:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.N(a[c]||{},b[c]);break;case "undefined":a[c]=b[c]}return a},
debug_freid_c_id:!0,debug_freid_a_name:!0};dhx.ajax=function(a,b,c){if(0!==arguments.length){var d=new dhx.ajax;c&&(d.master=c);return d.get(a,null,b)}return this.getXHR?this:new dhx.ajax};dhx.ajax.count=0;
dhx.ajax.prototype={master:null,getXHR:function(){return dhx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();dhx.isArray(c)||(c=[c]);if("object"==typeof b){var e=[],f;for(f in b){var g=b[f];if(null===g||g===dhx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}b&&"GET"===this.request&&(a=a+(-1!=a.indexOf("?")?"&":"?")+b,b=null);d.open(this.request,a,!this.Bb);"POST"===this.request&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var k=this;d.onreadystatechange=function(){if(!d.readyState||4==d.readyState){dhx.ajax.count++;if(c&&k)for(var a=0;a<c.length;a++)if(c[a]){var b=c[a].success||c[a];if(400<=d.status||!d.status&&!d.responseText)b=c[a].error;b&&b.call(k.master||k,d.responseText,d.responseXML,d)}k&&(k.master=null);c=k=null}};d.send(b||null);return d},get:function(a,b,c){2==arguments.length&&(c=b,b=null);this.request="GET";return this.send(a,b,c)},post:function(a,b,c){this.request="POST";return this.send(a,b,c)},put:function(a,
b,c){this.request="PUT";return this.send(a,b,c)},del:function(a,b,c){this.request="DELETE";return this.send(a,b,c)},sync:function(){this.Bb=!0;return this},bind:function(a){this.master=a;return this}};dhx.send=function(a,b,c,d){a=dhx.html.create("FORM",{target:d||"_self",action:a,method:c||"POST"},"");for(var e in b)c=dhx.html.create("INPUT",{type:"hidden",name:e,value:b[e]},""),a.appendChild(c);a.style.display="none";document.body.appendChild(a);a.submit();document.body.removeChild(a)};
dhx.AtomDataLoader={$init:function(a){this.data={};a&&(this.e.datatype=a.datatype||"json",this.$ready.push(this.ob))},ob:function(){this.wa=!0;this.e.url&&this.url_setter(this.e.url);this.e.data&&this.data_setter(this.e.data)},url_setter:function(a){if(!this.wa)return a;this.load(a,this.e.datatype);return a},data_setter:function(a){if(!this.wa)return a;this.parse(a,this.e.datatype);return!0},debug_freid_c_datatype:!0,debug_freid_c_dataFeed:!0,load:function(a,b,c){if(a.$proxy)a.load(this,"string"==
typeof b?b:"json");else return this.callEvent("onXLS",[]),"string"==typeof b?(this.data.driver=dhx.DataDriver[b],b=c):this.data.driver||(this.data.driver=dhx.DataDriver.json),c=[{success:this.V}],b&&(dhx.isArray(b)?c.push.apply(c,b):c.push(b)),dhx.ajax(a,c,this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhx.DataDriver[b||"json"];this.V(a,null)},V:function(a,b,c){var d=this.data.driver,e=d.toObject(a,b);e?(b=d.getRecords(e)[0],this.data=d?d.getDetails(b):a):this.qb(a,b,c);this.callEvent("onXLE",
[])},qb:function(a,b,c){this.callEvent("onXLE",[]);this.callEvent("onLoadError",arguments);dhx.callEvent("onLoadError",[a,b,c,this])},la:function(a){if(!this.e.dataFeed||this.ca||!a)return!0;var b=this.e.dataFeed;if("function"==typeof b)return b.call(this,a.id||a,a);b=b+(-1==b.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",[]);dhx.ajax(b,function(a,b,e){this.ca=!0;var f=dhx.DataDriver.toObject(a,b);f?this.setValues(f.getDetails(f.getRecords()[0])):this.qb(a,
b,e);this.ca=!1;this.callEvent("onXLE",[])},this);return!1}};dhx.DataDriver={};
dhx.DataDriver.json={toObject:function(a){a||(a="[]");if("string"==typeof a){try{eval("dhx.temp="+a)}catch(b){return null}a=dhx.temp}if(a.data){var c=a.data.config={},d;for(d in a)"data"!=d&&(c[d]=a[d]);a=a.data}return a},getRecords:function(a){return a&&!dhx.isArray(a)?[a]:a},getDetails:function(a){return"string"==typeof a?{id:dhx.uid(),value:a}:a},getInfo:function(a){return(a=a.config)?{v:a.total_count||0,r:a.pos||0,Nd:a.parent||0,Ya:a.config,M:a.dhx_security}:{}},child:"data"};
dhx.DataDriver.html={toObject:function(a){if("string"==typeof a){var b=null;-1==a.indexOf("<")&&(b=dhx.toNode(a));b||(b=document.createElement("DIV"),b.innerHTML=a);return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];1==d.nodeType&&b.push(d)}return b},getDetails:function(a){return dhx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{v:0,r:0}},tag:"LI"};
dhx.DataDriver.jsarray={toObject:function(a){return"string"==typeof a?(eval("dhx.temp="+a),dhx.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{v:0,r:0}}};
dhx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){a=this.stringToArray(a);for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{v:0,r:0}},stringToArray:function(a){a=a.split(this.cell);for(var b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhx.DataDriver.xml={ic:function(a){return a&&a.documentElement?a.getElementsByTagName("parsererror").length?null:a:null},toObject:function(a){if(this.ic(b))return b;var b="string"==typeof a?this.fromString(a.replace(/^[\s]+/,"")):a;return this.ic(b)?b:null},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",child:"item",config:"/*/config",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){var b=this.xpath(a,this.config),b=b.length?this.assignTypes(this.tagToObject(b[0],
{})):null;return{v:a.documentElement.getAttribute("total_count")||0,r:a.documentElement.getAttribute("pos")||0,Nd:a.documentElement.getAttribute("parent")||0,Ya:b,M:a.documentElement.getAttribute("dhx_security")||null}},xpath:function(a,b){if(window.XPathResult){var c=a;-1==a.nodeName.indexOf("document")&&(a=a.ownerDocument);for(var d=[],c=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null),e=c.iterateNext();e;)d.push(e),e=c.iterateNext();return d}d=!0;try{"undefined"==typeof a.selectNodes&&(d=!1)}catch(f){}if(d)return a.selectNodes(b);
d=b.split("/").pop();return a.getElementsByTagName(d)},assignTypes:function(a){for(var b in a){var c=a[b];"object"==typeof c?this.assignTypes(c):"string"==typeof c&&""!==c&&("true"==c?a[b]=!0:"false"==c?a[b]=!1:c==1*c&&(a[b]*=1))}return a},tagToObject:function(a,b){b=b||{};var c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}d=a.childNodes;for(e=0;e<d.length;e++)1==d[e].nodeType&&(c=d[e].tagName,"undefined"!=typeof b[c]?(dhx.isArray(b[c])||(b[c]=[b[c]]),
b[c].push(this.tagToObject(d[e],{}))):b[d[e].tagName]=this.tagToObject(d[e],{}),c=!0);if(!c)return this.nodeValue(a);b.value=b.value||this.nodeValue(a);return b},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){try{if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}}catch(c){return null}}};
dhx.debug_code(function(){dhx.debug_load_event=dhx.attachEvent("onLoadError",function(a){0!==a.indexOf("<?php")&&a.indexOf("DHX_ERROR:");dhx.message&&dhx.message({type:"debug",text:null,expire:-1})});dhx.ready(function(){0===document.location.href.indexOf("file:")&&(dhx.message?dhx.message({type:"error",text:"Please open sample by http,<br>not as file://",expire:-1}):window.alert("Please open sample by http, not as file://"))})});
dhx.DataLoader=dhx.proto({$init:function(a){this.ia=dhx.toArray();this.data=new dhx.DataStore;this.data.attachEvent("onClearAll",dhx.bind(this.Kc,this));this.data.attachEvent("onServerConfig",dhx.bind(this.Jc,this));this.data.feed=this.gd},gd:function(a,b,c){if(this.H)return this.H=[a,b,c];this.H=!0;this.$b=[a,b];this.jd.call(this,a,b,c)},jd:function(a,b,c){var d=this.data.url;0>a&&(a=0);this.load(d+(-1==d.indexOf("?")?"?":"&")+(this.dataCount()?"continue=true&":"")+"start="+a+"&count="+b,[this.hd,
c])},hd:function(){var a=this.H,b=this.$b;this.H=!1;"object"!=typeof a||a[0]==b[0]&&a[1]==b[1]||this.data.feed.apply(this,a)},load:function(a,b){var c=dhx.AtomDataLoader.load.apply(this,arguments);this.ia.push(c);this.data.url||(this.data.url=a)},loadNext:function(a,b,c,d,e){this.e.datathrottle&&!e?(this.Ac&&window.clearTimeout(this.Ac),this.Ac=dhx.delay(function(){this.loadNext(a,b,c,d,!0)},this,0,this.e.datathrottle)):(!b&&0!==b&&(b=this.dataCount()),this.data.url=this.data.url||d,this.callEvent("onDataRequest",
[b,a,c,d])&&this.data.url&&this.data.feed.call(this,b,a,c))},le:function(a,b){var c=this.$b;return this.H&&c&&c[0]<=b&&c[1]+c[0]>=a+b?!0:!1},V:function(a,b,c){this.ia.remove(c);var d=this.data.driver.toObject(a,b);if(d)this.data.rb(d);else return this.qb(a,b,c);this.Xa();this.callEvent("onXLE",[])},removeMissed_setter:function(a){return this.data.Td=a},scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhx.bind(function(a,c){if(this.e.dataFeed){var d=
{};if(a||c){if("function"==typeof a){if(!c)return;a(c,d)}else d={text:c};this.clearAll();var e=this.e.dataFeed,f=[];if("function"==typeof e)return e.call(this,c,d);for(var g in d)f.push("dhx_filter["+g+"]="+encodeURIComponent(d[g]));this.load(e+(0>e.indexOf("?")?"?":"&")+f.join("&"),this.e.datatype);return!1}}},this));return a},debug_freid_c_ready:!0,debug_freid_c_datathrottle:!0,Xa:function(){if(this.e.ready&&!this.Rd){var a=dhx.toFunctor(this.e.ready);a&&dhx.delay(a,this,arguments);this.Rd=!0}},
Kc:function(){for(var a=0;a<this.ia.length;a++)this.ia[a].abort();this.ia=dhx.toArray()},Jc:function(a){this.ea(a)}},dhx.AtomDataLoader);dhx.DataStore=function(){this.name="DataStore";dhx.extend(this,dhx.EventSystem);this.setDriver("json");this.pull={};this.order=dhx.toArray();this.I={}};
dhx.DataStore.prototype={setDriver:function(a){this.driver=dhx.DataDriver[a]},rb:function(a){this.callEvent("onParse",[this.driver,a]);this.h&&this.filter();var b=this.driver.getInfo(a);b.M&&(dhx.securityKey=b.M);b.Ya&&this.callEvent("onServerConfig",[b.Ya]);var c=this.driver.getRecords(a);this.Ad(b,c);this.qc&&this.xd&&this.xd(this.qc);this.sc&&(this.blockEvent(),this.sort(this.sc),this.unblockEvent());this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},Ad:function(a,b){var c=1*(a.r||0),
d=!0,e=!1;if(0===c&&this.order[0]){if(this.Td)for(var e={},f=0;f<this.order.length;f++)e[this.order[f]]=!0;d=!1;c=this.order.length}for(var g=0,f=0;f<b.length;f++){var k=this.driver.getDetails(b[f]),h=this.id(k);this.pull[h]?d&&this.order[g+c]&&g++:(this.order[g+c]=h,g++);this.pull[h]?(dhx.extend(this.pull[h],k,!0),this.Ma&&this.Ma(this.pull[h]),e&&delete e[h]):(this.pull[h]=k,this.La&&this.La(k))}if(e){this.blockEvent();for(var l in e)this.remove(l);this.unblockEvent()}this.order[a.v-1]||(this.order[a.v-
1]=dhx.undefined)},id:function(a){return a.id||(a.id=dhx.uid())},changeId:function(a,b){this.pull[a]&&(this.pull[b]=this.pull[a]);this.pull[b].id=b;this.order[this.order.find(a)]=b;this.h&&(this.h[this.h.find(a)]=b);this.I[a]&&(this.I[b]=this.I[a],delete this.I[a]);this.callEvent("onIdChange",[a,b]);this.wb&&this.wb(a,b);delete this.pull[a]},item:function(a){return this.pull[a]},update:function(a,b){dhx.isUndefined(b)&&(b=this.item(a));this.Ma&&this.Ma(b);if(!1===this.callEvent("onBeforeUpdate",[a,
b]))return!1;this.pull[a]=b;this.callEvent("onStoreUpdated",[a,b,"update"])},refresh:function(a){this.ya||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"paint"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a,b){this.ya=!0;a.call(b||this);this.ya=!1},getRange:function(a,b){a=a?this.indexById(a):this.$min||this.startOffset||0;b?b=this.indexById(b):(b=Math.min(this.$max||this.endOffset||Infinity,this.dataCount()-1),0>b&&(b=0));if(a>b){var c=b;b=a;a=c}return this.getIndexRange(a,
b)},getIndexRange:function(a,b){b=Math.min(b||Infinity,this.dataCount()-1);for(var c=dhx.toArray(),d=a||0;d<=b;d++)c.push(this.item(this.order[d]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,b));this.callEvent("onStoreUpdated",[c,d,"move"])},scheme:function(a){this.o={};this.La=a.$init;this.Ma=a.$update;this.rc=a.$serialize;
this.qc=a.$group;this.sc=a.$sort;for(var b in a)"$"!=b.substr(0,1)&&(this.o[b]=a[b])},sync:function(a,b,c){"string"==typeof a&&(a=$$("source"));"function"!=typeof b&&(c=b,b=null);dhx.debug_bind&&(this.debug_sync_master=a);this.Ta=!1;"DataStore"!=a.name&&(a.data&&"DataStore"==a.data.name?a=a.data:this.Ta=!0);var d=dhx.bind(function(d,f,g){if(this.Ta){if(!d)return;if(0===d.indexOf("change")){"change"==d&&(this.pull[f.id]=f.attributes,this.refresh(f.id));return}"reset"==d&&(g=f);this.order=[];this.pull=
{};this.h=null;for(d=0;d<g.models.length;d++)f=g.models[d].id,this.order.push(f),this.pull[f]=g.models[d].attributes}else this.h=null,this.order=dhx.toArray([].concat(a.order)),this.pull=a.pull;b&&this.silent(b);this.Ia&&this.Ia();this.callEvent("onSyncApply",[]);c?c=!1:this.refresh()},this);this.Ta?a.bind("all",d):this.za=[a.attachEvent("onStoreUpdated",d),a.attachEvent("onIdChange",dhx.bind(function(a,b){this.changeId(a,b)},this))];d()},add:function(a,b,c){if(this.o)for(var d in this.o)dhx.isUndefined(a[d])&&
(a[d]=this.o[d]);this.La&&this.La(a);d=this.id(a);c=c||this.order;var e=c.length;if(dhx.isUndefined(b)||0>b)b=e;b>e&&(b=Math.min(c.length,b));if(!1===this.callEvent("onBeforeAdd",[d,a,b]))return!1;this.pull[d]=a;c.insertAt(d,b);this.h&&(c=this.h.length,!b&&this.order.length&&(c=0),this.h.insertAt(d,c));this.callEvent("onAfterAdd",[d,b]);this.callEvent("onStoreUpdated",[d,a,"add"]);return d},remove:function(a){if(dhx.isArray(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(!1===this.callEvent("onBeforeDelete",
[a]))return!1;b=this.item(a);this.order.remove(a);this.h&&this.h.remove(a);delete this.pull[a];this.I[a]&&delete this.I[a];this.callEvent("onAfterDelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=dhx.toArray();this.h=this.url=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){return this.order.find(a)},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},
last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;"function"==typeof a?d={as:a,dir:b}:"string"==typeof a&&(d={by:a.replace(/#/g,""),dir:b,as:c});a=[d.by,d.dir,d.as];this.callEvent("onBeforeSort",a)&&(this.ae(d),this.refresh(),this.callEvent("onAfterSort",a))},ae:function(a){if(this.order.length){a=this.$d.Mc(a);var b=this.getRange(this.first(),this.last());b.sort(a);this.order=b.map(function(a){return this.id(a)},
this)}},nd:function(a){this.h&&!a&&(this.order=this.h,delete this.h)},md:function(a,b,c){for(var d=dhx.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];a(this.item(f),b)&&d.push(f)}c&&this.h||(this.h=this.order);this.order=d},filter:function(a,b,c){if(this.callEvent("onBeforeFilter",[a,b])&&(this.nd(c),this.order.length)){if(a){var d=a;b=b||"";"string"==typeof a&&(a=a.replace(/#/g,""),"function"==typeof b?d=function(c){return b(c[a])}:(b=b.toString().toLowerCase(),d=function(b,c){return-1!=
(b[a]||"").toString().toLowerCase().indexOf(c)}));this.md(d,b,c,this.je)}this.refresh();this.callEvent("onAfterFilter",[])}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},Fd:function(a,b){return function(){return a[b].apply(a,arguments)}},addMark:function(a,b,c,d){var e=this.I[a]||{};this.I[a]=e;!e[b]&&(e[b]=d||!0,c)&&(this.item(a).$css=(this.item(a).$css||"")+" "+b,this.refresh(a));return e[b]},removeMark:function(a,b,c){var d=this.I[a];d&&d[b]&&
delete d[b];c&&(c=this.item(a).$css)&&(this.item(a).$css=c.replace(b,""),this.refresh(a))},hasMark:function(a,b){var c=this.I[a];return c&&c[b]},provideApi:function(a,b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c="sort add remove exists idByIndex indexById item update refresh dataCount filter next previous clearAll first last serialize sync addMark removeMark hasMark".split(" "),d=
0;d<c.length;d++)a[c[d]]=this.Fd(this,c[d])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++){var d=this.pull[a[c]];this.rc&&(d=this.rc(d),!1===d)||b.push(d)}return b},$d:{Mc:function(a){return this.Rc(a.dir,this.Ic(a.by,a.as))},Ec:{date:function(a,b){a-=0;b-=0;return a>b?1:a<b?-1:0},"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){if(!b)return 1;if(!a)return-1;a=a.toString().toLowerCase();
b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},Ic:function(a,b){if(!a)return b;"function"!=typeof b&&(b=this.Ec[b||"string"]);return function(c,d){return b(c[a],d[a])}},Rc:function(a,b){return"asc"!=a&&a?function(a,d){return-1*b(a,d)}:b}}};
dhx.BaseBind={debug_freid_ignore:{id:!0},bind:function(a,b,c){"string"==typeof a&&(a=dhx.ui.get(a));a.i&&a.i();this.i&&this.i();a.getBindData||dhx.extend(a,dhx.BindSource);if(!this.Fc){var d=this.render;if(this.filter){var e=this.e.id;this.data.Ia=function(){a.Z[e]=!1}}this.render=function(){if(!this.fc){this.fc=!0;var a=this.callEvent("onBindRequest");this.fc=!1;return d.apply(this,!1===a?arguments:[])}};if(this.getValue||this.getValues)this.save=function(){this.validate&&!this.validate()||a.setBindData(this.getValue?
this.getValue:this.getValues(),this.e.id)};this.Fc=!0}a.addBind(this.e.id,b,c);var f=this.e.id;this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){return a.getBindData(f)});!this.e.dataFeed&&this.loadNext&&this.data.attachEvent("onStoreLoad",function(){a.Z[f]=!1});this.isVisible(this.e.id)&&this.refresh()},O:function(a){a.removeBind(this.e.id);var b=this.za||(this.data?this.data.za:0);if(b&&a.data)for(var c=0;c<b.length;c++)a.data.detachEvent(b[c])}};
dhx.BindSource={$init:function(){this.ja={};this.Z={};this.Fa={};this.Gc(this)},saveBatch:function(a){this.Pb=!0;a.call(this);this.Pb=!1;this.Y()},setBindData:function(a,b){b&&(this.Fa[b]=!0);if(this.setValue)this.setValue(a);else if(this.setValues)this.setValues(a);else{var c=this.getCursor();c&&(a=dhx.extend(this.item(c),a,!0),this.update(c,a))}this.callEvent("onBindUpdate",[a,b]);this.save&&this.save();b&&(this.Fa[b]=!1)},getBindData:function(a,b){if(this.Z[a])return!1;var c=dhx.ui.get(a);c.isVisible(c.e.id)&&
(this.Z[a]=!0,this.Ua(c,this.ja[a][0],this.ja[a][1]),b&&c.filter&&c.refresh())},addBind:function(a,b,c){this.ja[a]=[b,c]},removeBind:function(a){delete this.ja[a];delete this.Z[a];delete this.Fa[a]},Gc:function(a){a.filter?dhx.extend(this,dhx.CollectionBind):a.setValue?dhx.extend(this,dhx.ValueBind):dhx.extend(this,dhx.RecordBind)},Y:function(){if(!this.Pb)for(var a in this.ja)this.Fa[a]||(this.Z[a]=!1,this.getBindData(a,!0))},Gb:function(a,b,c){a.setValue?a.setValue(c?c[b]:c):a.filter?a.data.silent(function(){this.filter(b,
c)}):!c&&a.clear?a.clear():a.la(c)&&a.setValues(dhx.clone(c));a.callEvent("onBindApply",[c,b,this])}};dhx.DataValue=dhx.proto({name:"DataValue",isVisible:function(){return!0},$init:function(a){a=(this.data=a)&&a.id?a.id:dhx.uid();this.e={id:a};dhx.ui.views[a]=this},setValue:function(a){this.data=a;this.callEvent("onChange",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataRecord=dhx.proto({name:"DataRecord",isVisible:function(){return!0},$init:function(a){this.data=a||{};a=a&&a.id?a.id:dhx.uid();this.e={id:a};dhx.ui.views[a]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent("onChange",[a])},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind,dhx.AtomDataLoader,dhx.Settings);
dhx.DataCollection=dhx.proto({name:"DataCollection",isVisible:function(){return this.data.order.length||this.data.h||this.e.dataFeed?!0:!1},$init:function(a){this.data.provideApi(this,!0);a=a&&a.id?a.id:dhx.uid();this.e.id=a;dhx.ui.views[a]=this;this.data.attachEvent("onStoreLoad",dhx.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},dhx.DataLoader,dhx.EventSystem,dhx.BaseBind,dhx.Settings);
dhx.ValueBind={$init:function(){this.attachEvent("onChange",this.Y)},Ua:function(a,b,c){var d=this.getValue()||"";c&&(d=c(d));a.setValue?a.setValue(d):a.filter?a.data.silent(function(){this.filter(b,d)}):(c={},c[b]=d,a.la(d)&&a.setValues(c));a.callEvent("onBindApply",[d,b,this])}};dhx.RecordBind={$init:function(){this.attachEvent("onChange",this.Y)},Ua:function(a,b){var c=this.getValues()||null;this.Gb(a,b,c)}};
dhx.CollectionBind={$init:function(){this.Q=null;this.attachEvent("onSelectChange",function(){var a=this.getSelected();this.setCursor(a?a.id||a:null)});this.attachEvent("onAfterCursorChange",this.Y);this.data.attachEvent("onStoreUpdated",dhx.bind(function(a,b,c){a&&a==this.getCursor()&&"paint"!=c&&this.Y()},this));this.data.attachEvent("onClearAll",dhx.bind(function(){this.Q=null},this));this.data.attachEvent("onIdChange",dhx.bind(function(a,b){this.Q==a&&(this.Q=b)},this))},setCursor:function(a){a==
this.Q||null!==a&&!this.item(a)||(this.callEvent("onBeforeCursorChange",[this.Q]),this.Q=a,this.callEvent("onAfterCursorChange",[a]))},getCursor:function(){return this.Q},Ua:function(a,b){var c=this.item(this.getCursor())||this.e.defaultData||null;this.Gb(a,b,c)}};dhx.ui||(dhx.ui={});dhx.ui.views||(dhx.ui.views={},dhx.ui.get=function(a){return a.e?a:dhx.ui.views[a]});
dhtmlXDataStore=function(a){a=new dhx.DataCollection(a);a._dp_init=function(a){a._methods=["dummy","dummy","changeId","dummy"];this.data.Gd={add:"inserted",update:"updated","delete":"deleted"};this.data.attachEvent("onStoreUpdated",function(c,d,e){c&&!a.uc&&a.setUpdated(c,!0,this.Gd[e])});a._getRowData=function(a){var b=this.obj.data.item(a),e={id:a};e[this.action_param]=this.obj.getUserData(a);if(b)for(var f in b)e[f]=b[f];return e};this.changeId=function(c,d){this.data.changeId(c,d);a.uc=!0;this.data.callEvent("onStoreUpdated",
[d,this.item(d),"update"]);a.uc=!1};a._clearUpdateFlag=function(){};this.ha={}};a.dummy=function(){};a.setUserData=function(a,c,d){this.ha[a]=d};a.getUserData=function(a){return this.ha[a]};a.dataFeed=function(a){this.define("dataFeed",a)};dhx.extend(a,dhx.BindSource);return a};
window.dhtmlXDataView&&(dhtmlXDataView.prototype.i=function(){this.isVisible=function(){return this.data.order.length||this.data.h||this.e.dataFeed?!0:!1};this.e=this.e||this._settings;this.e.id||(this.e.id=dhx.uid());this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this.e.id]=this});
window.dhtmlXChart&&(dhtmlXChart.prototype.i=function(){this.isVisible=function(){return this.data.order.length||this.data.ke||this.e.dataFeed?!0:!1};this.e=this.e||this._settings;this.e.id||(this.e.id=dhx.uid());this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this.e.id]=this});dhx.BaseBind.unsync=function(a){return dhx.BaseBind.O.call(this,a)};dhx.BaseBind.unbind=function(a){return dhx.BaseBind.O.call(this,a)};
dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)};
dhx.BaseBind.legacySync=function(a,b){this.i&&this.i();a.i&&a.i();this.attachEvent("onAfterEditStop",function(a){this.save(a);return!0});this.attachEvent("onDataRequest",function(b,d){for(var e=b;e<b+d;e++)if(!a.data.order[e])return a.loadNext(d,b),!1});this.save=function(b){b||(b=this.getCursor());var d=this.item(b),e=a.item(b),f;for(f in d)0!==f.indexOf("$")&&(e[f]=d[f]);a.refresh(b)};return a&&"DataCollection"==a.name?a.data.sync.apply(this.data,arguments):this.data.sync.apply(this.data,arguments)};
window.dhtmlXForm&&(dhtmlXForm.prototype.bind=function(a){dhx.BaseBind.bind.apply(this,arguments);a.getBindData(this.e.id)},dhtmlXForm.prototype.unbind=function(a){dhx.BaseBind.O.call(this,a)},dhtmlXForm.prototype.i=function(){dhx.isUndefined(this.e)&&(this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this)},dhtmlXForm.prototype.la=function(a){if(!this.e.dataFeed||this.ca||!a)return!0;var b=this.e.dataFeed;if("function"==typeof b)return b.call(this,a.id||a,a);b=b+(-1==b.indexOf("?")?"?":
"&")+"action=get&id="+encodeURIComponent(a.id||a);this.load(b);return!1},dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData,dhtmlXForm.prototype.getValues=function(){return this.getFormData(!1,!0)},dhtmlXForm.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(){return!0});
window.scheduler&&(window.Scheduler||(window.Scheduler={}),Scheduler.$syncFactory=function(a){a.sync=function(b,c){this.i&&this.i();b.i&&b.i();var d=function(){a.clearAll();for(var d=b.data.order,f=b.data.pull,g=[],k=0;k<d.length;k++)g[k]=c&&c.copy?dhx.clone(f[d[k]]):f[d[k]];a._process_loading(g)};this.save=function(a){a||(a=this.getCursor());var c=this.item(a),d=b.item(a);this.callEvent("onStoreSave",[a,c,d])&&(dhx.extend(b.item(a),c,!0),b.update(a))};this.item=function(a){return this.getEvent(a)};
this.za=[b.data.attachEvent("onStoreUpdated",function(){d.call(this)}),b.data.attachEvent("onIdChange",function(a,b){combo.changeOptionId(a,b)})];this.attachEvent("onEventChanged",function(a){this.save(a)});this.attachEvent("onEventAdded",function(a,c){b.data.pull[a]||b.add(c)});this.attachEvent("onEventDeleted",function(a){b.data.pull[a]&&b.remove(a)});d()};a.unsync=function(a){dhx.BaseBind.O.call(this,a)};a.i=function(){this.e||(this.e={id:dhx.uid()})}},Scheduler.$syncFactory(window.scheduler));
window.dhtmlXCombo&&(dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXCombo.unbind=function(a){dhx.BaseBind.O.call(this,a)},dhtmlXCombo.unsync=function(a){dhx.BaseBind.O.call(this,a)},dhtmlXCombo.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXCombo.prototype.sync=function(a){this.i&&this.i();a.i&&a.i();var b=this,c=function(){b.clearAll();b.addOption(this.serialize())};this.za=[a.data.attachEvent("onStoreUpdated",function(){c.call(this)}),
a.data.attachEvent("onIdChange",function(a,c){b.changeOptionId(a,c)})];c.call(a)},dhtmlXCombo.prototype.i=function(){dhx.isUndefined(this.e)&&(this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onChange",function(){this.callEvent("onSelectChange",[this.getSelectedValue()])}),this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])}))},dhtmlXCombo.prototype.item=function(a){return this.getOption(a)},
dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()},dhtmlXCombo.prototype.isVisible=function(){return this.optionsArr.length||this.e.dataFeed?!0:!1},dhtmlXCombo.prototype.refresh=function(){this.render(!0)},dhtmlXCombo.prototype.filter=function(){alert("not implemented")});
window.dhtmlXGridObject&&(dhtmlXGridObject.prototype.bind=function(a,b,c){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXGridObject.prototype.unbind=function(a){dhx.BaseBind.O.call(this,a)},dhtmlXGridObject.prototype.unsync=function(a){dhx.BaseBind.O.call(this,a)},dhtmlXGridObject.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXGridObject.prototype.sync=function(a,b){this.i&&this.i();a.i&&a.i();var c=this;this.save=function(b){b||(b=this.getCursor());dhx.extend(a.item(b),this.item(b),
!0);a.update(b)};var d=function(){var a=c.getCursor?c.getCursor():null,b=0;c.Ga?(b=c.Ga,c.Ga=!1):c.clearAll();var d=this.dataCount();if(d){c._parsing=!0;for(var k=b;k<d;k++){var h=this.order[k];!h||b&&c.rowsBuffer[k]||(c.rowsBuffer[k]={idd:h,data:this.pull[h]},c.rowsBuffer[k]._parser=c._process_store_row,c.rowsBuffer[k]._locator=c._get_store_data,c.rowsAr[h]=this.pull[h])}c.rowsBuffer[d-1]||(c.rowsBuffer[d-1]=dhtmlx.undefined,c.xmlFileUrl=c.xmlFileUrl||this.url);c.pagingOn?c.changePage():c.ne&&c.ie?
c.pe():(c.render_dataset(),c.callEvent("onXLE",[]));c._parsing=!1}a&&c.setCursor&&c.setCursor(c.rowsAr[a]?a:null)};this.za=[a.data.attachEvent("onStoreUpdated",function(a,b,g){"delete"==g?(c.deleteRow(a),c.data.callEvent("onStoreUpdated",[a,b,g])):"update"==g?(c.callEvent("onSyncUpdate",[b,g]),c.update(a,b),c.data.callEvent("onStoreUpdated",[a,b,g])):"add"==g?(c.callEvent("onSyncUpdate",[b,g]),c.add(a,b,this.indexById(a)),c.data.callEvent("onStoreUpdated",[a,b,g])):d.call(this)}),a.data.attachEvent("onStoreLoad",
function(b,d){c.xmlFileUrl=a.data.url;c.Ga=b.getInfo(d).r}),a.data.attachEvent("onIdChange",function(a,b){c.changeRowId(a,b)})];c.attachEvent("onDynXLS",function(b,f){for(var g=b;g<b+f;g++)if(!a.data.order[g])return a.loadNext(f,b),!1;c.Ga=b;d.call(a.data)});d.call(a.data);c.attachEvent("onEditCell",function(a,b,c,d,h){2==a&&d!=h&&this.save(b);return!0});c.attachEvent("onClearAll",function(){this._f_rowsBuffer=null});b&&b.sort&&c.attachEvent("onBeforeSorting",function(b,d,g){if("connector"==d)return!1;
var k=this.getColumnId(b);a.sort("#"+k+"#","asc"==g?"asc":"desc","int"==d?d:"string");c.setSortImgState(!0,b,g);return!1});b&&b.filter&&(c.attachEvent("onFilterStart",function(b,d){if(c._con_f_used&&c._con_f_used.length)return!1;a.data.silent(function(){a.filter();for(var g=0;g<b.length;g++)if(""!=d[g]){var k=c.getColumnId(b[g]);a.filter("#"+k+"#",d[g],0!=g)}});a.refresh();return!1}),c.collectValues=function(b){b=this.getColumnId(b);return function(a){var b=[],c={};this.data.each(function(d){d=d[a];
c[d]||(c[d]=!0,b.push(d))});b.sort();return b}.call(a,b)});b&&b.select&&c.attachEvent("onRowSelect",function(b){a.setCursor(b)});c.clearAndLoad=function(b){a.clearAll();a.load(b)}},dhtmlXGridObject.prototype.i=function(){if(dhx.isUndefined(this.e)){this.e={id:dhx.uid(),dataFeed:this.X};dhx.ui.views[this.e.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhtmlxEventable(this.data);for(var a=0;a<this._cCount;a++)this.columnIds[a]||(this.columnIds[a]="cell"+a);this.attachEvent("onSelectStateChanged",
function(a){this.callEvent("onSelectChange",[a])});this.attachEvent("onSelectionCleared",function(){this.callEvent("onSelectChange",[null])});this.attachEvent("onEditCell",function(a,c){2===a&&this.getCursor&&c&&c==this.getCursor()&&this.Y();return!0});this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}},dhtmlXGridObject.prototype.item=function(a){if(null===a)return null;var b=this.getRowById(a);if(!b)return null;b=dhx.copy(b._attrs);b.id=a;for(var c=this.getColumnsNum(),d=0;d<
c;d++)b[this.columnIds[d]]=this.cells(a,d).getValue();return b},dhtmlXGridObject.prototype.update=function(a,b){for(var c=0;c<this.columnIds.length;c++){var d=this.columnIds[c];dhx.isUndefined(b[d])||this.cells(a,c).setValue(b[d])}c=this.getRowById(a)._attrs;for(d in b)c[d]=b[d];this.callEvent("onBindUpdate",[a])},dhtmlXGridObject.prototype.add=function(a,b,c){for(var d=[],e=0;e<this.columnIds.length;e++){var f=this.columnIds[e];d[e]=dhx.isUndefined(b[f])?"":b[f]}this.addRow(a,d,c);this.getRowById(a)._attrs=
dhx.copy(b)},dhtmlXGridObject.prototype.getSelected=function(){return this.getSelectedRowId()},dhtmlXGridObject.prototype.isVisible=function(){return this.rowsBuffer.length||this._f_rowsBuffer||this.e.dataFeed?!0:!1},dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()},dhtmlXGridObject.prototype.filter=function(a,b){if(this.e.dataFeed){var c={};if(!a&&!b)return;if("function"==typeof a){if(!b)return;a(b,c)}else dhx.isUndefined(a)?c=b:c[a]=b;this.clearAll();var d=this.e.dataFeed;if("function"==
typeof d)return d.call(this,b,c);var e=[],f;for(f in c)e.push("dhx_filter["+f+"]="+encodeURIComponent(c[f]));this.load(d+(0>d.indexOf("?")?"?":"&")+e.join("&"));return!1}if(null===b)return this.filterBy(0,function(){return!1});this.filterBy(0,function(c,d){return a.call(this,d,b)})});
window.dhtmlXTreeObject&&(dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXTreeObject.prototype.unbind=function(a){dhx.BaseBind.O.call(this,a)},dhtmlXTreeObject.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXTreeObject.prototype.i=function(){dhx.isUndefined(this.e)&&(this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onSelect",
function(a){this.callEvent("onSelectChange",[a])}),this.attachEvent("onEdit",function(a,b){2===a&&b&&b==this.getCursor()&&this.Y();return!0}))},dhtmlXTreeObject.prototype.item=function(a){return null===a?null:{id:a,text:this.getItemText(a)}},dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()},dhtmlXTreeObject.prototype.isVisible=function(){return!0},dhtmlXTreeObject.prototype.refresh=function(){},dhtmlXTreeObject.prototype.filter=function(a,b){if(this.e.dataFeed){var c=
{};if(a||b){if("function"==typeof a){if(!b)return;a(b,c)}else dhx.isUndefined(a)?c=b:c[a]=b;this.deleteChildItems(0);var d=this.e.dataFeed;if("function"==typeof d)return d.call(this,[data.id||data,data]);var e=[],f;for(f in c)e.push("dhx_filter["+f+"]="+encodeURIComponent(c[f]));this.loadXML(d+(0>d.indexOf("?")?"?":"&")+e.join("&"));return!1}}},dhtmlXTreeObject.prototype.update=function(a,b){dhx.isUndefined(b.text)||this.setItemText(a,b.text)});dhtmlx.skin="dhx_skyblue";
