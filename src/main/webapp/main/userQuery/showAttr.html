<html>
<head>
<title>大客户LOGO视图</title>
<style>
table img{display:block;margin:0 auto;text-align:top;margin-top:0;}
p{color:white;
}
a{TEXT-DECORATION:none ;

}
.overStyle{
cursor:hand;
border-style:outset
}
.outStyle{

}
</style>
<meta http-equiv= "Content-Type" content= "text/html;charset=gb2312">
<script language="javascript" src="../../inc/json/json.js"></script>
<script language= "javascript">
var _custMap;
 function GetUrlParameter(param){
                var url = window.location.search;
                var pos1 = 0, pos2 = 0;
                pos1 = url.indexOf("&"+ param +"=");
                if(pos1<0) pos1 = url.indexOf("?"+ param +"=");
                if(pos1>-1){
                    pos2 = url.indexOf("&",pos1+1);
                    if(pos2==-1) pos2 = url.length;
                    return unescape(url.substring(pos1+param.length+2, pos2));
                }else return null;
            }
function getCustMap(custMap){//被树形菜单调用 
            _custMap=custMap;
            init();
      }  
function initCustShow(){//与翻页保持一致logo
	var tableInit = document.getElementById('CustShow');
	rowInitNum=tableInit.rows.length;
	for( var j=rowInitNum-1;j>0;j--){
		tableInit.deleteRow(j);
	}
	//alert("tableInit.rows.length="+tableInit.rows.length);
}       
function init(){
	initCustShow();
	
	//return;
	//var custMap = GetUrlParameter("custMap");
	var custMap =_custMap
	if(custMap==null)return;
	//alert(JSON.stringify(custMap.list[1]));
	//alert("custMap="+custMap);
	for(i=0;i<custMap.list.length;i++){
    var item = custMap.list[i];
   // if(item.custName.trim().length<=0)continue;    
 	var custId = item.custId;
	var custName = item.custName;
	var cirNum = item.cirCount;
	addCust(i,custId,custName,cirNum);
	//i=8;
   }
	
}
function showOver(obj){
	obj.style.borderStyle="inset"; 
	obj.style.cursor="hand";
}
function showOut(obj){
	obj.style.borderStyle="outset"; 
}
function addCust(i,custId,custName,cirNum,custType){
    var tableCust = document.getElementById('CustShow');
      //表格行数
    var rowsNow = tableCust.rows.length ;
   // alert("rowsNow="+rowsNow);
      //表格列数
	var cellsNow = 0;
	if (rowsNow > 0){
		cellsNow = tableCust.rows.item(rowsNow - 1).cells.length ;
	}else{
		cellsNow = 6;
	}
	////alert("cellsNow="+cellsNow);
    if (cellsNow == 6){
		var newTr = tableCust.insertRow(rowsNow);
		newTr.setAttribute('height', '100');
		cellsNow = 0;
		rowsNow = rowsNow + 1;
	}
	var rowNow = tableCust.rows.item(rowsNow - 1);
	//alert("rowNow.innerHTML0="+rowNow.innerHTML);
	var newTd = rowNow.insertCell(cellsNow);
	newTd.setAttribute('align', 'center');
	newTd.setAttribute('valign', 'bottom');
	newTd.setAttribute('style', 'font-size: 6');
	//alert("newTd.innerHTML0="+newTd.innerHTML);
	var titleValue=custName;
	if (custName.length > 5){
	    custName = custName.substring(0,5) + '..';
	}
	
	nodeSeq=i+3;//节点顺序号 从3开始 
	custName = '[' + cirNum + ']' + custName;
	//if(i==2)alert("custID="+custId);
	newTd.innerHTML = newTd.innerHTML +'<font size="2" ><p style="line-height: 180%;color:white" ><img src= "../../images/LOGO/' + custId +'.png" title='+titleValue+' width= 90 style="border-style: outset" onmouseover="showOver(this)" onmouseout="showOut(this)" height=60 onclick="openTree('+nodeSeq+')" "><p style="line-height: 200%" valign= "bottom" align= "center">' + custName + '</p></p></font>';

}
function showResult(obj){
	//alert(obj['consumeLevel']);
	
	var x=document.getElementsByTagName('td');
	for(var i=0;i<x.length;i++){
		if(x[i].id&&(x[i].id in obj))document.getElementById(x[i].id).innerHTML=obj[x[i].id];
	}
}
</script>
</head>
<body bgcolor= "" onload="">                                                                         
<table id = "CustShow" width= 100% align= "center" valign= "top" border= "1" cellspacing= "-50" cellpadding= "-50">
<tr >                                                                                               
<td align= "center" valign= "top" >typeName</td>                                                              
<td align= "center" valign= "top" id='typeName'></td>                                                         
</tr>                                                                                                         
<tr >                                                                                               
<td align= "center" valign= "top">grade</td>                                                                  
<td align= "center" valign= "top" id='grade'></td>                                                            
</tr>          
                                                                                                  
</table>                                                                                                      
</body>   
</html> 