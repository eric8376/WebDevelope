<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="css/tab-view.css" type="text/css" media="screen">
<title>详情信息</title>
<style type="text/css">
body table{
	font-size:12px;
}

<!-- /* PR-CSS */
table {
border-collapse:collapse; /* 关键属性：合并表格内外边框(其实表格边框有2px，外面1px，里面还有1px哦) */
border:solid #999; /* 设置边框属性；样式(solid=实线)、颜色(#999=灰) */
border-width:1px 0 0 1px; /* 设置边框状粗细：上 右 下 左 = 对应：1px 0 0 1px */
}
table caption {font-size:14px;font-weight:bolder;}
table th,table td {border:solid #999;border-width:0 1px 1px 0;padding:2px;}
tfoot td {text-align:center;}
-->
</style>
<style>
	td {
		background-color: #F8F3F7 !important;
	}
</style>
<script type="text/javascript">
function init(){
	var tab=document.getElementById("detailTab");
	tab.width=window.screen.width-70;
}

function showDetail(resObj){
	var resId=null;
	if(!resObj||typeof(resObj)=="undefined")
		resId=getURLParms(resId);
	else resId=resObj.circuitId||resObj.optRoadId;
	document.getElementById("attribFrame").src="/DispatchDesign/applications/interface/showRes.jsp?resid="+resId+"&col=1";
	var routeQueryUrl = "queryRoute.htm";
	var resType = "";	//资源类型(电路,光路)
	if(resObj.circuitId){
		resType="circuit";
		/*
		if(resObj.speciality=="传输")
			resType="trsCircuit";//传输电路
		else resType="dataCircuit";//交换与数据电路
		*/
	}else
		resType = "opt";
	var oprStateId = resObj.oprStateId;	//操作类型
	var queryParam = "?resId=" + resId + "&resType=" + resType + "&oprStateId=" + oprStateId;
	routeQueryUrl += queryParam;
	document.getElementById("routeFrame").src = routeQueryUrl;
	return;
}

function getURLParms(paras){
	var url = location.href; 
	var paraString = url.substring(url.indexOf("?")+1,url.length).split("&"); 
	var paraObj ={} 
	for (i=0; j=paraString[i]; i++){ 
		paraObj[j.substring(0,j.indexOf("=")).toLowerCase()] = j.substring(j.indexOf("=")+1,j.length); 
	} 
	var returnValue = paraObj[paras.toLowerCase()]; 
	if(typeof(returnValue)=="undefined"){ 
		return ""; 
	}else{ 
		return returnValue; 
	} 
}

function setFrameHeight(){
		var attIframe = document.getElementById("attribFrame");
		var bHeight0 = attIframe.contentWindow.document.body.scrollHeight;
		var dHeight0 = attIframe.contentWindow.document.documentElement.scrollHeight;
		var height0 = Math.max(bHeight0, dHeight0);		
		var iframe = document.getElementById("routeFrame");
		var bHeight = iframe.contentWindow.document.body.scrollHeight;
		var dHeight = iframe.contentWindow.document.documentElement.scrollHeight;
		var height = Math.max(bHeight, dHeight);
		height = Math.max(height0, height);
		iframe.height=height;
		attIframe.height=height;
}
</script>

</head>
<body onload="init();"  style="background-color: #F8F3F7;">
<table id="detailTab" width="960px" style="position:absolute; left:2px;">
<tr>
<th width="30%" align="center">资源属性详情</th><th width="70%" align="center">文本路由信息</th>
</tr>
<tr>
<td id="frameTD1"><iframe frameborder="0" width="100%" id="attribFrame"></iframe></td>
<td id="frameTD2"><iframe frameborder="0" width="100%" id="routeFrame"></iframe></td>
</tr>
</table>
</body>
</html>

