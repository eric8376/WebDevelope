<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset="gb2312">
<title>Grid Page</title>
<script language="javascript" src="gridOutline.js"></script>
<script language="javascript" src="prototype.js"></script>
<link rel="stylesheet" type="text/css" href="grid2.css"/>
<script language="JavaScript" src="../menu/Menu.js"></script>
<link rel="stylesheet" type="text/css" href="../menu/menu.css"/>
<script>
if(!document.all){
window.constructor.prototype.__defineGetter__("event",function(){
  var func = arguments.callee.caller;
  while(func != null){
   var arg0 = func.arguments[0];
   if(arg0 && (arg0.constructor==Event || arg0.constructor ==MouseEvent)){
    return arg0;
   }
   func = func.caller;
  }
     return null;
 });
}
</script> 
</head>

<body onLoad="init()">
<table>
<tr><td>
<div id="dContainer"></div>
</td><td>
<div style="width:100px; height:200px; border:1px solid red; vertical-align:middle; ">dwdsfvvvvvvvvvvvvvvvvvvvvvvvvvvvvvd</div>
</td></tr>
<tr><td>
<div id="dContainer2"></div>
</td><td>
<div style="width:100px; height:200px; border:1px solid red; vertical-align:middle; ">dwdsfvvvvvvvvvvvvvvvvvvvvvvvvvvvvvd</div>
</td></tr></table>
<input type="button" name="" value="Get checked" onClick="getChecked()">
</body>
</html>
<script>
var grid;
function init(){
    var titleData = [{name:"name1", text:"title_1",  visible:true, hidden:false, sortable:true, dataType:"string"},
	                 {name:"name2", text:"title_2",  visible:true, sortable:true, sortable:false, dataType:"string"},
					 {name:"name3", text:"title_3",  visible:true, sortable:true, sortable:false, dataType:"string"},
					 {name:"name4", text:"title_4",  visible:true, sortable:true, dataType:"string"},
					 {name:"name5", text:"title_5",  visible:true, hidden:false, sortable:true, dataType:"string"},
					 {name:"name6", text:"title_6",  visible:false, sortable:true, dataType:"string"},
					 {name:"name7", text:"title_7",  visible:false, hidden:true, sortable:true, dataType:"string"}
	                 ]
					 
    grid = new Grid({id: "dContainer",
	                      width: "600px",
						  height: 200,
						  showCheckbox: false,
						  showSequence: true,
						  adaptOutline: true,
						  showPage: true,
						  whiteSpace: "nowrap",
						  isRender: false,
						  titleData: titleData,
						  page: {pageIndex:1,pageSize:20,pageCount:3,recordCount:0},
						  imgPath: "img/",
						  attachSvc: "makeData",
						  showTitle:false
						  });
	
	grid2 = new Grid({id: "dContainer2",
	                      width: "600px",
						  height: 200,
						  showCheckbox: false,
						  showSequence: true,
						  adaptOutline: true,
						  showPage: true,
						  whiteSpace: "nowrap",
						  isRender: false,
						  titleData: titleData,
						  page: {pageIndex:1,pageSize:20,pageCount:3,recordCount:0},
						  imgPath: "img/",
						  attachSvc: "makeData",
						  showTitle:false
						  });					  

	var strXML = "<items>";
	 for(var i=0; i<30; i++) {
	   strXML += "<item name1='row-"+i+"' name2='æ°¸è¿œçš„ä¸€ç­swg-"+i+"' name3='ç”? name4='22' name5='B030301' name6='16' name7='æ°¸è¿œçš„ä¸€ç?'/>"
	 }
	 strXML += "</items>";

	//grid.load(makeData(0,20));	
	//grid2.load(makeData(0,20));	
	//grid.load("data.xml");	
	//grid.load(strXML);	
	
	grid.reLoad = function(oPage){
	    grid.load(makeData(oPage.pageIndex, oPage.pageSize));
	}	
		
	grid.doClick = function(obj){
	     //alert(obj["name1"]);
		 //var obj1 = grid.getPicked();
		 //for(p in obj1)alert(p + ":" + obj1[p]);
	}
	
	grid.doDblClick = function(obj){
	    for(p in obj)alert(p + ":" + obj[p]);
	}
	
	grid.onContextmenu = function(obj, evt){
	     for(o in obj)alert(o+":"+obj[o]);
		 return;
    }
	
	grid2.onContextmenu = function(obj, evt){
	     for(o in obj)alert(o+":"+obj[o]);
		 return;
    }
	
	//grid.sortRule = function(a, b){
	    
	//}	  
	
}

function getChecked(){
    var col = grid.getChecked();
	alert(col.length);
}

function makeData(index, size){
    size = size || "10";
    var testData = new Array(); 
	  for(var i=0; i<size; i++)
	  {
		var recordData = new Object();
		recordData.name1 = "roqqqqqqqqqw-"+i;
		recordData.name2 = "swg-"+index;
		recordData.name3 = "name3"+i;
		recordData.name4 = "85";
		recordData.name5 = "name5"+i;  
		recordData.name6 = "name6"+i; 
		recordData.name7 = "";  
		if(i==2)recordData.name5="";
		testData.push(recordData);
	  }
	  return testData;
}

</script>
                                                                                              
